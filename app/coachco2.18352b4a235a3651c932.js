!function(e){function t(t){for(var r,c,i=t[0],l=t[1],u=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;o.push([0,1]),n()}({"/KVF":function(e,t,n){var r={"./en":"7dT6","./en.json":"7dT6","./fr":"9pOX","./fr.json":"9pOX"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="/KVF"},"/kYV":function(e,t,n){},0:function(e,t,n){n("55Il"),n("7NIr"),e.exports=n("LiWt")},1:function(e,t){},"6QpA":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("J4zp"),a=n.n(r),o=n("q1tI"),c=n.n(o),i=Object(o.createContext)();t.b=function(e){var t=e.children,n=Object(o.useState)(null),r=a()(n,2),l=r[0],u=r[1];return c.a.createElement(i.Provider,{value:{selectedAccount:l,setSelectedAccount:u}},t)}},"6ibL":function(e,t,n){"use strict";n.d(t,"n",(function(){return O})),n.d(t,"m",(function(){return w})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return N})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return P})),n.d(t,"k",(function(){return D})),n.d(t,"j",(function(){return B})),n.d(t,"l",(function(){return I})),n.d(t,"e",(function(){return H})),n.d(t,"c",(function(){return z})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return V}));var r=n("lSNA"),a=n.n(r),o=n("mwIZ"),c=n.n(o),i=n("QkVN"),l=n.n(i),u=n("QVEU"),s=n.n(u),d=n("TYy9"),f=n.n(d),m=n("7tbW"),b=n.n(m),p=n("NmtT"),j=n.n(p),_=n("jxQj"),v=n.n(_),g=n("qxfp"),h=n("zyvo");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.features,n=e.properties,r=s()(t,(function(e){return e.id}));return l()({},e,{properties:{start_place:{data:r[n.start_place.$oid]},end_place:{data:r[n.end_place.$oid]}}})},O=function(e){return f()(e.map((function(e){return e.series}))).map((function(t,n){return x(x({},t),{},{geojsonId:e[n]._id})})).map(C)},w=function(e){return c()(e,"properties.start_place.data.properties.display_name")},E=function(e){return c()(e,"properties.end_place.data.properties.display_name")},k=function(e){var t=new Date(e.properties.start_fmt_time),n=new Date(e.properties.end_fmt_time);return j()(n,t)},M=function(e){var t="m",n=e;return e>1e3&&(t="km",n=e/1e3),"".concat(Math.round(n)," ").concat(t)},N=function(e){return M(e.properties.distance)},L=function(e){var t=c()(e,"properties.manual_mode"),n=c()(e,"properties.sensed_mode"),r=n&&n.split("PredictedModeTypes.")[1];return t||r},S=function(e){return b()(f()(e.features.map((function(e){return e.features?e.features.map((function(e){return L(e)})):L(e)}))).filter(Boolean))},P=function(e){var t=D(e);if(t.lengtth<1)return g.G;for(var n=t[0],r=1;r<t.length;r++)t[r].distance>n.distance&&(n=t[r]);return n.mode},D=function(e){return f()(e.features.map((function(e){if(e.features)return e.features.map((function(e){return{id:e.id,mode:L(e),distance:c()(e,"properties.distance"),duration:c()(e,"properties.duration"),startDate:c()(e,"properties.start_fmt_time"),endDate:c()(e,"properties.end_fmt_time"),averageSpeed:A(c()(e,"properties.speeds"))}}))}))).filter(Boolean)},B=function(e,t){var n=D(e),r=["fr","en"].includes(t)?t:"en";return n.map((function(e){return x(x({},e),{},{distance:"".concat(M(e.distance)),duration:"".concat(v()(1e3*e.duration,{delimiter:" ",largest:2,round:!0,units:["h","m"],language:r,languages:{fr:{d:function(){return"j"},h:function(){return"h"},m:function(){return"min"},s:function(){return"s"},ms:function(){return"ms"}},en:{d:function(){return"d"},h:function(){return"h"},m:function(){return"min"},s:function(){return"s"},ms:function(){return"ms"}}}})),averageSpeed:"".concat(Math.round(e.averageSpeed)," km/h")})}))},I=function(e){return new Date(e.properties.start_fmt_time)},H=function(e){return new Date(e.properties.end_fmt_time)},z=function(e){var t=e.f,n=e.lang,r=e.date;return t(r,"fr"===n?"HH[h]mm":"HH:mm")},A=function(e){return 3.6*(e.reduce((function(e,t){return e+t}),0)/e.length)},T=function(e){var t=Object(h.b)(e);return"".concat(Math.round(t)," kcal")},V=function(e){var t=Object(h.a)(e);return"".concat(Math.round(t)," kg")}},"6k9G":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return w}));var r=n("4BeY"),a=n.n(r),o=n("IaFt"),c=n.n(o),i=new a.a({id:"icon-bike_65d46ca584727420e1c29afb24e1e3b9",use:"icon-bike_65d46ca584727420e1c29afb24e1e3b9-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="icon-bike_65d46ca584727420e1c29afb24e1e3b9">\n<path d="M12.5 3C12.5 4.10457 11.6046 5 10.5 5C9.39543 5 8.5 4.10457 8.5 3C8.5 1.89543 9.39543 1 10.5 1C11.6046 1 12.5 1.89543 12.5 3Z" />\n<path d="M8.45697 7.54303C8.63931 7.69896 8.83598 7.85182 9.04516 7.9962C9.81647 8.52854 10.8381 9 12 9C12.5523 9 13 8.55228 13 8C13 7.44772 12.5523 7 12 7C11.3793 7 10.7507 6.74323 10.1812 6.35018C9.61222 5.95746 9.1823 5.48301 8.97738 5.18643C8.72314 4.81846 8.27236 4.5 7.70064 4.5C7.30696 4.5 6.9294 4.65639 6.65102 4.93476L4.44715 7.13864C4.16084 7.42494 4 7.81325 4 8.21815C4 8.72859 4.2551 9.20525 4.67982 9.48839L7 11.0352V14C7 14.5523 7.44772 15 8 15C8.55228 15 9 14.5523 9 14V10.5C9 10.1656 8.8329 9.85342 8.5547 9.66795L7.22111 8.77889L8.45697 7.54303Z" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M16 13C16 14.6569 14.6569 16 13 16C11.3431 16 10 14.6569 10 13C10 11.3431 11.3431 10 13 10C14.6569 10 16 11.3431 16 13ZM14.5 13C14.5 13.8284 13.8284 14.5 13 14.5C12.1716 14.5 11.5 13.8284 11.5 13C11.5 12.1716 12.1716 11.5 13 11.5C13.8284 11.5 14.5 12.1716 14.5 13Z" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3 16C4.65685 16 6 14.6569 6 13C6 11.3431 4.65685 10 3 10C1.34315 10 0 11.3431 0 13C0 14.6569 1.34315 16 3 16ZM3 14.5C3.82843 14.5 4.5 13.8284 4.5 13C4.5 12.1716 3.82843 11.5 3 11.5C2.17157 11.5 1.5 12.1716 1.5 13C1.5 13.8284 2.17157 14.5 3 14.5Z" />\n</symbol>'}),l=(c.a.add(i),i),u=new a.a({id:"icon-bus_415f853847fd170ca8b598425515dddb",use:"icon-bus_415f853847fd170ca8b598425515dddb-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="icon-bus_415f853847fd170ca8b598425515dddb">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1 11C1 11.88 1.39 12.67 2 13.22V14.5C2 15.33 2.67 16 3.5 16C4.33 16 5 15.33 5 14.5V14H11V14.5C11 15.32 11.67 16 12.5 16C13.32 16 14 15.33 14 14.5V13.22C14.61 12.67 15 11.88 15 11V4C15 1 12 0 8 0C4 0 1 1 1 4V11ZM4.5 12C3.67 12 3 11.33 3 10.5C3 9.67 3.67 9 4.5 9C5.33 9 6 9.67 6 10.5C6 11.33 5.33 12 4.5 12ZM11.5 12C10.67 12 10 11.33 10 10.5C10 9.67 10.67 9 11.5 9C12.33 9 13 9.67 13 10.5C13 11.33 12.33 12 11.5 12ZM13 7H3V3H13V7Z" />\n</symbol>'}),s=(c.a.add(u),u),d=new a.a({id:"icon-car_cae29de63f2e481212037e98e9070dfc",use:"icon-car_cae29de63f2e481212037e98e9070dfc-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="icon-car_cae29de63f2e481212037e98e9070dfc">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M16 13.5C16 14.33 15.32 15 14.5 15C13.7189 15 13.0794 14.3976 13.0069 13.6431L13 13.5V13H3.00003V13.5C3.00003 14.33 2.33003 15 1.50003 15C0.71885 15 0.0794038 14.4065 0.00687781 13.6447L2.65946e-05 13.5L-0.000854492 6.98651C0.000298029 6.90775 0.010949 6.8278 0.032018 6.74801L0.0715499 6.62861L2.07155 1.62861C2.20823 1.28692 2.51974 1.0511 2.87877 1.00735L3.00003 1H13C13.368 1 13.7027 1.20165 13.8766 1.51875L13.9285 1.62861L15.9285 6.62861C15.9723 6.73809 15.9953 6.84917 16.0001 6.95827L16 13.5ZM3.50003 8C2.67003 8 2.00003 8.67 2.00003 9.5C2.00003 10.33 2.67003 11 3.50003 11C4.33003 11 5.00003 10.33 5.00003 9.5C5.00003 8.67 4.33003 8 3.50003 8ZM12.5 8C11.67 8 11 8.67 11 9.5C11 10.33 11.67 11 12.5 11C13.33 11 14 10.33 14 9.5C14 8.67 13.33 8 12.5 8ZM12.324 3H3.67703L2.47703 6H13.524L12.324 3Z" />\n</symbol>'}),f=(c.a.add(d),d),m=new a.a({id:"icon-plane_22e9ed98beea0170553db3e03775b4b4",use:"icon-plane_22e9ed98beea0170553db3e03775b4b4-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="icon-plane_22e9ed98beea0170553db3e03775b4b4">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5388 0.461149C14.915 -0.162685 13.9003 -0.15226 13.2895 0.484295L9.87894 4.08068L2.02506 1.13549C1.83777 1.06526 1.62671 1.11097 1.48527 1.25241L0.149401 2.58828C-0.0498005 2.78748 -0.0498005 3.11045 0.149401 3.30965C0.18146 3.34171 0.217649 3.36935 0.257014 3.39184L6.81841 7.14119L3.24779 10.7118L1.50892 10.2771C1.32376 10.2308 1.12825 10.2917 1.00219 10.435L0.140789 11.4144C-0.0452691 11.6259 -0.0246203 11.9482 0.18691 12.1343C0.227083 12.1696 0.272564 12.1984 0.321687 12.2196L2.7377 13.2622L3.78034 15.6782C3.89196 15.9369 4.19213 16.0561 4.45079 15.9444C4.49991 15.9232 4.54539 15.8945 4.58557 15.8591L5.56489 14.9977C5.7082 14.8717 5.76915 14.6762 5.72286 14.491L5.28814 12.7521L8.85876 9.18153L12.6081 15.7429C12.7479 15.9875 13.0595 16.0725 13.3041 15.9327C13.3434 15.9102 13.3796 15.8826 13.4117 15.8505L14.7476 14.5146C14.889 14.3732 14.9347 14.1621 14.8645 13.9749L11.9193 6.12102L15.5157 2.71053C16.1523 2.09964 16.1627 1.08502 15.5388 0.461149Z" />\n</symbol>'}),b=(c.a.add(m),m),p=new a.a({id:"icon-subway_33456d57d4027cd371ae5a4f7d484e6b",use:"icon-subway_33456d57d4027cd371ae5a4f7d484e6b-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="icon-subway_33456d57d4027cd371ae5a4f7d484e6b">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12.64 0.64C11.2 0.072 9.488 0 8 0C6.512 0 4.8 0.072 3.36 0.64C1.224 1.472 0 3.24 0 5.488V16H16V5.488C16 3.24 14.776 1.472 12.64 0.64ZM13 5.85714V10.8571C13 11.9278 12.2148 12.8151 11.1888 12.9745L12.2857 14.0714V14.4286H10.8571L9.42857 13H6.57143L5.14286 14.4286H3.71429V14.0714L4.81122 12.9745C3.78523 12.8151 3 11.9278 3 10.8571V5.85714C3 3.71429 5.14286 3 8 3C10.8571 3 13 3.71429 13 5.85714ZM4.42857 5.14286V8H11.5714V5.14286H4.42857ZM6.57143 10.5C6.57143 11.0917 6.09173 11.5714 5.5 11.5714C4.90827 11.5714 4.42857 11.0917 4.42857 10.5C4.42857 9.90827 4.90827 9.42857 5.5 9.42857C6.09173 9.42857 6.57143 9.90827 6.57143 10.5ZM10.5 11.5714C11.0917 11.5714 11.5714 11.0917 11.5714 10.5C11.5714 9.90827 11.0917 9.42857 10.5 9.42857C9.90827 9.42857 9.42857 9.90827 9.42857 10.5C9.42857 11.0917 9.90827 11.5714 10.5 11.5714Z" />\n</symbol>'}),j=(c.a.add(p),p),_=new a.a({id:"icon-train_70170486ca87a512b7204fe36c85d93a",use:"icon-train_70170486ca87a512b7204fe36c85d93a-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="icon-train_70170486ca87a512b7204fe36c85d93a">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15 4V11C15 12.4989 13.9007 13.7411 12.4643 13.9643L14 15.5V16H12L10 14H6L4 16H2V15.5L3.53571 13.9643C2.09932 13.7411 1 12.4989 1 11V4C1 1 4 0 8 0C12 0 15 1 15 4ZM3 7H7V3H3V7ZM9 3V7H13V3H9ZM6 10.5C6 11.3284 5.32843 12 4.5 12C3.67157 12 3 11.3284 3 10.5C3 9.67157 3.67157 9 4.5 9C5.32843 9 6 9.67157 6 10.5ZM11.5 12C12.3284 12 13 11.3284 13 10.5C13 9.67157 12.3284 9 11.5 9C10.6716 9 10 9.67157 10 10.5C10 11.3284 10.6716 12 11.5 12Z" />\n</symbol>'}),v=(c.a.add(_),_),g=new a.a({id:"icon-walk_3412ebb9703de376be3ce0e1998574bd",use:"icon-walk_3412ebb9703de376be3ce0e1998574bd-usage",viewBox:"0 0 16 17",content:'<symbol viewBox="0 0 16 17" xmlns="http://www.w3.org/2000/svg" id="icon-walk_3412ebb9703de376be3ce0e1998574bd">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.602 3.66294C10.2731 3.8827 9.88647 4 9.49091 4C8.96047 4 8.45177 3.78929 8.07669 3.41421C7.70162 3.03914 7.49091 2.53043 7.49091 2C7.49091 1.60444 7.6082 1.21776 7.82797 0.88886C8.04773 0.559962 8.36009 0.303617 8.72554 0.152242C9.09099 0.000866563 9.49312 -0.0387401 9.88109 0.0384303C10.269 0.115601 10.6254 0.306082 10.9051 0.585787C11.1848 0.865492 11.3753 1.22186 11.4525 1.60982C11.5296 1.99778 11.49 2.39992 11.3387 2.76537C11.1873 3.13082 10.9309 3.44318 10.602 3.66294ZM10.4807 7.39386C10.9048 7.75478 11.435 7.96757 11.9909 7.99998C12.2561 7.99998 12.5105 8.10533 12.698 8.29287C12.8855 8.48041 12.9909 8.73476 12.9909 8.99998C12.9909 9.26519 12.8855 9.51955 12.698 9.70708C12.5105 9.89462 12.2561 9.99998 11.9909 9.99998C11.4289 10.0037 10.8722 9.89107 10.3558 9.66905C9.83953 9.44703 9.37478 9.12048 8.9909 8.70998L8.3009 10.29L10.6309 12.23C10.7438 12.324 10.8346 12.4417 10.8968 12.5748C10.959 12.7079 10.9911 12.8531 10.9909 13V15C10.9909 15.2652 10.8855 15.5195 10.698 15.7071C10.5105 15.8946 10.2561 16 9.9909 16C9.72568 16 9.47133 15.8946 9.28379 15.7071C9.09626 15.5195 8.9909 15.2652 8.9909 15V13.47L6.4109 11.35L4.9309 15.35C4.83807 15.5993 4.65001 15.8015 4.40809 15.9121C4.16617 16.0228 3.8902 16.0328 3.6409 15.94C3.3916 15.8471 3.18938 15.6591 3.07873 15.4172C2.96809 15.1752 2.95807 14.8993 3.0509 14.65L5.8709 6.99998L4.7509 7.31998L3.9309 9.31998C3.83277 9.56663 3.64068 9.7642 3.39688 9.86922C3.15308 9.97424 2.87755 9.97811 2.6309 9.87998C2.38425 9.78185 2.18668 9.58975 2.08166 9.34596C1.97664 9.10216 1.97277 8.82663 2.0709 8.57998L3.0709 6.07998C3.12824 5.93757 3.2176 5.81028 3.33206 5.70796C3.44651 5.60565 3.58298 5.53106 3.7309 5.48998L7.0909 4.48998H7.2109C7.32042 4.47551 7.43138 4.47551 7.5409 4.48998H7.6409C8.08988 4.50248 8.5238 4.65464 8.88227 4.92529C9.24073 5.19593 9.50591 5.57158 9.6409 5.99998C9.76177 6.54357 10.0566 7.03293 10.4807 7.39386Z" />\n</symbol>'}),h=(c.a.add(g),g),y=new a.a({id:"icon-unknow_94cf41154b7a0fc55376c4d86e0f7d4b",use:"icon-unknow_94cf41154b7a0fc55376c4d86e0f7d4b-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="icon-unknow_94cf41154b7a0fc55376c4d86e0f7d4b">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.00002 12C8.82845 12 9.50002 12.6716 9.50002 13.5C9.50002 14.3284 8.82845 15 8.00002 15C7.1716 15 6.50002 14.3284 6.50002 13.5C6.50002 12.6716 7.1716 12 8.00002 12ZM8.96812 1.10088C10.7451 1.47188 12.1501 2.95788 12.4401 4.74988C12.7991 6.98088 11.5181 8.97188 9.61212 9.70288L9.50012 9.74188V10.9999H6.50012V8.49988C6.50012 7.72059 7.09539 7.07948 7.85573 7.00675L8.00012 6.99988C8.82812 6.99988 9.50012 6.32888 9.50012 5.49988C9.50012 4.67188 8.82812 3.99988 8.00012 3.99988C7.22012 3.99988 6.57912 4.59488 6.50712 5.35488L6.50012 5.49988H3.50012C3.50012 2.69888 6.06012 0.494882 8.96812 1.10088Z" />\n</symbol>'}),x=(c.a.add(y),y),C=n("qxfp"),O=function(e){switch(e){case C.a:return b;case C.b:return l;case C.f:return f;case C.d:return s;case C.C:return j;case C.F:return v;case C.H:return h;case C.G:default:return x}},w=[C.a,C.b,C.d,C.f,C.C,C.F,C.H,C.G]},"7dT6":function(e){e.exports=JSON.parse('{"nav":{"trips":"Trips","settings":"Settings"},"account":{"notFound":"No account found"},"devices":{"select":"Select a device","label":"Devices"},"trips":{"from":"Trips from","modes":{"AIR_OR_HSR":"Plane","BICYCLING":"Bike","CAR":"Car","SUBWAY":"Subway","TRAIN":"Train","UNKNOWN":"Unknown","WALKING":"Walking","BUS":"Bus"},"duration":"Duration","distance":"Distance","calories":"Calories","co2":"CO2"},"loadMore":"Load more trips","tripEdit":{"selectMode":"Modify the transportation mode"}}')},"9pOX":function(e){e.exports=JSON.parse('{"nav":{"trips":"Déplacements","settings":"Paramètres"},"account":{"notFound":"Aucun compte trouvé"},"devices":{"select":"Sélectionnez un appareil","label":"Appareils"},"trips":{"from":"Déplacements de","modes":{"AIR_OR_HSR":"Avion","BICYCLING":"Vélo","CAR":"Voiture","SUBWAY":"Métro","TRAIN":"Train","UNKNOWN":"Non reconnu","WALKING":"Marche","BUS":"Bus"},"duration":"Durée","distance":"Distance","calories":"Calories","co2":"CO2"},"loadMore":"Charger plus de trajets","tripEdit":{"selectMode":"Modifier le mode de transport"}}')},CTvO:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("QILm"),c=n.n(o),i=n("q1tI"),l=n.n(i),u=n("SH7X"),s=n("buk/"),d=n("V2U0"),f=n("dN3h"),m=n("17x9"),b=n.n(m),p=n("/Tkk"),j=n.n(p),_=n("c8ah"),v=n("cbAs"),g=n("ZLzk"),h=n("Ty5D"),y=n("vEVt"),x=n("gPjO"),C=n("MSWZ"),O=n("aN1g"),w=n("eBdR"),E=n("QaI8"),k=n("y6ex"),M=n("Oss/"),N=n("6ibL"),L=function(e){var t=e.trip,n=Object(i.useMemo)((function(){return Object(N.h)(t)}),[t]);return l.a.createElement(M.a,{mode:n})};L.propTypes={trip:b.a.object.isRequired};var S=l.a.memo(L),P=n("zyvo"),D={co2:{fontWeight:700}},B=function(e){var t=e.trip,n=e.withDateHeader,r=Object(s.e)(),a=r.f,o=r.t,c=Object(h.g)(),u=Object(i.useMemo)((function(){return Object(N.f)(t)}),[t]),d=Object(i.useMemo)((function(){return Object(N.g)(t)}),[t]),f=Object(i.useMemo)((function(){return Object(N.i)(t)}),[t]),m=Object(i.useMemo)((function(){return Object(N.d)(t)}),[t]),b=Object(i.useMemo)((function(){return a(Object(N.l)(t),"dddd DD MMMM")}),[a,t]),p=Object(i.useMemo)((function(){var e=Object(P.a)(t);return Math.round(100*e)/100}),[t]),j=Object(i.useMemo)((function(){var e=f.map((function(e){return o("trips.modes.".concat(e))})).join(", ");return"".concat(d," · ").concat(m," · ").concat(e," ")}),[d,f,o,m]),v=Object(i.useCallback)((function(){c.push("/trip/".concat(t.geojsonId))}),[c,t.geojsonId]);return l.a.createElement(l.a.Fragment,null,n?l.a.createElement(w.a,null,b):null,l.a.createElement(x.a,{button:!0,onClick:v},l.a.createElement(O.a,null,l.a.createElement(S,{trip:t})),l.a.createElement(y.a,{primary:u,secondary:j}),l.a.createElement(_.a,{className:"u-mh-half",style:D.co2,variant:"body2"},p," kg"),l.a.createElement(k.a,{icon:E.a,className:"u-coolGrey"})),l.a.createElement(C.a,{variant:"inset"}))};B.propTypes={trip:b.a.object.isRequired,withDateHeader:b.a.bool.isRequired};var I=l.a.memo(B),H=["data"],z=function(e){var t=e.account,n=Object(s.e)().t,r=Object(f.b)(t._id),a=Object(u.useQuery)(r.definition,r.options),o=a.data,m=c()(a,H),b=Object(u.isQueryLoading)(m)&&!Object(u.hasQueryBeenLoaded)(m),p=Object(i.useMemo)((function(){return o&&o.length?Object(N.n)(o):[]}),[o]);return b?l.a.createElement(d.a,{size:"xxlarge",className:"u-flex u-flex-justify-center"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(_.a,{variant:"h5",className:"u-mb-half"},n("trips.from")+" "+t.label),l.a.createElement(v.a,null,p.map((function(e,t){var n=0===t||!j()(Object(N.l)(e),Object(N.l)(p[t-1]));return l.a.createElement(I,{key:t,trip:e,withDateHeader:n})})),m.hasMore&&l.a.createElement(g.a,{label:n("loadMore"),fetchMore:m.fetchMore})))};z.propTypes={account:b.a.object.isRequired};var A=z,T=n("6QpA"),V=["data"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=Object(s.e)().t,t=Object(i.useContext)(T.a).selectedAccount,n=Object(f.a)(),r=Object(u.useQuery)(n.definition,n.options),a=r.data,o=c()(r,V);return Object(u.isQueryLoading)(o)?l.a.createElement(d.a,{size:"xxlarge",className:"u-flex u-flex-justify-center"}):t||a.length>0?l.a.createElement(A,{account:t||Z(Z({},a[0]),{},{label:a[0].auth.login})}):l.a.createElement("p",null,e("account.notFound"))}},"G0/2":function(e,t,n){var r={"./en.json":"6wRk","./fr.json":"wNxD"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="G0/2"},LiWt:function(e,t,n){"use strict";n.r(t);n("/8/d"),n("llna"),n("/kYV");var r=n("q1tI"),a=n.n(r),o=n("i8i4"),c=n("PRV4"),i=n("o8Rm"),l=n("SH7X"),u=n.n(l),s=n("buk/"),d=n("xIbs"),f=n("1I/2"),m=n("44Ds"),b=n.n(m),p=n("QCzH"),j=n("pZg0"),_=n.n(j),v={todos:{doctype:"io.mocks.todos",attributes:{},relationships:{}}},g=function(e,t){return/^\{\{\..*\}\}$/.test(e)?t:e},h=function(e){var t=e.app,r=e.locale,a={appIconDefault:n("ZAKO"),appNamePrefixDefault:_.a.name_prefix,appNameDefault:_.a.name,appLocaleDefault:"en"};return{appName:g(t.name,a.appNameDefault),appNamePrefix:g(t.prefix,a.appNamePrefixDefault),iconPath:g(t.icon,a.appIconDefault),lang:g(r,a.appLocaleDefault)}},y=b()((function(){var e=document.querySelector("[role=application]"),t=h(JSON.parse(e.dataset.cozy)),r=t.lang,a=t.appName,o=Object(p.a)(r,(function(e){return n("/KVF")("./".concat(e))})),c=function(){var e=document.querySelector("[role=application]"),t=JSON.parse(e.dataset.cozy),n=window.location.protocol,r="".concat(n,"//").concat(t.domain);return new u.a({uri:r,token:t.token,appMetadata:{slug:_.a.name,version:_.a.version},schema:v,store:!1})}();return function(e){var t=e.client,n=e.root,r=e.lang,a=e.appName,o=h(JSON.parse(n.dataset.cozy)),c=o.appNamePrefix,i=o.iconPath;cozy.bar.init({appName:a,appNamePrefix:c,cozyClient:t,iconPath:i,lang:r,replaceTitleOnMobile:!1})}({client:c,root:e,lang:r,appName:a}),{root:e,client:c,lang:r,polyglot:o}})),x=n("xYwX"),C=n("6QpA"),O=Object(c.a)({disableGlobal:!0});document.addEventListener("DOMContentLoaded",(function(){var e,t,n,r,c;e=y(),t=e.root,n=e.client,r=e.lang,c=e.polyglot,Object(o.render)(a.a.createElement(i.b,{generateClassName:O},a.a.createElement(l.CozyProvider,{client:n},a.a.createElement(C.b,null,a.a.createElement(s.b,{lang:r,polyglot:c},a.a.createElement(d.a,null,a.a.createElement(f.a,null,a.a.createElement(x.a,null))))))),t)}))},"Oss/":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("q1tI"),c=n.n(o),i=n("BuRe"),l=n("6k9G"),u=n("qxfp"),s=function(e){var t=e.mode,n=e.faded,r=Object(o.useMemo)((function(){return function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.G,n=(e={},a()(e,u.a,"#F05759"),a()(e,u.b,"#15CACD"),a()(e,u.d,"#BA5AE8"),a()(e,u.f,"#FF7B5E"),a()(e,u.C,"#8978FF"),a()(e,u.F,"#F1B61E"),a()(e,u.H,"#21B930"),a()(e,u.G,"#A4A7AC"),e);return n[t]}(t)}),[t]),s=Object(o.useMemo)((function(){return function(e){var t=e.faded,n=e.color;return t?{color:"var(--primaryColor)",backgroundColor:"var(--paperBackgroundColor)",border:"1px solid var(--borderMainColor)"}:{backgroundColor:n}}({faded:n,color:r})}),[r,n]);return c.a.createElement(i.a,{style:s,icon:Object(l.b)(t),size:32})};t.a=c.a.memo(s)},TT3P:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("xjMU"),c=n("w7SU"),i=n("buk/"),l=n("SH7X"),u=n("6QpA"),s=n("dN3h");t.a=function(){var e=Object(i.e)().t,t=Object(r.useContext)(u.a).setSelectedAccount,n=Object(s.a)(),d=Object(l.useQuery)(n.definition,n.options).data,f=Object(r.useMemo)((function(){return!d||d.length<1?[]:d.map((function(e){return{label:e.auth.login,_id:e._id}}))}),[d]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,null,e("devices.label")),a.a.createElement(o.a,{options:f,label:e("devices.label"),placeholder:e("devices.select"),onChange:function(e){return t(e)}}))}},ZAKO:function(e,t){e.exports="/img/icon.8bf777c1eccbdaed0fc4ef4d9bc4231b.svg"},dN3h:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l}));var r=n("SH7X"),a=n.n(r),o=n("qxfp"),c=function(e){return{definition:Object(r.Q)(o.i).where({"cozyMetadata.sourceAccount":e}).sortBy([{"cozyMetadata.sourceAccount":"desc"},{startDate:"desc"}]).indexFields(["cozyMetadata.sourceAccount","startDate"]).limitBy(50),options:{as:"".concat(o.i,"/sourceAccount/").concat(e),fetchPolicy:a.a.fetchPolicies.olderThan(3e4)}}},i=function(){return{definition:Object(r.Q)(o.h).where({account_type:"tracemob"}).select(["auth.login"]).indexFields(["account_type"]).limitBy(100),options:{as:"".concat(o.h,"/account_type"),fetchPolicy:a.a.fetchPolicies.olderThan(3e4)}}},l=function(e){return{definition:Object(r.Q)(o.i).getById(e),options:{as:"".concat(o.i,"/").concat(e),fetchPolicy:a.a.fetchPolicies.olderThan(3e4)}}}},fH6n:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("55Ip"),c=n("buk/"),i=n("9VR2"),l=n("fSd/"),u=n("rDu+"),s=n("Ratv");t.a=function(){var e=Object(c.e)().t;return a.a.createElement(i.a,null,a.a.createElement(l.e,null,a.a.createElement(l.b,null,a.a.createElement(o.b,{to:"/trips",className:l.c.className,activeClassName:l.c.activeClassName},a.a.createElement(l.a,{icon:u.a}),a.a.createElement(l.d,null,e("nav.trips")))),a.a.createElement(l.b,null,a.a.createElement(o.b,{to:"/settings",className:l.c.className,activeClassName:l.c.activeClassName},a.a.createElement(l.a,{icon:s.a}),a.a.createElement(l.d,null,e("nav.settings"))))))}},lg9q:function(e,t,n){"use strict";var r=n("QILm"),a=n.n(r),o=n("q1tI"),c=n.n(o),i=n("Ty5D"),l=n("SH7X"),u=n("V2U0"),s=n("J4zp"),d=n.n(s),f=n("lSNA"),m=n.n(f),b=n("3gGZ"),p=n("X+Uv"),j=n("1aYg");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=165,h=17,y=!0,x=function(e){var t=e.toolbarNode,n=e.header,r=e.content,a=Object(o.useRef)(),i=Object(o.useRef)(),l=Object(o.useRef)(),u=Object(o.useState)(!1),s=d()(u,2),f=s[0],m=s[1],_=Object(o.useState)(null),x=d()(_,2),C=x[0],O=x[1],w=Object(o.useState)(null),E=d()(w,2),k=E[0],M=E[1],N=Object(o.useState)(0),L=d()(N,2),S=L[0],P=L[1],D=Object(o.useMemo)((function(){return{root:v({borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",transition:"border-radius 0.5s",zIndex:"var(--zIndex-drawer)",boxShadow:"0 6px 16px 0 rgba(0, 0, 0, 0.5)"},{isTopPosition:f}.isTopPosition&&{borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:"0 0 1px 0 rgba(0, 0, 0, 0.5)"}),indicator:{width:"4rem",height:"0.25rem",borderRadius:"99px",backgroundColor:"var(--secondaryTextColor)"},stack:{backgroundColor:"var(--defaultBackgroundColor)"},header:{paddingLeft:"0.25rem",paddingRight:"0.25rem"}}}),[f]);Object(o.useEffect)((function(){var e=t?window.innerHeight-t.offsetHeight:window.innerHeight-1,n=Math.round(.33*e),r=parseFloat(getComputedStyle(l.current).getPropertyValue("height")),o=parseFloat(getComputedStyle(l.current).getPropertyValue("padding-bottom")),c=i.current.offsetHeight+r+o,u=e-a.current.offsetHeight;O([c,n,e]),M(n),P(u)}),[a,l,t]);return c.a.createElement(b.a,{peekHeights:C,defaultHeight:k,backdrop:!1,fullHeight:!1,onIndexChange:function(e){return function(e){var t=C.length-1;e!==t||f||m(!0),e!==t&&f&&m(!1)}(e)},styles:{root:D.root},threshold:0,springConfig:{tension:g,friction:h,clamp:y},disabledClosing:!0,snapPointSeekerMode:"next"},c.a.createElement("div",{ref:a},c.a.createElement("div",{"data-testid":"bottomSheet-header",className:"u-w-100 u-h-2-half u-pos-relative u-flex u-flex-items-center u-flex-justify-center",ref:i},c.a.createElement("div",{style:D.indicator})),c.a.createElement(p.a,{style:D.stack,className:"u-flex u-flex-column u-ov-hidden",spacing:"s"},c.a.createElement(j.a,{ref:l,style:D.header,className:"u-h-3 u-flex u-flex-items-center u-pb-half",elevation:0,square:!0},n),r)),c.a.createElement("div",{style:{height:S}}))},C=c.a.memo(x),O=n("lEaz"),w=n("y6ex"),E=n("SjAl"),k=n("wvTK"),M=n("yFc8"),N=cozy.bar,L=N.BarLeft,S=N.BarCenter,P={backButton:{marginRight:"0.25rem"}},D=function(e){var t=e.title,n=Object(i.g)(),r=Object(o.useCallback)((function(){return n.goBack()}),[n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(L,null,c.a.createElement(O.a,{style:P.backButton,onClick:r},c.a.createElement(w.a,{icon:E.a,size:16}))),c.a.createElement(S,null,c.a.createElement(M.a,{variant:"normal",className:"u-ellipsis"},c.a.createElement(k.a,{noWrap:!0},t))))},B=c.a.memo(D),I=n("buk/"),H=n("c8ah");function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){var t=e.title,n=e.value,r=e.highlighted,a=Object(o.useMemo)((function(){return function(e){var t=e.highlighted;return{infoBlock:{backgroundColor:t?"var(--primaryColor)":"none",margin:"0.25rem"},typography:A({},t&&{color:"var(--primaryContrastTextColor)"})}}({highlighted:r})}),[r]);return c.a.createElement("div",{style:a.infoBlock,className:"u-h-100 u-flex u-flex-column u-flex-items-center u-flex-justify-center u-flex-grow-1  u-bdrs-4"},c.a.createElement(H.a,{style:a.typography,variant:"caption"},t),c.a.createElement(H.a,{style:a.typography,variant:r?"h6":"body1"},n))},V=c.a.memo(T),R=n("6ibL"),Z=c.a.createContext(),F=function(){return Object(o.useContext)(Z)},q=function(e){var t=e.geojson,n=e.trip,r=e.children,a=Object(o.useMemo)((function(){return{geojson:t,trip:n}}),[t,n]);return c.a.createElement(Z.Provider,{value:a},r)},U=c.a.memo(q),G=function(){var e=F().trip,t=Object(I.e)().t,n=Object(o.useMemo)((function(){return Object(R.g)(e)}),[e]),r=Object(o.useMemo)((function(){return Object(R.d)(e)}),[e]),a=Object(o.useMemo)((function(){return Object(R.b)(e)}),[e]),i=Object(o.useMemo)((function(){return Object(R.a)(e)}),[e]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,{title:t("trips.duration"),value:n}),c.a.createElement(V,{title:t("trips.distance"),value:r}),c.a.createElement(V,{title:t("trips.calories"),value:a}),c.a.createElement(V,{title:t("trips.co2"),value:i,highlighted:!0}))},Q=c.a.memo(G),W=n("PsJY"),K=n("TSYQ"),Y=n.n(K),J=n("R/WZ"),X=n("OvNQ"),$=n("djpt"),ee=n("8aGg"),te=n("CKDk"),ne=n("mPFD"),re=Object(J.a)((function(e){return{dotStart:{marginTop:"9px"},dot:{marginBottom:"-1px"},connector:{width:"6px",backgroundColor:e.palette.primary.main},item:{marginTop:"-9px",paddingLeft:"11px","&::before":{padding:0,flexGrow:0}},contentWrapper:{display:"flex",marginLeft:"11px"},endLabel:{fontWeight:700}}})),ae=function(e){var t,n=e.label,r=e.endLabel,a=e.type,i=re(),l=Object(o.useMemo)((function(){return"end"!==a}),[a]),u=Object(o.useMemo)((function(){return"start"===a}),[a]);return c.a.createElement(X.a,{className:i.item},c.a.createElement($.a,null,c.a.createElement(ne.a,{className:Y()((t={},m()(t,i.dot,l),m()(t,i.dotStart,u),t)),color:"primary",variant:"outlined"}),l&&c.a.createElement(ee.a,{className:i.connector})),c.a.createElement(te.a,null,c.a.createElement("div",{className:i.contentWrapper},c.a.createElement(H.a,{className:"u-flex-grow-1",variant:"body1"},n),c.a.createElement(H.a,{className:i.endLabel,variant:"body2",component:"div"},r))))},oe=c.a.memo(ae),ce=n("BuRe"),ie=Object(J.a)((function(e){return{iconItem:{marginTop:"-14px","&::before":{padding:0,flexGrow:0}},iconDot:{backgroundColor:e.palette.background.paper,borderWidth:"1px",borderColor:e.palette.border.main,margin:0,padding:0,boxShadow:"none"},icon:{color:e.palette.primary.main,backgroundColor:e.palette.background.paper},connector:{width:"6px",backgroundColor:e.palette.primary.main}}})),le=function(e){var t=e.icon,n=e.label,r=e.endLabel,a=e.onClick,o=ie();return c.a.createElement(X.a,{className:o.iconItem,onClick:a},c.a.createElement($.a,null,c.a.createElement(ne.a,{className:o.iconDot},c.a.createElement(ce.a,{icon:t,className:o.icon,size:32})),c.a.createElement(ee.a,{className:o.connector})),c.a.createElement(te.a,{className:"u-flex"},c.a.createElement(H.a,{className:"u-flex-grow-1",variant:"body2",color:"textSecondary"},n),c.a.createElement(H.a,{className:o.endLabel,variant:"body2",component:"div"},r)))},ue=c.a.memo(le),se=n("6k9G"),de=n("qFRD"),fe=n("cbAs"),me=n("yXPU"),be=n.n(me),pe=n("o0o1"),je=n.n(pe),_e=n("gPjO"),ve=n("aN1g"),ge=n("vEVt"),he=n("JeaN"),ye=n("1kmH"),xe=n("D1y2"),Ce=n.n(xe),Oe=n("BkRI"),we=n.n(Oe),Ee=function(e){var t=e.geojson,n=e.sectionId,r=e.mode,a=t.series.flatMap((function(e,t){return e.features.flatMap((function(e,r){if(e.features)return e.features.flatMap((function(e,a){if(e.id===n)return{feature:e,serieIndex:t,firstIndex:r,secondIndex:a}}))}))})).find((function(e){return e}));if(a){var o=a.feature,c=a.serieIndex,i=a.firstIndex,l=a.secondIndex,u=Ce()(we()(o),"properties.manual_mode",r);return Ce()(we()(t),"series[".concat(c,"].features[").concat(i,"].features[").concat(l,"]"),u)}return t},ke=n("Oss/"),Me=function(e){var t=e.mode,n=e.section,r=e.closeModal,a=F().geojson,i=Object(l.useClient)(),u=Object(I.e)().t,s=t===n.mode,d=Object(o.useCallback)(function(){var e=be()(je.a.mark((function e(t){var o;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ee({geojson:a,sectionId:n.id,mode:t}),e.next=3,i.save(o);case 3:r();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,r,a,n.id]);return c.a.createElement(_e.a,{button:!0,onClick:function(){return d(t)}},c.a.createElement(ve.a,null,c.a.createElement(ke.a,{mode:t,faded:!0})),c.a.createElement(ge.a,{primary:u("trips.modes.".concat(t))}),c.a.createElement(he.a,{className:"u-flex u-flex-row"},c.a.createElement(ye.a,{defaultChecked:s,onChange:function(){return d(t)}})))},Ne=c.a.memo(Me),Le=function(e){var t=e.section,n=e.closeModal;return c.a.createElement(fe.a,null,se.a.map((function(e,r){return c.a.createElement(Ne,{key:r,section:t,closeModal:n,mode:e})})))},Se=c.a.memo(Le),Pe=function(e){var t=e.section,n=e.showModal,r=Object(I.e)().t;return c.a.createElement(de.a,{open:!0,onClose:function(){return n(!1)},title:r("tripEdit.selectMode"),content:c.a.createElement(Se,{section:t,closeModal:function(){return n(!1)}})})},De=c.a.memo(Pe),Be=function(){var e=F().trip,t=Object(I.e)(),n=t.t,r=t.f,a=t.lang,i=Object(o.useState)(!1),l=d()(i,2),u=l[0],s=l[1],f=Object(o.useState)(null),m=d()(f,2),b=m[0],p=m[1],j=Object(o.useMemo)((function(){return Object(R.j)(e,a)}),[a,e]);return c.a.createElement(c.a.Fragment,null,j.map((function(e,t){return c.a.createElement(ue,{key:t,label:"".concat(n("trips.modes.".concat(e.mode))," - ").concat(e.duration," - ").concat(e.distance," - ").concat(e.averageSpeed),endLabel:Object(R.c)({f:r,lang:a,date:new Date(e.endDate)}),icon:Object(se.b)(e.mode),onClick:function(){return function(e){s(!0),p(e)}(e)}})})),u&&c.a.createElement(De,{section:b,showModal:s}))},Ie=c.a.memo(Be),He=function(){var e=Object(I.e)(),t=e.f,n=e.lang,r=F().trip,a=Object(o.useMemo)((function(){return Object(R.m)(r)}),[r]),i=Object(o.useMemo)((function(){return Object(R.f)(r)}),[r]),l=Object(o.useMemo)((function(){return Object(R.c)({f:t,lang:n,date:Object(R.l)(r)})}),[t,n,r]),u=Object(o.useMemo)((function(){return Object(R.c)({f:t,lang:n,date:Object(R.e)(r)})}),[t,n,r]);return c.a.createElement(j.a,{elevation:0,square:!0},c.a.createElement(W.a,null,c.a.createElement(oe,{label:a,endLabel:l,type:"start"}),c.a.createElement(Ie,null),c.a.createElement(oe,{label:i,endLabel:u,type:"end"})))},ze=c.a.memo(He),Ae=n("tr08"),Te=n("4R65"),Ve=n.n(Te),Re=(n("bMVF"),n("zer9"),function(){var e=F().trip,t=Object(o.useRef)(),n=document.getElementById("coz-bar").offsetHeight,r=Object(o.useMemo)((function(){return function(e){var t=e.toolbarHeight;return{mapContainer:{height:"calc(100vh - ".concat(t,"px - var(--sidebarHeight) - env(safe-area-inset-bottom))")}}}({toolbarHeight:n})}),[n]),a=Object(Ae.a)();return Object(o.useEffect)((function(){var n=function(e){null!=e&&(e._leaflet_id=null);var t=Ve.a.map(e).setView([51.505,-.09],13);return Ve.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t),t}(t.current),r=Ve.a.geoJSON(e,function(e){return{style:function(t){return{weight:"section"===t.properties.feature_type?5:2,color:e.palette.primary.main}},pointToLayer:function(e,t){return Ve.a.marker(t,{icon:Ve.a.divIcon({html:"<div></div>",iconSize:[12,12],className:"cozy-leaflet-markers ".concat("end_place"===e.properties.feature_type?"cozy-leaflet-markers-end":"cozy-leaflet-markers-start")})})}}}(a));n.fitBounds(r.getBounds()),n.addLayer(r)}),[a,e]),c.a.createElement("div",{className:"u-w-100 u-pos-fixed",style:r.mapContainer},c.a.createElement("div",{className:"u-h-100",ref:t}))}),Ze=c.a.memo(Re),Fe=function(){var e=F().trip,t=document.getElementById("coz-bar"),n=Object(o.useMemo)((function(){return Object(R.f)(e)}),[e]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(B,{title:n}),c.a.createElement(Ze,null),c.a.createElement(C,{toolbarNode:t,header:c.a.createElement(Q,null),content:c.a.createElement(ze,null)}))},qe=c.a.memo(Fe),Ue=n("dN3h"),Ge=["data"],Qe=function(){var e=Object(i.h)().pathname,t=Object(o.useMemo)((function(){return e.split("/").pop()}),[e]),n=Object(Ue.c)(t),r=Object(l.useQuery)(n.definition,n.options),s=r.data,d=a()(r,Ge),f=Object(o.useMemo)((function(){return s&&s.length?Object(R.n)(s)[0]:null}),[s]);return Object(l.isQueryLoading)(d)?c.a.createElement(u.a,{size:"xxlarge",className:"u-flex u-flex-justify-center"}):c.a.createElement(U,{geojson:s[0],trip:f},c.a.createElement(qe,null))},We=c.a.memo(Qe);t.a=We},nw0P:function(e,t,n){var r={"./_lib/build_formatting_tokens_reg_exp/index.js":"kOWh","./ar/build_distance_in_words_locale/index.js":"XxX6","./ar/build_format_locale/index.js":"alis","./ar/index.js":"EDRf","./be/build_distance_in_words_locale/index.js":"LQ09","./be/build_format_locale/index.js":"kj7F","./be/index.js":"YEhR","./bg/build_distance_in_words_locale/index.js":"7K3h","./bg/build_format_locale/index.js":"RrdL","./bg/index.js":"isx8","./ca/build_distance_in_words_locale/index.js":"wqqj","./ca/build_format_locale/index.js":"qcV0","./ca/index.js":"Vwa+","./cs/build_distance_in_words_locale/index.js":"ZKDM","./cs/build_format_locale/index.js":"ipyF","./cs/index.js":"dvhP","./da/build_distance_in_words_locale/index.js":"2Mgc","./da/build_format_locale/index.js":"Gned","./da/index.js":"7ur/","./de/build_distance_in_words_locale/index.js":"5IWf","./de/build_format_locale/index.js":"THCn","./de/index.js":"bgw5","./el/build_distance_in_words_locale/index.js":"o/GB","./el/build_format_locale/index.js":"8T9h","./el/index.js":"dH0v","./en/build_distance_in_words_locale/index.js":"LZbM","./en/build_format_locale/index.js":"6DAA","./en/index.js":"Us+F","./eo/build_distance_in_words_locale/index.js":"qrnn","./eo/build_format_locale/index.js":"Bl15","./eo/index.js":"UB7v","./es/build_distance_in_words_locale/index.js":"GEfZ","./es/build_format_locale/index.js":"O+zC","./es/index.js":"/S0t","./fi/build_distance_in_words_locale/index.js":"VHtQ","./fi/build_format_locale/index.js":"Oydx","./fi/index.js":"ndVD","./fil/build_distance_in_words_locale/index.js":"uq4p","./fil/build_format_locale/index.js":"d7hw","./fil/index.js":"pNfm","./fr/build_distance_in_words_locale/index.js":"IzMR","./fr/build_format_locale/index.js":"I3Zg","./fr/index.js":"LKA2","./hr/build_distance_in_words_locale/index.js":"DPvn","./hr/build_format_locale/index.js":"puw3","./hr/index.js":"L9Jq","./hu/build_distance_in_words_locale/index.js":"w2RQ","./hu/build_format_locale/index.js":"/0iD","./hu/index.js":"Nm+E","./id/build_distance_in_words_locale/index.js":"JbvB","./id/build_format_locale/index.js":"0wlw","./id/index.js":"A6C3","./is/build_distance_in_words_locale/index.js":"qzMC","./is/build_format_locale/index.js":"S3yD","./is/index.js":"N4bE","./it/build_distance_in_words_locale/index.js":"MDEp","./it/build_format_locale/index.js":"aUJd","./it/index.js":"hmb4","./ja/build_distance_in_words_locale/index.js":"nNvt","./ja/build_format_locale/index.js":"buui","./ja/index.js":"uAXs","./ko/build_distance_in_words_locale/index.js":"oEw+","./ko/build_format_locale/index.js":"9SQf","./ko/index.js":"iW8+","./mk/build_distance_in_words_locale/index.js":"nmwZ","./mk/build_format_locale/index.js":"htxJ","./mk/index.js":"GzBU","./nb/build_distance_in_words_locale/index.js":"SL1f","./nb/build_format_locale/index.js":"CJ5F","./nb/index.js":"73vv","./nl/build_distance_in_words_locale/index.js":"Uyu0","./nl/build_format_locale/index.js":"doCD","./nl/index.js":"hCQt","./pl/build_distance_in_words_locale/index.js":"FUBD","./pl/build_format_locale/index.js":"nOYf","./pl/index.js":"B6yL","./pt/build_distance_in_words_locale/index.js":"aTPA","./pt/build_format_locale/index.js":"TTT0","./pt/index.js":"gdks","./ro/build_distance_in_words_locale/index.js":"gI+A","./ro/build_format_locale/index.js":"njjO","./ro/index.js":"r2yp","./ru/build_distance_in_words_locale/index.js":"KmPx","./ru/build_format_locale/index.js":"UUBw","./ru/index.js":"nz/o","./sk/build_distance_in_words_locale/index.js":"q2Bs","./sk/build_format_locale/index.js":"9sxn","./sk/index.js":"Wqan","./sl/build_distance_in_words_locale/index.js":"mlv2","./sl/build_format_locale/index.js":"vHkZ","./sl/index.js":"KYSo","./sr/build_distance_in_words_locale/index.js":"LlkS","./sr/build_format_locale/index.js":"RhjJ","./sr/index.js":"7mU3","./sv/build_distance_in_words_locale/index.js":"UNBN","./sv/build_format_locale/index.js":"zTNB","./sv/index.js":"hxgj","./th/build_distance_in_words_locale/index.js":"XAGa","./th/build_format_locale/index.js":"We2s","./th/index.js":"Pk+z","./tr/build_distance_in_words_locale/index.js":"aFZF","./tr/build_format_locale/index.js":"jh7A","./tr/index.js":"3ZWG","./zh_cn/build_distance_in_words_locale/index.js":"KdB7","./zh_cn/build_format_locale/index.js":"l4EP","./zh_cn/index.js":"8tMq","./zh_tw/build_distance_in_words_locale/index.js":"vyyr","./zh_tw/build_format_locale/index.js":"uYH7","./zh_tw/index.js":"QPlQ"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="nw0P"},pZg0:function(e,t){e.exports={name:"Coach CO2",slug:"coachco2",icon:"icon.svg",categories:[],version:"0.3.0",licence:"AGPL-3.0",editor:"Cozy Cloud",source:"https://github.com/cozy/coachCO2.git@build",developer:{name:"cozy",url:""},routes:{"/":{folder:"/",index:"index.html",public:!1}},permissions:{apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},settings:{description:"Required by the cozy-bar to display Claudy and know which applications are coming soon",type:"io.cozy.settings",verbs:["GET"]},accounts:{description:"Required to get konnector account",type:"io.cozy.accounts",verbs:["GET"]},"geojson-timeseries":{description:"Required to display geojson timeseries",type:"io.cozy.timeseries.geojson"}}}},qxfp:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"C",(function(){return l})),n.d(t,"F",(function(){return u})),n.d(t,"H",(function(){return s})),n.d(t,"G",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"w",(function(){return m})),n.d(t,"v",(function(){return b})),n.d(t,"u",(function(){return p})),n.d(t,"x",(function(){return j})),n.d(t,"k",(function(){return _})),n.d(t,"E",(function(){return v})),n.d(t,"D",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return x})),n.d(t,"s",(function(){return C})),n.d(t,"r",(function(){return O})),n.d(t,"q",(function(){return w})),n.d(t,"t",(function(){return E})),n.d(t,"B",(function(){return k})),n.d(t,"l",(function(){return M})),n.d(t,"j",(function(){return N})),n.d(t,"o",(function(){return L})),n.d(t,"n",(function(){return S})),n.d(t,"m",(function(){return P})),n.d(t,"p",(function(){return D})),n.d(t,"A",(function(){return B})),n.d(t,"z",(function(){return I})),n.d(t,"y",(function(){return H}));var r="io.cozy.timeseries.geojson",a="io.cozy.accounts",o="AIR_OR_HSR",c="BICYCLING",i="CAR",l="SUBWAY",u="TRAIN",s="WALKING",d="UNKNOWN",f="BUS",m=.258,b=.187,p=.152,j=1e3,_=3500,v=.00529,g=.00472,h=.137,y=.192,x=74.25,C=2,O=3.5,w=5,E=7,k=3,M=5,N=6.5,L=5.8,S=8,P=10,D=15.8,B=15,I=22.4,H=25.6},xYwX:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),a=n.n(r),o=n("Ty5D"),c=n("55Ip"),i=n("0cfB"),l=n("TSYQ"),u=n.n(l),s=n("SH7X"),d=n("jDpt"),f=n("le8I"),m=n("67rm"),b=n("buk/"),p=n("xIbs"),j=n("wvTK"),_=n("1I/2"),v=n("fH6n"),g=n("CTvO"),h=n("lg9q"),y=n("TT3P"),x=function(e){var t=e.children,n=Object(_.b)().isMobile,r=Object(o.h)().pathname.startsWith("/trip/");return a.a.createElement(d.a,{className:u()({"u-mh-half u-mv-1":n&&!r,"u-mh-2 u-mv-1":!n})},t)},C=function(){var e=Object(b.e)().t,t=Object(s.useClient)(),n=Object(_.b)().isMobile,r=cozy.bar.BarCenter;return a.a.createElement(c.a,null,a.a.createElement(d.b,null,n&&a.a.createElement(r,null,a.a.createElement(p.a,null,a.a.createElement(j.a,null,t.appMetadata.slug))),a.a.createElement(v.a,null),a.a.createElement(d.c,null,a.a.createElement(x,null,a.a.createElement(o.d,null,a.a.createElement(o.b,{path:"/trip/:geojsonId",component:h.a}),a.a.createElement(o.b,{path:"/trips",component:g.a}),a.a.createElement(o.b,{path:"/settings",component:y.a}),a.a.createElement(o.a,{from:"/",to:"/trips"}),a.a.createElement(o.a,{from:"*",to:"/trips"})))),a.a.createElement(m.a,{t:e}),a.a.createElement(f.a,null)))};t.a=Object(i.hot)(e)(a.a.memo(C))}).call(this,n("3UD+")(e))},zer9:function(e,t,n){},zyvo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n("6ibL"),a=n("qxfp");function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=function(e){var t,n=0,c=o(Object(r.k)(e));try{for(c.s();!(t=c.n()).done;){var i=t.value,l=i.distance/1e3;switch(i.mode){case a.a:if(l<=a.x){n+=l*a.w;break}l<=a.k?n+=l*a.v:n+=l*a.u;break;case a.f:n+=l*a.e;break;case a.d:n+=l*a.c;break;case a.C:n+=l*a.D;break;case a.F:n+=l*a.E;break;case a.G:}}}catch(u){c.e(u)}finally{c.f()}return n},l=function(e,t){return e*a.g*3.5/200*t},u=function(e){var t,n=0,c=o(Object(r.k)(e));try{for(c.s();!(t=c.n()).done;){var i=t.value,u=i.averageSpeed,s=i.duration/60,d=void 0;switch(i.mode){case a.H:d=u<=a.B?a.s:u<=a.l?a.r:u<=a.j?a.q:a.t;break;case a.b:d=u<=a.A?a.o:u<=a.z?a.n:u<=a.y?a.m:a.p}d&&(n+=l(d,s))}}catch(f){c.e(f)}finally{c.f()}return n}}});