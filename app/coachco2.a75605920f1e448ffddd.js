!function(e){function t(t){for(var n,i,c=t[0],l=t[1],s=t[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,c=1;c<a.length;c++){var l=a[c];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([0,1]),a()}({"+Vcn":function(e,t,a){"use strict";var n=a("lSNA"),r=a.n(n),o=a("QILm"),i=a.n(o),c=a("q1tI"),l=a.n(c),s=a("SH7X"),u=a("dN3h"),d=a("6t5v"),m=a("8kiM"),f=a("TSYQ"),p=a.n(f),b=a("R/WZ"),h=a("WVRf"),v=a("1aYg"),y=a("lEaz"),g=a("y6ex"),O=a("QaI8"),j=a("N1rN"),E=Object(b.a)((function(e){return{paper:{display:"inline-flex",width:264,borderRadius:1e3},iconButton:{color:e.palette.text.icon,boxShadow:e.shadows[2]}}})),x=function(e){var t=e.className,a=E();return l.a.createElement(h.a,{display:"flex",className:t},l.a.createElement(v.a,{className:a.paper,elevation:2}),l.a.createElement(h.a,{className:"u-ml-half",display:"inline-flex"},l.a.createElement(y.a,{className:a.iconButton,disabled:!0,size:"medium"},l.a.createElement(g.a,{icon:j.a})),l.a.createElement(y.a,{className:p()(a.iconButton,"u-ml-half"),disabled:!0,size:"medium"},l.a.createElement(g.a,{icon:O.a}))))},_=a("17x9"),w=a.n(_),C=a("MSWZ"),D=a("buk/"),M=a("RIqP"),S=a.n(M),k=a("44Ds"),P=a.n(k),Z=function(e){return Array(12).fill().map((function(t,a){return new Intl.DateTimeFormat("".concat(e,"-").concat(e.toUpperCase()),{month:"long"}).format(new Date(0,a))}))},N=function(e){return new Date(Math.min.apply(null,e))},A=function(e){return new Date(Math.max.apply(null,e))},T=function(e,t){return e.map((function(e,a){return t.includes(e)?null:a})).filter((function(e){return null!==e}))},B=function(e,t){var a=function(e){var t=A(e).getFullYear(),a=N(e).getFullYear(),n=Number(a);return Array(t-a+1).fill().map((function(){return n++})).sort().reverse()}(e),n=function(e){return S()(new Set(e.map((function(e){return e.getFullYear()}))))}(e),r=a.indexOf(t.getFullYear());return{years:a,yearSelectedIndex:r,disabledYearsIndexes:T(a,n)}},I=P()((function(e){var t=e.dates,a=e.selectedDate,n=e.lang,r=Z(n),o=N(t),i=A(t),c=a.getFullYear(),l=c===i.getFullYear(),s=c===o.getFullYear(),u=12;l?u=i.getMonth()+1:s&&(u=12-o.getMonth());var d,m=function(e){var t=e.monthCount,a=e.allMonthsName,n=e.endToStart;return a.slice(n?a.length-t:0,n?a.length:t)}({monthCount:u,allMonthsName:r,endToStart:s}),f=m.indexOf(r[a.getMonth()]);-1===f&&(l?d=i:s&&(d=o),f=m.indexOf(r[d.getMonth()]));var p=function(e){var t=e.dates,a=e.year,n=e.allMonthsName;return S()(new Set(t.map((function(e){return e.getFullYear()===a?n[e.getMonth()]:null})).filter((function(e){return null!==e}))))}({dates:t,year:c,allMonthsName:r});return{months:m,monthSelectedIndex:f,disabledMonthsIndexes:T(m,p)}})),z=P()((function(e){var t=e.oldDate,a=e.lang,n=e.value,r=e.type,o=e.dates,i=Z(a);if("year"===r){var c=new Date(new Date(t).setFullYear(n)),l=I({dates:o,selectedDate:c,lang:a}),s=l.months,u=l.monthSelectedIndex,d=i.indexOf(s[u]);return new Date(new Date(c).setMonth(d))}if("month"===r){var m=i.indexOf(n);return new Date(new Date(t).setMonth(m))}return t})),F=a("pVnL"),L=a.n(F),R=a("J4zp"),U=a.n(R),q=a("gd/W"),V=a("jjAL"),H=a("Z3vd"),Q=a("c8ah"),G=a("oCl1"),W=["children","className","spaceBetween"],Y=Object(b.a)((function(){return{button:{padding:"0 1rem",justifyContent:function(e){return e.spaceBetween?"space-between":"left"}},typography:{textTransform:"capitalize"}}})),K=function(e){var t=e.children,a=e.className,n=e.spaceBetween,r=i()(e,W),o=Y({spaceBetween:n});return l.a.createElement(H.a,L()({className:p()(o.button,a),endIcon:l.a.createElement(g.a,{icon:G.a,size:10})},r),l.a.createElement(Q.a,{className:o.typography},t))},X=["className","type","options","selectedIndex","disabledIndexes","onclick"],J=Object(b.a)((function(){return{paper:{textTransform:"capitalize",width:function(e){var t=e.anchorEl;return t?window.getComputedStyle(t).width:void 0},marginTop:2}}})),$=function(e){var t=e.className,a=e.type,n=e.options,r=e.selectedIndex,o=e.disabledIndexes,s=e.onclick,u=i()(e,X),d=Object(c.useState)(null),m=U()(d,2),f=m[0],p=m[1],b=Object(c.useState)(r||0),h=U()(b,2),v=h[0],y=h[1],g=J({anchorEl:f}).paper,O=function(e){return function(){p(null),y(e),s&&s(a,n[e])}};return Object(c.useEffect)((function(){void 0!==r&&y(r)}),[r]),l.a.createElement(l.a.Fragment,null,l.a.createElement(K,L()({"data-testid":"dropdown-button",className:t,onClick:function(e){p(e.currentTarget)}},u),n[v]),l.a.createElement(q.a,{"data-testid":"dropdown-menu",classes:{paper:g},anchorEl:f,getContentAnchorEl:null,keepMounted:!0,open:Boolean(f),onClose:function(){p(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},elevation:2},n.map((function(e,t){return l.a.createElement(V.a,{"data-testid":"dropdown-menuItem-".concat(t),key:t,onClick:O(t),selected:t===v,disabled:o&&o.includes(t)},e)}))))};$.proptypes={className:w.a.string,type:w.a.oneOfType([w.a.string,w.a.number]),options:w.a.array.isRequired,selectedIndex:w.a.number,disabledIndexes:w.a.array,onclick:w.a.func};var ee=$,te=Object(b.a)((function(e){return{paper:{display:"inline-flex",width:264,borderRadius:1e3},leftDropdownButton:{borderTopLeftRadius:1e3,borderBottomLeftRadius:1e3},rightDropdownButton:{borderTopRightRadius:1e3,borderBottomRightRadius:1e3,paddingRight:"1.2rem"},divider:{margin:"0.6rem 0"},iconButton:{color:e.palette.text.icon,boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper}}})),ae=function(e){var t=e.className,a=e.options,n=e.selectedDate,r=e.setSelectedDate,o=te(),i=Object(D.e)().lang,s=Object(c.useMemo)((function(){return I({dates:a,selectedDate:n,lang:i})}),[a,n,i]),u=s.months,d=s.monthSelectedIndex,m=s.disabledMonthsIndexes,f=Object(c.useMemo)((function(){return B(a,n)}),[a,n]),b=f.years,E=f.yearSelectedIndex,x=f.disabledYearsIndexes,_=function(e,t){var o=z({oldDate:n,lang:i,value:t,type:e,dates:a});r(o)},w=function(e){return function(){r((function(t){return new Date(t.setMonth(t.getMonth()+e))}))}},M=function(e){return function(e){var t=e.type,a=e.selectedDate,n=e.options,r=new Date(a.getFullYear(),a.getMonth());if("previous"===t){var o=N(n);return new Date(o.getFullYear(),o.getMonth()).getTime()===r.getTime()}if("next"===t){var i=A(n);return new Date(i.getFullYear(),i.getMonth()).getTime()===r.getTime()}return!1}({type:e,selectedDate:n,options:a})};return l.a.createElement(h.a,{display:"flex",className:t},l.a.createElement(v.a,{className:o.paper,elevation:2},l.a.createElement(ee,{"data-testid":"dropdown-button-year",type:"year",className:o.leftDropdownButton,options:b,onclick:_,selectedIndex:E,disabledIndexes:x}),l.a.createElement(C.a,{className:o.divider,orientation:"vertical",flexItem:!0}),l.a.createElement(ee,{"data-testid":"dropdown-button-month",type:"month",className:o.rightDropdownButton,fullWidth:!0,spaceBetween:!0,options:u,onclick:_,selectedIndex:d,disabledIndexes:m})),l.a.createElement(h.a,{className:"u-ml-half",display:"inline-flex"},l.a.createElement(y.a,{"data-testid":"previous-button",className:o.iconButton,onClick:w(-1),disabled:M("previous"),size:"medium"},l.a.createElement(g.a,{icon:j.a})),l.a.createElement(y.a,{"data-testid":"next-button",className:p()(o.iconButton,"u-ml-half"),onClick:w(1),disabled:M("next"),size:"medium"},l.a.createElement(g.a,{icon:O.a}))))};ae.proptypes={className:w.a.string,options:w.a.array.isRequired,selectedDate:w.a.number.isRequired,setSelectedDate:w.a.func.isRequired};var ne=ae,re=function(e){var t=e.className,a=e.options,n=e.isLoading,r=e.selectedDate,o=e.setSelectedDate;return n?l.a.createElement(x,{className:t}):l.a.createElement(ne,{className:t,options:a,selectedDate:r,setSelectedDate:o})},oe=["data"];function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(){var e=Object(d.b)(),t=e.selectedDate,a=e.setSelectedDate,n=Object(m.c)().account,r=Object(u.b)({accountId:null==n?void 0:n._id,limitBy:1e3}),o=Object(s.useQueryAll)(r.definition,ce(ce({},r.options),{},{enabled:Boolean(n)})),f=o.data,p=i()(o,oe),b=!n||Object(s.isQueryLoading)(p)||p.hasMore,h=Object(c.useMemo)((function(){return function(e,t){return e?null:t.map((function(e){return new Date(e.startDate)}))}(b,f)}),[b,f]);return Object(c.useEffect)((function(){h&&null===t&&a(A(h))}),[h,t,a]),Object(c.useEffect)((function(){return function(){a(null)}}),[]),l.a.createElement(re,{className:"u-mt-1-s u-ml-0-s u-flex-justify-center-s u-flex u-ml-2",isLoading:b||null===t,options:h,selectedDate:t,setSelectedDate:a})}},"/KVF":function(e,t,a){var n={"./en":"7dT6","./en.json":"7dT6","./fr":"9pOX","./fr.json":"9pOX"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="/KVF"},"/kYV":function(e,t,a){},0:function(e,t,a){a("Bau7"),a("7NIr"),e.exports=a("LiWt")},1:function(e,t){},"2E0U":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return s}));var n="io.cozy.apps",r="io.cozy.timeseries.geojson",o="io.cozy.accounts",i="io.cozy.coachco2.settings",c="io.cozy.jobs",l="cc.cozycloud.dacc_v2",s="cc.cozycloud.dacc.dev_v2";t.h={timeseries:{doctype:r,attributes:{},relationships:{}},files:{doctype:"io.cozy.files",attributes:{},relationships:{}},settings:{doctype:i,attributes:{},relationships:{}}}},"3zCr":function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("J4zp"),r=a.n(n),o=a("q1tI"),i=a.n(o),c=a("k4gI"),l=a("q54A"),s=a("7toa"),u=a("uPPc"),d=a("IAR5"),m={mediumHeightRatio:.66},f=function(e){var t=e.titleRef,a=Object(o.useState)(0),n=r()(a,2),f=n[0],p=n[1],b=Object(o.useState)(!0),h=r()(b,2),v=h[0],y=h[1],g=Object(o.useMemo)((function(){return function(e){var t=e.toolbarHeight;return{mapContainer:{height:"calc(100vh - ".concat(t,"px - var(--sidebarHeight) - env(safe-area-inset-bottom))")}}}({toolbarHeight:f})}),[f]);return Object(o.useEffect)((function(){null!=t&&t.current&&p(t.current.offsetHeight)}),[t]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"u-w-100 u-pos-fixed",style:g.mapContainer},i.a.createElement(d.a,null)),v&&i.a.createElement(c.a,{settings:m,backdrop:!0,onClose:function(){return y(!1)}},i.a.createElement(l.a,{className:"u-h-3 u-pb-half"},i.a.createElement(s.a,null)),i.a.createElement(u.a,null),i.a.createElement("div",{style:{height:"500px",backgroundColor:"red"}},"toto")))};t.b=i.a.memo(f)},"6ibL":function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return b})),a.d(t,"f",(function(){return h})),a.d(t,"e",(function(){return v}));var n=a("mwIZ"),r=a.n(n),o=a("44Ds"),i=a.n(o),c=a("X7BR"),l=a("6k9G"),s=a("e0hG"),u=function(e){return r()(e,"properties.manual_purpose")},d=function(e){return r()(e,"properties.start_place.data.properties.display_name")},m=function(e){return r()(e,"properties.end_place.data.properties.display_name")},f=function(e){var t=r()(e,"properties.manual_mode","").toUpperCase(),a=r()(e,"properties.sensed_mode","").toUpperCase(),n=l.b.includes(t),o=a.split("PREDICTEDMODETYPES.")[1],i=l.b.includes(o);return n&&t||i&&o||c.T},p=function(e){return e.features.map((function(e){var t=r()(e,"properties.start_fmt_time"),a=r()(e,"properties.end_fmt_time"),n=r()(e,"properties.speeds");return{id:e.id,mode:f(e),coordinates:r()(e,"geometry.coordinates"),timestamps:r()(e,"properties.timestamps"),distance:r()(e,"properties.distance"),distances:r()(e,"properties.distances"),duration:r()(e,"properties.duration"),startDate:t?new Date(t):t,endDate:a?new Date(a):a,speeds:n,averageSpeed:n?Object(s.a)(n):void 0}}))},b=i()((function(e){return e.features.filter((function(e){return"FeatureCollection"===e.type})).flatMap(p)})),h=function(e){return new Date(e.properties.start_fmt_time)},v=function(e){return new Date(e.properties.end_fmt_time)}},"6k9G":function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"c",(function(){return w})),a.d(t,"a",(function(){return C})),a.d(t,"f",(function(){return D})),a.d(t,"d",(function(){return M})),a.d(t,"e",(function(){return S}));var n=a("lSNA"),r=a.n(n),o=a("ITxS"),i=a("6Rff"),c=a("cStB"),l=a("Tz69"),s=a("501n"),u=a("SqOp"),d=a("BP58"),m=a("c/95"),f=a("5YfE"),p=a("c8rA"),b=a("7aXT"),h=a("NrOZ"),v=a("a/QU"),y=a("kJHp"),g=a("KoZ8"),O=a("R9Yk"),j=a("AanQ"),E=a("CrE2"),x=a("X7BR"),_=[x.a,x.c,x.e,x.g,x.O,x.S,x.U,x.T],w=function(e){switch(e){case x.a:return l.a;case x.c:return o.a;case x.g:return c.a;case x.e:return i.a;case x.O:return s.a;case x.S:return u.a;case x.U:return d.a;case x.T:default:return m.a}},C=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.T,a=(e={},r()(e,x.a,"#F05759"),r()(e,x.c,"#15CACD"),r()(e,x.e,"#BA5AE8"),r()(e,x.g,"#FF7B5E"),r()(e,x.O,"#8978FF"),r()(e,x.S,"#F1B61E"),r()(e,x.U,"#21B930"),r()(e,x.T,"#A4A7AC"),e);return a[t]},D=[x.o,x.V,x.H,x.I,x.q,x.C,x.m,x.l,x.D,x.B],M=function(e){switch(e){case x.o:return b.a;case x.V:return f.a;case x.H:return j.a;case x.I:return E.a;case x.q:return g.a;case x.C:return y.a;case x.m:return p.a;case x.l:return h.a;case x.D:return O.a;case x.B:default:return v.a}},S=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.B,a=(e={},r()(e,x.o,"#F1B61E"),r()(e,x.V,"#BA5AE8"),r()(e,x.H,"#8978FF"),r()(e,x.I,"#FF7B5E"),r()(e,x.q,"#15CACD"),r()(e,x.C,"#1CAAE8"),r()(e,x.m,"#21B930"),r()(e,x.l,"#F85AA8"),r()(e,x.D,"#C78542"),r()(e,x.B,"#A4A7AC"),e);return a[t]}},"6t5v":function(e,t,a){"use strict";a.d(t,"b",(function(){return l}));var n=a("J4zp"),r=a.n(n),o=a("q1tI"),i=a.n(o),c=Object(o.createContext)(),l=function(){var e=Object(o.useContext)(c);if(!e)throw new Error("useSelectDatesContext must be used within a SelectDatesProvider");return e};t.a=function(e){var t=e.children,a=Object(o.useState)(null),n=r()(a,2),l=n[0],s=n[1],u=Object(o.useMemo)((function(){return{selectedDate:l,setSelectedDate:s}}),[l]);return i.a.createElement(c.Provider,{value:u},t)}},"7dT6":function(e){e.exports=JSON.parse('{"nav":{"trips":"Trips","analysis":"Analysis","modes":"Modes of transport","purposes":"Purposes of travel","settings":"Settings"},"folder":{"administrative":"Administrative","coachco2":"Coach CO2"},"devices":{"select":"Select a device","label":"Data source"},"trips":{"trips":"Trips","from":"Trips from","modes":{"AIR_OR_HSR":"Plane","BICYCLING":"Bike","CAR":"Car","SUBWAY":"Subway","TRAIN":"Train","UNKNOWN":"Unknown","WALKING":"Walking","BUS":"Bus"},"purposes":{"HOME":"Home","WORK":"Work","SCHOOL":"School","SHOPPING":"Shopping","MEAL":"Meal","PERSONAL_MED":"Personal","EXERCISE":"Sport","ENTERTAINMENT":"Entertainment","PICK_DROP":"Pick & drop","OTHER_PURPOSE":"Unknown"},"duration":"Duration","distance":"Distance","calories":"Calories","co2":"CO2"},"loadMore":"Load more trips","tripEdit":{"selectMode":"Modify the transportation mode","selectPurpose":"Modify the travel purpose"},"purpose":"Reason for travel","analysis":{"mode":"CO2 emissions","purpose":"CO2 emissions","travels":"%{smart_count} travel |||| %{smart_count} travel","emittedCO2":"emitted CO2"},"export":{"label":"Export","filename":"%{today} - Trips %{accountLabel}.csv","button":"Export trips in CSV","modal":{"button":{"close":"Close","viewInDrive":"View in Drive"},"title":"Exporting","content":{"done":"The \\"%{filename}\\" file was created in the \\"Drive%{pathAppDir}\\" folder of your Cozy.","progress":"The export of your trips is in progress, please wait..."}}},"empty":{"title":"Add your trips","text":"This application is in experimental phase. It works at this stage only if you are a user of the mobile application \\"TraceMob\\" and that you have configured the connector in your Cozy."},"manifest":{"short_description":"Keep track of your trips and analyze their impact on the environment.","long_description":"CoachCO2 is a self data application developed within the framework of the **territory of La Rochelle** and the [Agremob](https://agremob.com/) program.\\n\\n&nbsp;\\n\\nIts ambition is to **help you** :\\n- to **become aware of the issues** related to mobility,\\n- to **question your travel habits**,\\n- and **find more sustainable alternatives** (yes it is possible!).\\n\\nAll this in complete confidentiality, as always in your Cozy: **only you have the right to access your data**, and you have the control to share it with whomever you want, whenever and if YOU want.\\n\\nIts objective is also to **enable the emergence of new ecomobility projects or offers** thanks to the expertise of the program\'s partner structures.\\n\\n&nbsp;\\n\\nToday this application forms a duo with **the mobile application TraceMob** whose connector, also present in the store of your Personal Cloud, collects and saves your mobility tracks at home.\\n\\nTomorrow **other sensors will complete your data**. The application, itself under development, is today focused on mobility, tomorrow other sources of CO2 may extend its scope.\\n\\n&nbsp;\\n\\n[Agremob](https://agremob.com/) makes this application **a common good** that can be used beyond the borders of the La Rochelle agglomeration. If your Cozy\'s host does not offer it in its own store, contact them!","permissions":{"apps":{"description":"Required by the cozy-bar to display the icons of the apps"},"settings":{"description":"Required by the cozy-bar to display Claudy and know which applications are coming soon"},"accounts":{"description":"Required to get konnector account"},"files":{"description":"Required to access the files for saved your export of trips"},"geojson-timeseries":{"description":"Required to display geojson timeseries"},"coachco2.settings":{"description":"Used to manage your Coach CO2 settings"}}},"dacc":{"settings":{"label":"Data transmission","anonymous_participation":"Participate anonymously in the calculation of average CO2 emissions","hideAlerter":"Hide DACC alerter"},"tripsCard":{"label":"Compare your emissions to the average of other users of the application?","discard":"No, thank you","accept":"Compare"},"compareDialog":{"title":"Compare anonymously","primaryText":"In order to average the emissions of users, and because your Cozy has made a promise to you to never disclose your data without your explicit request, it will ask you for the right to send this data.","secondaryText":"This data will be aggregated and anonymous and will not contain any identifiers or locations.","action":"I understood"},"permissionsDialog":{"title":"Request for permissions","primaryText":"The CO2 Coach application requires the following permissions from your Cozy:","secondaryText":"Once authorized, the permissions can be modified in the settings","why_asking":"Why ask me for these permissions?","export_outside":"Exporting out of Cozy","anonymized_emissions":"My anonymized CO2 emissions","accept":"Always allow","refuse":"Refuse"},"reasonsDialog":{"title":"Reasons for permissions","content":"Because your Cozy has made a promise to you to never disclose your private data, it will always ask you for the right to let an application send it out."}},"vericalBarChart":{"title":"CO2 emissions","legend":{"yours":"Your emissions","average":"Average users of the app"}}}')},"7toa":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("buk/"),i=a("lSNA"),c=a.n(i),l=a("c8ah");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e){var t=e.title,a=e.value,o=e.highlighted,i=Object(n.useMemo)((function(){return function(e){var t=e.highlighted;return{infoBlock:{backgroundColor:t?"var(--primaryColor)":"none",margin:"0.5rem"},typography:u({},t&&{color:"var(--primaryContrastTextColor)"})}}({highlighted:o})}),[o]);return r.a.createElement("div",{style:i.infoBlock,className:"u-h-100 u-flex u-flex-column u-flex-items-center u-flex-justify-center u-flex-grow-1  u-bdrs-4"},r.a.createElement(l.a,{style:i.typography,variant:"caption"},t),r.a.createElement(l.a,{style:i.typography,variant:o?"h6":"body1"},a))},m=r.a.memo(d),f=a("iThD"),p=a("EY4r"),b=function(){var e=Object(p.b)().timeserie,t=Object(o.e)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{title:t("trips.duration"),value:Object(f.h)(e)}),r.a.createElement(m,{title:t("trips.distance"),value:Object(f.g)(e)}),r.a.createElement(m,{title:t("trips.calories"),value:Object(f.j)(e)}),r.a.createElement(m,{title:t("trips.co2"),value:Object(f.i)(e),highlighted:!0}))};t.a=r.a.memo(b)},"8kiM":function(e,t,a){"use strict";a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return v}));var n=a("QILm"),r=a.n(n),o=a("J4zp"),i=a.n(o),c=a("q1tI"),l=a.n(c),s=a("SH7X"),u=a("Nu4l"),d=function(e,t,a){var n=Object(s.useClient)();if(e.isLoading||t.isLoading)return null;if(null===a){var r=e.data[0];if(r)return r.account;var o=t.data[0];return o?(Object(u.a)({client:n,setting:r,account:o}),o):null}return a},m=a("dN3h"),f=["data"],p=["data"],b=Object(c.createContext)(),h=function(){var e=Object(c.useContext)(b);if(!e)throw new Error("useAccountContext must be used within a AccountProvider");return e},v=function(e){return e.auth.login};t.a=function(e){var t=e.children,a=Object(c.useState)(null),n=i()(a,2),o=n[0],h=n[1],v=Object(s.useClient)(),y=Object(m.e)(),g=Object(s.useQuery)(y.definition,y.options),O=g.data,j=r()(g,f),E=Object(s.isQueryLoading)(j),x=Object(m.a)(),_=Object(s.useQuery)(x.definition,x.options),w=_.data,C=r()(_,p),D=Object(s.isQueryLoading)(C),M=d({data:O,isLoading:E},{data:w,isLoading:D},o),S=E||D,k=Object(c.useCallback)((function(e){Object(u.a)({client:v,setting:O[0],account:e}),h(e)}),[v,O]),P=Object(c.useMemo)((function(){return{accounts:w,account:o,setAccount:k,isAccountLoading:S}}),[w,S,o,k]);return Object(c.useEffect)((function(){(null==M?void 0:M._id)!==(null==o?void 0:o._id)&&h(M)}),[M,o]),l.a.createElement(b.Provider,{value:P},t)}},"9muV":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("mgfL"),i=a.n(o),c=a("V2U0"),l=a("8kiM"),s=a("YB/B"),u=a("J4zp"),d=a.n(u),m=a("QILm"),f=a.n(m),p=a("aR52"),b=a("buk/"),h=a("w7SU"),v=a("c8ah"),y=a("e5eR"),g=a("SH7X"),O=a("yXPU"),j=a.n(O),E=a("o0o1"),x=a.n(E),_=a("dN3h"),w=a("lSNA"),C=a.n(w),D=a("RIqP"),M=a.n(D),S=a("xweI"),k=a.n(S),P=a("sWYD"),Z=a("Vggm"),N=a.n(Z),A=a("6ibL"),T=a("X7BR"),B=a("2E0U"),I=g.models.folder,z=I.MAGIC_FOLDERS,F=I.ensureMagicFolder,L=I.getReferencedFolder,R="".concat(B.b,"/coachco2"),U=function(){var e=j()(x.a.mark((function e(t,a){var n,r,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t,{_id:R,_type:B.b});case 2:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,F(t,z.ADMINISTRATIVE,"/".concat(a("folder.administrative")));case 9:return r=e.sent,o=r.path,e.next=13,F(t,z.COACH_CO2,"".concat(o,"/").concat(a("folder.coachco2")));case 13:return i=e.sent,e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=a("iThD");function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){C()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=g.models.file.uploadFileWithConflictStrategy,G=function(e,t){return t("export.filename",{today:Object(P.a)(new Date,"yyyy MM dd"),accountLabel:e})},W=function(e){return[Object.keys(e[0])].concat(M()(e)).map((function(e){return Object.values(e).map((function(e){return e?'"'.concat(e,'"'):" "})).toString()})).join("\n")},Y=function(e){var t=e.flatMap((function(e){return Object(A.c)(e).map((function(t){var a,n,r=(a={},C()(a,T.h.sectionStartDate,t.startDate),C()(a,T.h.sectionEndDate,t.endDate),C()(a,T.h.sectionDuration,t.duration),C()(a,T.h.sectionDistance,t.distance),C()(a,T.h.sectionMode,t.mode),C()(a,T.h.sectionCoordinates,t.coordinates),C()(a,T.h.sectionDistances,t.distances),C()(a,T.h.sectionTimestamps,t.timestamps),C()(a,T.h.sectionSpeeds,t.speeds),a);return H(H({},(n={},C()(n,T.h.tripId,e.id),C()(n,T.h.tripStartDate,Object(A.f)(e)),C()(n,T.h.tripEndDate,Object(A.e)(e)),C()(n,T.h.tripStartDisplayName,Object(A.d)(e)),C()(n,T.h.tripArrivalDisplayName,Object(A.a)(e)),C()(n,T.h.tripPurpose,Object(A.b)(e)),n)),r)}))}));return k()(t,T.h.tripId)},K=function(){var e=j()(x.a.mark((function e(t){var a,n,r,o,i,c,l,s,u,d,m;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,n=t.t,r=t.timeseries,o=t.accountName,i=Object(q.r)(r),c=Y(i),l=W(c),s=G(o,n),e.prev=5,e.next=8,U(a,n);case 8:return u=e.sent,e.next=11,Q(a,l,{name:s,contentType:"text/csv",dirId:u._id,conflictStrategy:"rename"});case 11:return d=e.sent,m=d.data,e.abrupt("return",{appDir:u,fileCreated:m,isLoading:!1});case 16:return e.prev=16,e.t0=e.catch(5),N()("error",e.t0),e.abrupt("return",{appDir:null,fileCreated:null,isLoading:!0});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),X=["data"],J=function(){var e=Object(b.e)().t,t=Object(g.useClient)(),a=Object(l.c)().account,r=Object(n.useState)(!1),o=d()(r,2),i=o[0],c=o[1],s=Object(n.useState)({appDir:null,fileCreated:null,isLoading:!0}),u=d()(s,2),m=u[0],p=m.appDir,h=m.fileCreated,v=m.isLoading,y=u[1],O=Object(_.g)({accountId:null==a?void 0:a._id,limitBy:1e3}),E=Object(g.useQueryAll)(O.definition,O.options),w=E.data,C=f()(E,X),D=Object(g.isQueryLoading)(C)||C.hasMore;return Object(n.useEffect)((function(){D||i||p||function(){var n=j()(x.a.mark((function n(){var r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.next=3,K({client:t,t:e,timeseries:w,accountName:Object(l.b)(a)});case 3:r=n.sent,y(r),c(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[a,p,t,i,D,e,w]),{isLoading:v,appDir:p,file:h}},$=function(e){var t=e.onClose,a=Object(b.e)().t,n=Object(g.useClient)(),o=J(),i=o.file,c=o.appDir;if(o.isLoading)return r.a.createElement(y.a,{open:!0,title:a("export.modal.title"),content:r.a.createElement(v.a,{color:"textPrimary"},a("export.modal.content.progress"))});var l=Object(g.generateWebLink)({slug:"drive",cozyUrl:n.getStackClient().uri,subDomainType:n.getInstanceOptions().subdomain,pathname:"/",hash:"folder/".concat(c._id)});return r.a.createElement(y.a,{open:!0,onClose:t,title:a("export.modal.title"),content:r.a.createElement(v.a,{color:"textPrimary"},a("export.modal.content.done",{filename:i.name,pathAppDir:c.path})),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"secondary",onClick:t,label:a("export.modal.button.close")}),r.a.createElement(p.a,{href:l,target:"_blank",label:a("export.modal.button.viewInDrive")}))})},ee=["accountName"],te=function(e){var t=e.accountName,a=f()(e,ee),o=Object(b.e)().t,i=Object(n.useState)(!1),c=d()(i,2),l=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",a,r.a.createElement(h.a,null,o("export.label")),r.a.createElement(p.a,{busy:!1,variant:"secondary",label:o("export.button"),onClick:function(){return s(!0)}})),l&&r.a.createElement($,{onClose:function(){return s(!1)},accountName:t}))},ae=Object(n.memo)(te),ne=a("xjMU"),re=function(e){var t=Object(b.e)().t,a=Object(l.c)(),n=a.accounts,o=a.account,i=a.setAccount,c=n.map((function(e){return{label:Object(l.b)(e),value:e._id}})),s={label:Object(l.b)(o),value:o._id};return r.a.createElement("div",e,r.a.createElement(h.a,null,t("devices.label")),r.a.createElement(ne.a,{options:c,value:s,label:t("devices.label"),placeholder:t("devices.select"),onChange:function(e){var t=e.value;return i(n.find((function(e){return e._id===t})))}}))},oe=a("+iqp"),ie=a("DMTX"),ce=a("lF6h"),le=function(e){var t=Object(b.e)().t,a=Object(ce.a)("allowSendDataToDacc"),n=a.isLoading,o=a.value,i=a.save;return r.a.createElement("div",e,r.a.createElement(h.a,null,t("dacc.settings.label")),r.a.createElement(ie.a,{className:"u-ml-0",label:t("dacc.settings.anonymous_participation"),labelPlacement:"start",checked:o,disabled:n,onChange:function(e){i(e.target.checked)},control:r.a.createElement(oe.a,{color:"primary"})}))},se=function(e){var t=Object(b.e)().t,a=Object(ce.a)("hideDaccAlerter"),n=a.isLoading,o=a.value,i=a.save;return r.a.createElement("div",e,r.a.createElement(ie.a,{className:"u-ml-0",label:r.a.createElement(v.a,{style:{color:"var(--infoColor)"}},t("dacc.settings.hideAlerter")),labelPlacement:"start",checked:o,disabled:n,onChange:function(e){i(e.target.checked)},control:r.a.createElement(oe.a,{color:"primary"})}))},ue=a("WVRf"),de=a("1I/2"),me=a("pZg0"),fe=function(){var e=Object(de.b)().isMobile;return r.a.createElement(ue.a,{color:"var(--infoColor)",position:"fixed",right:"1rem",bottom:"calc(1rem + ".concat(e?"var(--sidebarHeight)":"0rem",")")},me.version)};t.a=function(){var e=Object(l.c)().account;return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null),r.a.createElement("div",{className:"u-mh-1 u-mv-1-half"},r.a.createElement(re,null),r.a.createElement(le,{className:"u-mt-1-half"}),i()("coachco2.admin-mode")&&r.a.createElement(se,{className:"u-mt-half-s"}),r.a.createElement(ae,{className:"u-mt-1-half",accountName:Object(l.b)(e)}),i()("coachco2.admin-mode")&&r.a.createElement(fe,null))):r.a.createElement(c.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"})}},"9pOX":function(e){e.exports=JSON.parse('{"nav":{"trips":"Déplacements","analysis":"Analyses","modes":"Modes de transport","purposes":"Motifs de déplacement","settings":"Paramètres"},"folder":{"administrative":"Administratif","coachco2":"Coach CO2"},"devices":{"select":"Sélectionnez un appareil","label":"Source des données"},"trips":{"trips":"Déplacements","from":"Déplacements de","modes":{"AIR_OR_HSR":"Avion","BICYCLING":"Vélo","CAR":"Voiture","SUBWAY":"Métro","TRAIN":"Train","UNKNOWN":"Non reconnu","WALKING":"Marche","BUS":"Bus"},"purposes":{"HOME":"Domicile","WORK":"Travail","SCHOOL":"École","SHOPPING":"Achats","MEAL":"Repas","PERSONAL_MED":"Personnel","EXERCISE":"Sport","ENTERTAINMENT":"Loisir","PICK_DROP":"Dépose","OTHER_PURPOSE":"Indéfini"},"duration":"Durée","distance":"Distance","calories":"Calories","co2":"CO2"},"loadMore":"Charger plus de trajets","tripEdit":{"selectMode":"Modifier le mode de transport","selectPurpose":"Modifier le motif du déplacement"},"purpose":"Motif du déplacement","analysis":{"mode":"Émissions de CO2","purpose":"Émissions de CO2","travels":"%{smart_count} déplacement |||| %{smart_count} déplacements","emittedCO2":"CO2 émis"},"export":{"label":"Export","filename":"%{today} - Déplacements %{accountLabel}.csv","button":"Exporter les déplacements en CSV","modal":{"button":{"close":"Fermer","viewInDrive":"Voir dans Drive"},"title":"Exportation","content":{"done":"Le fichier \\"%{filename}\\" a été créé dans le dossier \\"Drive%{pathAppDir}\\" de votre Cozy.","progress":"L’export de vos déplacements est en cours, merci de patienter..."}}},"empty":{"title":"Ajoutez vos trajets","text":"Cette application est en phase expérimentale. Elle fonctionne à ce stade uniquement si vous êtes utilisateur de l\'application mobile \\"TraceMob\\" et que vous en avez configuré le connecteur dans votre Cozy."},"manifest":{"short_description":"Conservez l\'historique de vos déplacements et analysez leurs impacts sur l\'environnement.","long_description":"CoachCO2 est une application de self data développée dans le cadre du **territoire de la Rochelle** et du programme [Agremob](https://agremob.com/).\\n\\n&nbsp;\\n\\nElle a pour ambition de **vous aider** :\\n- à **prendre conscience des enjeux** liés à la mobilité,\\n- à **questionner vos habitudes** de déplacements,\\n- et **trouver des alternatives** plus durables (oui c’est possible !).\\n\\nCeci en toute confidentialité, comme toujours dans votre Cozy : **vous êtes le seul à avoir le droit d\'accéder à vos données**, et vous avez le contrôle de les partager avec qui vous vous voulez, quand et si VOUS le souhaitez.\\n\\nSon objectif est aussi de **permettre l’émergence de nouveaux projets ou offres d’écomobilité** grâce à l’expertise de structures partenaires du programme.\\n\\n&nbsp;\\n\\nAujourd\'hui cette application forme un duo avec **l\'application mobile TraceMob** dont le connecteur, présent aussi dans le store de votre Cloud Personnel, collecte et sauvegarde vos traces de mobilité chez vous.\\n\\nDemain **d\'autres capteurs compléteront vos données**. L\'application, elle-même en cours de développement, est aujourd\'hui tournée vers la mobilité, demain d\'autres sources de CO2 pourront étendre son champ d\'action.\\n\\n&nbsp;\\n\\n[Agremob](https://agremob.com/) fait de cette application **un bien commun** utilisable au-delà des frontières de l\'agglomération de la Rochelle. Si l\'hébergeur de votre Cozy ne la propose pas dans son propre store, contactez-le !","permissions":{"apps":{"description":"Utilisé par la cozy-bar pour afficher les icônes des applications"},"settings":{"description":"Utilisé par le cozy-bar pour afficher Claudy et savoir quelles applications sont à venir"},"accounts":{"description":"Utilisé pour obtenir un compte konnector"},"files":{"description":"Utilisé pour accéder aux fichiers de sauvegarde de votre exportation de voyages"},"geojson-timeseries":{"description":"Utilisé pour afficher les séries temporelles geojson"},"coachco2.settings":{"description":"Utilisé pour gérer les paramètres de votre Coach CO2"}}},"dacc":{"settings":{"label":"Transmission des données","anonymous_participation":"Participer anonymement au calcul des émissions moyennes de CO2","hideAlerter":"Masquer l\'alerter DACC"},"tripsCard":{"label":"Comparez vos émissions à la moyenne des autres utilisateurs de l’application ?","discard":"Non, merci","accept":"Comparer"},"compareDialog":{"title":"Comparez-vous anonymement","primaryText":"Afin de constituer la moyenne des émissions des utilisateurs, et parce que votre Cozy vous a fait la promesse de ne jamais divulguer vos données sans votre demande explicite, il va vous demander le droit d\'envoyer cette donnée.","secondaryText":"Ces données seront agrégées et anonymes, elles ne contiendront aucun identifiant ni lieux.","action":"J\'ai compris"},"permissionsDialog":{"title":"Demande de permissions","primaryText":"L’application Coach CO2 demande les permissions suivantes à votre Cozy :","secondaryText":"Une fois autorisées, les permissions pourront être modifiées dans les paramètres","why_asking":"Pourquoi me demander ces permissions ?","export_outside":"Exporter hors du Cozy","anonymized_emissions":"Mes émissions de CO2 anonymisées","accept":"Toujours autoriser","refuse":"Refuser"},"reasonsDialog":{"title":"Motifs de permissions","content":"Parce que votre Cozy vous a fait la promesse de ne jamais divulguer vos données privées, il vous demandera toujours le droit de laisser une application les envoyer à l\'extérieur."}},"vericalBarChart":{"title":"Émissions de CO2","legend":{"yours":"Vos émissions","average":"Moyennes des utilisateurs de l\'app"}}}')},"B/ud":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("Ty5D"),i=a("1I/2"),c=a("buk/"),l=a("6t5v"),s=a("YB/B"),u=a("QILm"),d=a.n(u),m=a("SH7X"),f=a("V2U0"),p=a("dN3h"),b=a("8kiM"),h=a("TSYQ"),v=a.n(h),y=a("cbAs"),g=a("WVRf"),O=a("MEii"),j=a("iThD"),E=a("e0hG"),x=a("UI5b"),_=a("nIm6"),w=a("FZFE"),C=function(e){var t=e.timeseries,a=Object(o.i)().mode,l=Object(c.e)().t,s=Object(i.b)().isMobile,u=Object(n.useMemo)((function(){return Object(j.p)(t)}),[t]),d=Object(j.c)(t),m=Object(n.useMemo)((function(){return Object(x.a)(u,"modes",l)}),[l,u]),f=m.data,p=m.options,b=Object(n.useMemo)((function(){return a?u[a].timeseries.sort((function(e,t){return e.startDate.localeCompare(t.startDate)})):[]}),[a,u]);return a?r.a.createElement("div",{className:"u-mt-2"},r.a.createElement(w.a,{timeseries:b})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v()("u-flex",{"u-flex-justify-end u-pos-absolute u-top-m u-right-xl":!s,"u-flex-justify-center u-mv-1":s})},r.a.createElement(O.a,{data:f,options:p,primaryText:Object(E.d)(d),secondaryText:l("analysis.emittedCO2")})),r.a.createElement(g.a,{marginTop:s?void 0:"6rem"},r.a.createElement(y.a,null,Object.entries(u).map((function(e,t){return r.a.createElement(_.a,{key:t,type:"modes",totalCO2:d,sortedTimeserie:e})})))))},D=["data"],M=function(){var e=Object(b.c)().account,t=Object(l.b)().selectedDate,a=Object(p.h)(t,null==e?void 0:e._id),n=Object(m.useQueryAll)(a.definition,a.options),o=n.data,i=d()(n,D);return Object(m.isQueryLoading)(i)||i.hasMore?r.a.createElement(f.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(C,{timeseries:o})},S=a("VaFe"),k=a("+Vcn");t.a=function(){var e=Object(c.e)().t,t=Object(o.g)(),a=Object(o.i)().mode,n=Object(i.b)().isMobile,u=a?e("trips.modes.".concat(a.toUpperCase())):"",d=a?t.goBack:void 0;return r.a.createElement(l.a,null,r.a.createElement(s.a,{label:u,onBack:d}),n&&r.a.createElement(S.a,null),r.a.createElement(k.a,null),r.a.createElement(M,null))}},BdYW:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("Ty5D"),i=a("1I/2"),c=a("buk/"),l=a("YB/B"),s=a("VaFe"),u=a("6t5v"),d=a("QILm"),m=a.n(d),f=a("SH7X"),p=a("V2U0"),b=a("dN3h"),h=a("8kiM"),v=a("TSYQ"),y=a.n(v),g=a("cbAs"),O=a("WVRf"),j=a("MEii"),E=a("iThD"),x=a("e0hG"),_=a("UI5b"),w=a("nIm6"),C=a("FZFE"),D=function(e){var t=e.timeseries,a=Object(o.i)().purpose,l=Object(c.e)().t,s=Object(i.b)().isMobile,u=Object(n.useMemo)((function(){return Object(E.q)(t)}),[t]),d=Object(E.c)(t),m=Object(n.useMemo)((function(){return Object(_.a)(u,"purposes",l)}),[l,u]),f=m.data,p=m.options,b=Object(n.useMemo)((function(){return a?u[a].timeseries.sort((function(e,t){return e.startDate.localeCompare(t.startDate)})):[]}),[a,u]);return a?r.a.createElement("div",{className:"u-mt-2"},r.a.createElement(C.a,{timeseries:b})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:y()("u-flex",{"u-flex-justify-end u-pos-absolute u-top-m u-right-xl":!s,"u-flex-justify-center u-mv-1":s})},r.a.createElement(j.a,{data:f,options:p,primaryText:Object(x.d)(d),secondaryText:l("analysis.emittedCO2")})),r.a.createElement(O.a,{marginTop:s?void 0:"6rem"},r.a.createElement(g.a,null,Object.entries(u).map((function(e,t){return r.a.createElement(w.a,{key:t,type:"purposes",totalCO2:d,sortedTimeserie:e})})))))},M=["data"],S=function(){var e=Object(h.c)().account,t=Object(u.b)().selectedDate,a=Object(b.h)(t,null==e?void 0:e._id),n=Object(f.useQueryAll)(a.definition,a.options),o=n.data,i=m()(n,M);return Object(f.isQueryLoading)(i)||i.hasMore?r.a.createElement(p.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(D,{timeseries:o})},k=a("+Vcn");t.a=function(){var e=Object(c.e)().t,t=Object(o.g)(),a=Object(o.i)().purpose,n=Object(i.b)().isMobile,d=a?e("trips.purposes.".concat(a.toUpperCase())):"",m=a?t.goBack:void 0;return r.a.createElement(u.a,null,r.a.createElement(l.a,{label:d,onBack:m}),n&&r.a.createElement(s.a,null),r.a.createElement(k.a,null),r.a.createElement(S,null))}},EY4r:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var n=a("q1tI"),r=a.n(n),o=a("Nu4l"),i=r.a.createContext(),c=function(){var e=Object(n.useContext)(i);if(!e)throw new Error("useTrip must be used within a TripProvider");return e},l=function(e){var t=e.timeserie,a=e.children,c=Object(n.useMemo)((function(){return{timeserie:Object(o.b)(t)}}),[t]);return r.a.createElement(i.Provider,{value:c},a)};t.a=r.a.memo(l)},FZFE:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("17x9"),i=a.n(o),c=a("G6Tw"),l=a("cbAs"),s=a("1aYg"),u=a("buk/"),d=a("1I/2"),m=a("c8ah"),f=a("J4zp"),p=a.n(f),b=a("Ty5D"),h=a("vEVt"),v=a("gPjO"),y=a("MSWZ"),g=a("aN1g"),O=a("eBdR"),j=a("QaI8"),E=a("y6ex"),x=a("P5cT"),_=a("iThD"),w=a("6k9G"),C=a("QILm"),D=a.n(C),M=a("SH7X"),S=a("qFRD"),k=a("V2U0"),P=a("dN3h"),Z=a("IAR5"),N=a("7toa"),A=a("uPPc"),T=a("EY4r"),B=["data"],I={map:{height:"400px",margin:"-24px -32px 0"},divider:{margin:"10px -32px 25px"}},z=function(e){var t=e.timeserieId,a=e.setShowTripDialog,o=Object(P.f)(t),i=Object(M.useQuery)(o.definition,o.options),c=i.data,l=D()(i,B),s=Object(M.isQueryLoading)(l),u=Object(n.useCallback)((function(){return a(!1)}),[a]);return r.a.createElement(T.a,{timeserie:s?"":c[0]},r.a.createElement(S.a,{open:!0,onClose:u,title:s?"":Object(_.f)(c[0]),size:"large",content:s?r.a.createElement(k.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:I.map},r.a.createElement(Z.a,null)),r.a.createElement("div",{className:"u-mt-1 u-h-3 u-flex u-flex-items-center u-pb-half"},r.a.createElement(N.a,null)),r.a.createElement(y.a,{style:I.divider}),r.a.createElement(A.a,null))}))},F=r.a.memo(z),L={co2:{fontWeight:700,whiteSpace:"nowrap"},tripIcon:{marginRight:"4px"}},R=function(e){var t=e.tripModeIcons,a=e.duration,n=e.distance;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement(E.a,{key:t,icon:e,size:10,style:L.tripIcon})})),"· ".concat(a," · ").concat(n))},U=function(e){var t=e.timeserie,a=e.hasDateHeader,o=Object(u.e)().f,i=Object(b.g)(),c=Object(b.i)().mode,l=Object(d.b)().isMobile,s=Object(n.useState)(!1),f=p()(s,2),C=f[0],D=f[1],M=Object(_.o)(t),S=Object(_.h)(t),k=Object(_.l)(t),P=Object(_.g)(t),Z=Object(n.useMemo)((function(){return c?Object(_.b)(t,c):Object(_.i)(t)}),[t,c]),N=Object(n.useMemo)((function(){return k.map((function(e){return Object(w.c)(e)}))}),[k]),A=Object(n.useCallback)((function(){if(l)return i.push("/trip/".concat(t._id));D(!0)}),[i,l,t._id]);return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(O.a,null,o(Object(_.m)(t),"dddd DD MMMM")),r.a.createElement(v.a,{className:"u-pl-1-s u-pl-2",button:!0,onClick:A},r.a.createElement(g.a,null,r.a.createElement(x.b,{attribute:M})),r.a.createElement(h.a,{primary:Object(_.f)(t),secondary:r.a.createElement(R,{tripModeIcons:N,duration:S,distance:P})}),r.a.createElement(m.a,{className:"u-mh-half",style:L.co2,variant:"body2"},Z),r.a.createElement(E.a,{icon:j.a,color:"var(--secondaryTextColor)"})),r.a.createElement(y.a,null),C&&r.a.createElement(F,{timeserieId:t._id,setShowTripDialog:D}))};U.propTypes={timeserie:i.a.object.isRequired,hasDateHeader:i.a.bool.isRequired};var q=r.a.memo(U,(function(e,t){return e.timeserie._rev===t.timeserie._rev}));q.displayName="MemoizedTripItem";var V=q,H=function(e){var t=e.timeseries,a=Object(d.b)().isMobile,o=Object(u.e)().t,i=Object(n.useCallback)((function(e,a){return 0===a||!Object(c.a)(Object(_.m)(e),Object(_.m)(t[a-1]))}),[t]);return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(s.a,{className:"u-ph-1",style:{height:"4rem",display:"flex",alignItems:"center"},square:!0},r.a.createElement(m.a,{variant:"h5"},o("trips.trips"))),r.a.createElement(l.a,null,t.map((function(e,t){return r.a.createElement(V,{key:"".concat(e.id).concat(t),timeserie:e,hasDateHeader:i(e,t)})}))))};H.propTypes={timeseries:i.a.arrayOf(i.a.object).isRequired};t.a=H},"G0/2":function(e,t,a){var n={"./en.json":"6wRk","./fr.json":"wNxD"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="G0/2"},IAR5:function(e,t,a){"use strict";var n=a("J4zp"),r=a.n(n),o=a("q1tI"),i=a.n(o),c=a("r1Ps"),l=a("qnQ4"),s=a("fX4H"),u=a("tr08"),d=a("4R65"),m=a.n(d),f=(a("bMVF"),a("1I/2")),p=a("EY4r"),b=a("3zCr"),h=a("iThD"),v=(a("zer9"),[51.505,-.09]);t.a=function(){var e=Object(f.b)().isMobile,t=Object(p.b)().timeserie,a=Object(u.a)(),n=Object(o.useRef)(),d=Object(o.useRef)(),y=Object(o.useState)(null),g=r()(y,2),O=g[0],j=g[1],E=Object(o.useMemo)((function(){return function(e){return{style:function(t){return{weight:"section"===t.properties.feature_type?5:2,color:e.palette.primary.main}},pointToLayer:function(e,t){return m.a.marker(t,{icon:m.a.divIcon({html:"<div></div>",iconSize:[12,12],className:"cozy-leaflet-markers ".concat("end_place"===e.properties.feature_type?"cozy-leaflet-markers-end":"cozy-leaflet-markers-start")})})}}}(a)}),[a]),x=E.pointToLayer,_=E.style,w=Object(o.useMemo)((function(){return e?b.a.mediumHeightRatio:0}),[e]);return Object(o.useEffect)((function(){j(n.current.leafletElement)}),[]),Object(o.useEffect)((function(){if(d.current){var e=d.current.leafletElement.getBounds(),t=[16,16],a=[16,16+O.getSize().y*w];O.fitBounds(e,{paddingTopLeft:t,paddingBottomRight:a})}}),[O,w]),i.a.createElement(c.a,{className:"u-h-100",ref:n,center:v,zoom:13},i.a.createElement(l.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),i.a.createElement(s.a,{ref:d,data:Object(h.k)(t),pointToLayer:x,style:_}))}},LiWt:function(e,t,a){"use strict";a.r(t);a("/8/d"),a("llna"),a("/kYV");var n=a("q1tI"),r=a.n(n),o=a("i8i4"),i=a("PRV4"),c=a("o8Rm"),l=a("SH7X"),s=a.n(l),u=a("buk/"),d=a("xIbs"),m=a("1I/2"),f=a("qvEe"),p=a("44Ds"),b=a.n(p),h=a("QCzH"),v=a("pZg0"),y=a.n(v),g=a("2E0U"),O=function(e,t){return/^\{\{\..*\}\}$/.test(e)?t:e},j=function(e){var t=e.app,n=e.locale,r={appIconDefault:a("ZAKO"),appNamePrefixDefault:y.a.name_prefix,appNameDefault:y.a.name,appLocaleDefault:"en"};return{appName:O(t.name,r.appNameDefault),appNamePrefix:O(t.prefix,r.appNamePrefixDefault),iconPath:O(t.icon,r.appIconDefault),lang:O(n,r.appLocaleDefault)}},E=a("mgfL"),x=a.n(E),_=b()((function(){var e=document.querySelector("[role=application]"),t=j(JSON.parse(e.dataset.cozy)),n=t.lang,r=t.appName,o=Object(h.a)(n,(function(e){return a("/KVF")("./".concat(e))})),i=function(){var e=document.querySelector("[role=application]"),t=JSON.parse(e.dataset.cozy),a=window.location.protocol,n="".concat(a,"//").concat(t.domain);return new s.a({uri:n,token:t.token,appMetadata:{slug:y.a.name,version:y.a.version},schema:g.h,store:!1})}();return i.registerPlugin(x.a.plugin),function(e){var t=e.client,a=e.root,n=e.lang,r=e.appName,o=j(JSON.parse(a.dataset.cozy)),i=o.appNamePrefix,c=o.iconPath;cozy.bar.init({appName:r,appNamePrefix:i,cozyClient:t,iconPath:c,lang:n,replaceTitleOnMobile:!1})}({client:i,root:e,lang:n,appName:r}),{root:e,client:i,lang:n,polyglot:o}})),w=a("ZsYx"),C=a("xYwX"),D=a("8kiM"),M=Object(i.a)({disableGlobal:!0});Object(w.a)(),document.addEventListener("DOMContentLoaded",(function(){var e,t,a,n,i;e=_(),t=e.root,a=e.client,n=e.lang,i=e.polyglot,Object(o.render)(r.a.createElement(f.WebviewIntentProvider,null,r.a.createElement(c.b,{generateClassName:M},r.a.createElement(l.CozyProvider,{client:a},r.a.createElement(D.a,null,r.a.createElement(u.b,{lang:n,polyglot:i},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(C.a,null)))))))),t)}))},Nu4l:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a("lSNA"),r=a.n(n),o=a("2E0U");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e){var t=e.client,a=e.setting,n=e.account;return t.save(c(c({},a),{},{account:n,_type:o.g}))},s=function(e){var t,a=null==e||null===(t=e.aggregation)||void 0===t?void 0:t.sections;if(!a)return e;var n=a.sort((function(e,t){return new Date(e.startDate).getTime()-new Date(t.startDate).getTime()})),r=c({},e);return r.aggregation.sections=n,r}},P5cT:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u}));var n=a("q1tI"),r=a.n(n),o=a("BuRe"),i=a("6k9G"),c=a("X7BR"),l=function(e){var t=e.icon,a=e.color,n=e.faded,i=e.ghost,c=function(e){var t=e.faded,a=e.color;return t?{color:a||"var(--primaryColor)",backgroundColor:"var(--paperBackgroundColor)",border:"1px solid var(--borderMainColor)"}:{backgroundColor:a}}({faded:n,color:a});return r.a.createElement(o.a,{style:c,icon:t,size:32,ghost:i})},s=function(e){var t=e.attribute;return r.a.createElement(l,{icon:Object(i.d)(t),color:Object(i.e)(t),ghost:t===c.B})},u=function(e){var t=e.attribute;return r.a.createElement(l,{icon:Object(i.c)(t),color:Object(i.a)(t),faded:!0})}},UI5b:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("6k9G"),r=a("e0hG"),o=function(e,t,a){var o=Object.keys(e),i=Object.values(e),c="modes"===t?n.a:n.e,l=i.map((function(e){return e.totalCO2})),s=o.map((function(e){return c(e)}));return{data:{labels:o.map((function(e){return a("trips.".concat(t,".").concat(e))})),datasets:[{id:1,data:l,backgroundColor:s}]},options:{plugins:{tooltip:{displayColors:!1,callbacks:{label:function(e){return"".concat(e.label," ").concat(Object(r.d)(e.raw))}}}}}}}},VaFe:function(e,t,a){"use strict";var n=a("pVnL"),r=a.n(n),o=a("q1tI"),i=a.n(o),c=a("Ty5D"),l=a("1aYg"),s=a("A52f"),u=a("JrkS"),d=a("buk/"),m=["/analysis/modes","/analysis/purposes"],f=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}};t.a=function(){var e=Object(c.g)(),t=Object(c.h)().pathname,a=Object(d.e)().t,n=m.indexOf(m.find((function(e){return t.includes(e)})));return i.a.createElement(l.a,null,i.a.createElement(s.a,{value:n,onChange:function(t,a){e.push(m[a])}},i.a.createElement(u.a,r()({label:a("nav.modes")},f(0))),i.a.createElement(u.a,r()({label:a("nav.purposes")},f(1)))))}},X7BR:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"O",(function(){return c})),a.d(t,"S",(function(){return l})),a.d(t,"U",(function(){return s})),a.d(t,"T",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"o",(function(){return m})),a.d(t,"V",(function(){return f})),a.d(t,"H",(function(){return p})),a.d(t,"I",(function(){return b})),a.d(t,"q",(function(){return h})),a.d(t,"C",(function(){return v})),a.d(t,"m",(function(){return y})),a.d(t,"l",(function(){return g})),a.d(t,"D",(function(){return O})),a.d(t,"B",(function(){return j})),a.d(t,"G",(function(){return E})),a.d(t,"F",(function(){return x})),a.d(t,"E",(function(){return _})),a.d(t,"J",(function(){return w})),a.d(t,"r",(function(){return C})),a.d(t,"R",(function(){return D})),a.d(t,"P",(function(){return M})),a.d(t,"d",(function(){return S})),a.d(t,"f",(function(){return k})),a.d(t,"k",(function(){return P})),a.d(t,"z",(function(){return Z})),a.d(t,"y",(function(){return N})),a.d(t,"x",(function(){return A})),a.d(t,"A",(function(){return T})),a.d(t,"N",(function(){return B})),a.d(t,"s",(function(){return I})),a.d(t,"n",(function(){return z})),a.d(t,"v",(function(){return F})),a.d(t,"u",(function(){return L})),a.d(t,"t",(function(){return R})),a.d(t,"w",(function(){return U})),a.d(t,"M",(function(){return q})),a.d(t,"L",(function(){return V})),a.d(t,"K",(function(){return H})),a.d(t,"h",(function(){return Q})),a.d(t,"j",(function(){return G})),a.d(t,"i",(function(){return W})),a.d(t,"Q",(function(){return Y})),a.d(t,"p",(function(){return K}));var n="coachco2",r="AIR_OR_HSR",o="BICYCLING",i="CAR",c="SUBWAY",l="TRAIN",s="WALKING",u="UNKNOWN",d="BUS",m="HOME",f="WORK",p="SCHOOL",b="SHOPPING",h="MEAL",v="PERSONAL_MED",y="EXERCISE",g="ENTERTAINMENT",O="PICK_DROP",j="OTHER_PURPOSE",E=.258,x=.187,_=.152,w=1e3,C=3500,D=.00529,M=.00472,S=.137,k=.192,P=74.25,Z=2,N=3.5,A=5,T=7,B=3,I=5,z=6.5,F=5.8,L=8,R=10,U=15.8,q=15,V=22.4,H=25.6,Q={tripId:"Trip_Id",tripStartDisplayName:"Trip_Start_Display_Name",tripArrivalDisplayName:"Trip_Arrival_Display_Name",tripPurpose:"Trip_Purpose",tripStartDate:"Trip_Start_Date",tripEndDate:"Trip_End_Date",sectionStartDate:"Section_Start_Date",sectionEndDate:"Section_End_Date",sectionDuration:"Section_Duration",sectionDistance:"Section_Distance",sectionMode:"Section_Mode",sectionCoordinates:"Section_Coordinates",sectionDistances:"Section_Distances",sectionTimestamps:"Section_Timestamps",sectionSpeeds:"Section_Speeds"},G="co2-emissions-monthly",W=Object.freeze({is_tracemob_expe:!0}),Y="timeseriesWithoutAggregateMigration",K=12},"YB/B":function(e,t,a){"use strict";var n=a("lSNA"),r=a.n(n),o=a("q1tI"),i=a.n(o),c=a("Ty5D"),l=a("TSYQ"),s=a.n(l),u=a("buk/"),d=a("xIbs"),m=a("c8ah"),f=a("wvTK"),p=a("1I/2"),b=a("y6ex"),h=a("lEaz"),v=a("SjAl"),y={"/trips":"nav.trips","/analysis/modes":"analysis.mode","/analysis/purposes":"analysis.purpose","/settings":"nav.settings"};t.a=function(e){var t=e.label,a=e.onBack,n=Object(u.e)().t,o=Object(p.b)().isMobile,l=Object(c.h)().pathname,g=cozy.bar,O=g.BarCenter,j=g.BarLeft,E=t||n(y[l]),x="function"==typeof a?a:void 0;return o?i.a.createElement(i.a.Fragment,null,x&&i.a.createElement(j,null,i.a.createElement(h.a,{className:"u-mr-half",onClick:x,size:"medium"},i.a.createElement(b.a,{icon:v.a,size:16}))),i.a.createElement(O,null,i.a.createElement(d.a,null,i.a.createElement(f.a,null,E)))):i.a.createElement("div",{className:s()(r()({},"u-flex u-flex-items-center u-ml-2",x))},x&&i.a.createElement(h.a,{className:"u-mr-half",onClick:x,size:"medium"},i.a.createElement(b.a,{icon:v.a,size:16})),i.a.createElement(m.a,{variant:"h3",className:s()("u-mv-1-half-s u-ml-1-s u-mv-2",r()({},"u-ml-2",!x))},E))}},ZAKO:function(e,t){e.exports="/img/icon.aa5e3ec7c4ab374b229f92d96f796ca6.svg"},ZKCX:function(e,t,a){var n={"./_lib/build_formatting_tokens_reg_exp/index.js":"5WgL","./ar/build_distance_in_words_locale/index.js":"GeLF","./ar/build_format_locale/index.js":"ST2C","./ar/index.js":"1yQK","./be/build_distance_in_words_locale/index.js":"KI/A","./be/build_format_locale/index.js":"cRUB","./be/index.js":"j/pv","./bg/build_distance_in_words_locale/index.js":"AQhF","./bg/build_format_locale/index.js":"K5Lv","./bg/index.js":"q/K+","./ca/build_distance_in_words_locale/index.js":"O/Lo","./ca/build_format_locale/index.js":"AaPh","./ca/index.js":"kD0B","./cs/build_distance_in_words_locale/index.js":"3Xfl","./cs/build_format_locale/index.js":"LXrJ","./cs/index.js":"3JvM","./da/build_distance_in_words_locale/index.js":"hcRL","./da/build_format_locale/index.js":"KLvQ","./da/index.js":"ULTP","./de/build_distance_in_words_locale/index.js":"wCnQ","./de/build_format_locale/index.js":"mx47","./de/index.js":"acCb","./el/build_distance_in_words_locale/index.js":"O683","./el/build_format_locale/index.js":"xvNu","./el/index.js":"uGGn","./en/build_distance_in_words_locale/index.js":"tI3Q","./en/build_format_locale/index.js":"k/jG","./en/index.js":"3DnJ","./eo/build_distance_in_words_locale/index.js":"BDYA","./eo/build_format_locale/index.js":"hwqp","./eo/index.js":"0Smw","./es/build_distance_in_words_locale/index.js":"LaF2","./es/build_format_locale/index.js":"N5PC","./es/index.js":"5H4U","./fi/build_distance_in_words_locale/index.js":"CIfh","./fi/build_format_locale/index.js":"mlvl","./fi/index.js":"5PpD","./fil/build_distance_in_words_locale/index.js":"7/gU","./fil/build_format_locale/index.js":"ZUJP","./fil/index.js":"H3+A","./fr/build_distance_in_words_locale/index.js":"m3OY","./fr/build_format_locale/index.js":"xQ0/","./fr/index.js":"DqMG","./hr/build_distance_in_words_locale/index.js":"guXL","./hr/build_format_locale/index.js":"e631","./hr/index.js":"ZSBf","./hu/build_distance_in_words_locale/index.js":"f9p0","./hu/build_format_locale/index.js":"k3KY","./hu/index.js":"Q64p","./id/build_distance_in_words_locale/index.js":"GAiw","./id/build_format_locale/index.js":"UYaz","./id/index.js":"uImW","./is/build_distance_in_words_locale/index.js":"CuMw","./is/build_format_locale/index.js":"Z74A","./is/index.js":"Z1Qv","./it/build_distance_in_words_locale/index.js":"qMw3","./it/build_format_locale/index.js":"Aizw","./it/index.js":"yA73","./ja/build_distance_in_words_locale/index.js":"J7hD","./ja/build_format_locale/index.js":"TFi6","./ja/index.js":"5law","./ko/build_distance_in_words_locale/index.js":"vgtj","./ko/build_format_locale/index.js":"IGpS","./ko/index.js":"spHP","./mk/build_distance_in_words_locale/index.js":"5ajx","./mk/build_format_locale/index.js":"b/+p","./mk/index.js":"N7tQ","./nb/build_distance_in_words_locale/index.js":"yH+i","./nb/build_format_locale/index.js":"5Zji","./nb/index.js":"17+V","./nl/build_distance_in_words_locale/index.js":"5Kip","./nl/build_format_locale/index.js":"ZWjp","./nl/index.js":"pd9o","./pl/build_distance_in_words_locale/index.js":"tGBV","./pl/build_format_locale/index.js":"NJct","./pl/index.js":"6P2M","./pt/build_distance_in_words_locale/index.js":"ajCN","./pt/build_format_locale/index.js":"KevG","./pt/index.js":"7TKb","./ro/build_distance_in_words_locale/index.js":"PIDo","./ro/build_format_locale/index.js":"qTOb","./ro/index.js":"xfrR","./ru/build_distance_in_words_locale/index.js":"VnGx","./ru/build_format_locale/index.js":"+EGV","./ru/index.js":"yilQ","./sk/build_distance_in_words_locale/index.js":"Ac7o","./sk/build_format_locale/index.js":"wn1Z","./sk/index.js":"HxmB","./sl/build_distance_in_words_locale/index.js":"UyP2","./sl/build_format_locale/index.js":"neWQ","./sl/index.js":"xuwk","./sr/build_distance_in_words_locale/index.js":"R4TP","./sr/build_format_locale/index.js":"B9sc","./sr/index.js":"/Yuz","./sv/build_distance_in_words_locale/index.js":"fPTk","./sv/build_format_locale/index.js":"5WLe","./sv/index.js":"yMTq","./th/build_distance_in_words_locale/index.js":"/+Lo","./th/build_format_locale/index.js":"7KJG","./th/index.js":"PU3I","./tr/build_distance_in_words_locale/index.js":"xH5m","./tr/build_format_locale/index.js":"6Adc","./tr/index.js":"+vG6","./zh_cn/build_distance_in_words_locale/index.js":"51Qv","./zh_cn/build_format_locale/index.js":"mSWR","./zh_cn/index.js":"pwWN","./zh_tw/build_distance_in_words_locale/index.js":"IWZz","./zh_tw/build_format_locale/index.js":"dVRu","./zh_tw/index.js":"Wiv3"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="ZKCX"},ZsYx:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));var n=Boolean(window.location.hostname.endsWith("cozy.localhost")||window.location.hostname.endsWith("cozy.tools"));function r(t){if("serviceWorker"in navigator){if(new URL(e.env.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="/service-worker.js";n?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):o(e,t)}))}}function o(e,t){navigator.serviceWorker.register(e).then((function(e){e.update()})).catch((function(e){console.error("Error during service worker registration:",e)}))}}).call(this,a("8oxB"))},dN3h:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"g",(function(){return p})),a.d(t,"f",(function(){return b})),a.d(t,"h",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return y})),a.d(t,"a",(function(){return g})),a.d(t,"e",(function(){return O}));var n=a("lSNA"),r=a.n(n),o=a("jKzE"),i=a("9ig3"),c=a("sdC+"),l=a("SH7X"),s=a.n(l),u=a("2E0U");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=function(e){var t=e.accountId,a=e.limitBy;return{definition:Object(l.Q)(u.e).where({"cozyMetadata.sourceAccount":t}).partialIndex({aggregation:{$exists:!0}}).select(["cozyMetadata.sourceAccount","startDate","endDate","aggregation"]).indexFields(["cozyMetadata.sourceAccount","startDate","endDate"]).sortBy([{"cozyMetadata.sourceAccount":"desc"},{startDate:"desc"},{endDate:"desc"}]).limitBy(a),options:{as:"".concat(u.e,"/sourceAccount/").concat(t,"/limitedBy/").concat(a),fetchPolicy:s.a.fetchPolicies.olderThan(3e4)}}},p=function(e){var t=e.accountId;return{definition:Object(l.Q)(u.e).where({"cozyMetadata.sourceAccount":t}).indexFields(["cozyMetadata.sourceAccount","startDate"]).sortBy([{"cozyMetadata.sourceAccount":"desc"},{startDate:"desc"}]).limitBy(1e3),options:{as:"".concat(u.e,"/sourceAccount/").concat(t),fetchPolicy:s.a.fetchPolicies.olderThan(3e4)}}},b=function(e){return{definition:Object(l.Q)(u.e).getById(e),options:{as:"".concat(u.e,"/").concat(e),fetchPolicy:s.a.fetchPolicies.olderThan(3e4)}}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.limit,r=void 0===n?1e3:n,c=Object(i.a)(e)||null,d=Object(o.a)(e)||null,f=e?"".concat(c.getFullYear(),"-").concat(c.getMonth()):"noDate",p=Object(l.Q)(u.e).where(m({"cozyMetadata.sourceAccount":t},e&&{startDate:{$gte:c.toISOString(),$lte:d.toISOString()}})).partialIndex({aggregation:{$exists:!0}}).select(["aggregation","cozyMetadata.sourceAccount","startDate"]).indexFields(["cozyMetadata.sourceAccount","startDate"]).limitBy(r);return{definition:p,options:{as:"".concat(u.e,"/sourceAccount/").concat(t,"/date/").concat(f,"/limitedBy/").concat(r),fetchPolicy:s.a.fetchPolicies.olderThan(3e4),enabled:Boolean(e)&&Boolean(t)}}},v=function(e){return{definition:Object(l.Q)(u.e).where({"cozyMetadata.sourceAccount":e}).indexFields(["cozyMetadata.sourceAccount","startDate"]).sortBy([{"cozyMetadata.sourceAccount":"asc"},{startDate:"asc"}]).limitBy(1)}},y=function(e){var t=Object(i.a)(Object(c.a)(new Date,1));return{definition:Object(l.Q)(u.e).where({"cozyMetadata.sourceAccount":e,startDate:{$gte:t.toISOString()}}).partialIndex({aggregation:{$exists:!0}}).select(["startDate","aggregation","cozyMetadata.sourceAccount"]).indexFields(["cozyMetadata.sourceAccount","startDate"]).sortBy([{"cozyMetadata.sourceAccount":"asc"},{startDate:"asc"}]).limitBy(1e3),options:{as:"".concat(u.e,"/sourceAccount/").concat(e,"/withAggregation/fromDate/").concat(t.getFullYear(),"-").concat(t.getMonth()),fetchPolicy:s.a.fetchPolicies.olderThan(3e4)}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,a=void 0===t?100:t,n=e.withOnlyLogin,r=void 0===n||n,o=Object(l.Q)(u.a).where({account_type:"tracemob"}).indexFields(["account_type"]).limitBy(a);return r&&o.select(["auth.login","account_type"]),{definition:o,options:{as:"".concat(u.a,"/account_type/limitedBy/").concat(a,"/withOnlyLogin/").concat(r),fetchPolicy:s.a.fetchPolicies.olderThan(3e4)}}},O=function(){return{definition:Object(l.Q)(u.g),options:{as:u.g,fetchPolicy:s.a.fetchPolicies.olderThan(3e4)}}}},dawk:function(e,t,a){"use strict";var n=a("QILm"),r=a.n(n),o=a("q1tI"),i=a.n(o),c=a("Ty5D"),l=a("SH7X"),s=a("V2U0"),u=a("qFRD"),d=a("iThD"),m=a("EY4r"),f=a("3zCr"),p=function(){var e=Object(m.b)().timeserie,t=Object(c.g)(),a=Object(o.useRef)(null),n=Object(o.useCallback)((function(){return t.goBack()}),[t]);return i.a.createElement(u.a,{open:!0,transitionDuration:0,disableGutters:!0,onBack:n,title:Object(d.f)(e),titleRef:a,content:i.a.createElement(f.b,{titleRef:a})})},b=i.a.memo(p),h=a("dN3h"),v=["data"],y=function(){var e=Object(c.h)().pathname,t=Object(o.useMemo)((function(){return e.split("/").pop()}),[e]),a=Object(h.f)(t),n=Object(l.useQuery)(a.definition,a.options),u=n.data,d=r()(n,v);return Object(l.isQueryLoading)(d)?i.a.createElement(s.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):i.a.createElement(m.a,{timeserie:u[0]},i.a.createElement(b,null))};t.a=i.a.memo(y)},e0hG:function(e,t,a){"use strict";a.d(t,"g",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return p}));var n=a("J4zp"),r=a.n(n),o=a("jxQj"),i=a.n(o),c=function(e){var t="m",a=e;return e>1e3&&(t="km",a=e/1e3),"".concat(Math.round(a)," ").concat(t)},l=function(e){return"".concat(Math.round(100*e)/100," kg")},s=function(e){return"".concat(Math.round(e)," kcal")},u=function(e,t){var a=["fr","en"].includes(t)?t:"en";return i()(1e3*e,{delimiter:" ",largest:2,round:!0,units:["h","m"],language:a,languages:{fr:{d:function(){return"j"},h:function(){return"h"},m:function(){return"min"},s:function(){return"s"},ms:function(){return"ms"}},en:{d:function(){return"d"},h:function(){return"h"},m:function(){return"min"},s:function(){return"s"},ms:function(){return"ms"}}}})},d=function(e){return"".concat(Math.round(e)," km/h")},m=function(e){var t=e.f,a=e.lang,n=e.date;return t(n,"fr"===a?"HH[h]mm":"HH:mm")},f=function(e,t){if(0===t)return"0%";var a=(100*e/t).toFixed(2).split("."),n=r()(a,2),o=n[0],i=n[1];return"00"===i?"".concat(o,"%"):"".concat(o,".").concat(i,"%")},p=function(e){return 3.6*(e.reduce((function(e,t){return e+t}),0)/e.length)}},fH6n:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("55Ip"),i=a("buk/"),c=a("9VR2"),l=a("fSd/"),s=a("rDu+"),u=a("Ratv"),d=a("HAAP"),m=a("WVRf"),f=Object(l.e)(o.b);t.a=function(){var e=Object(i.e)().t;return r.a.createElement(c.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,null,r.a.createElement(f,{to:"/trips"},r.a.createElement(l.a,{icon:s.a}),r.a.createElement(l.c,null,e("nav.trips")))),r.a.createElement(l.b,null,r.a.createElement(f,{to:"/analysis"},r.a.createElement(l.a,{icon:d.a}),r.a.createElement(l.c,null,e("nav.analysis")))),r.a.createElement(l.b,{secondary:!0},r.a.createElement(f,{to:"/analysis/modes"},r.a.createElement(l.c,null,e("nav.modes")))),r.a.createElement(l.b,{secondary:!0},r.a.createElement(f,{to:"/analysis/purposes"},r.a.createElement(l.c,null,r.a.createElement(m.a,{whiteSpace:"nowrap"},e("nav.purposes"))))),r.a.createElement(l.b,null,r.a.createElement(f,{to:"/settings"},r.a.createElement(l.a,{icon:u.a}),r.a.createElement(l.c,null,e("nav.settings"))))))}},iThD:function(e,t,a){"use strict";a.d(t,"r",(function(){return A})),a.d(t,"a",(function(){return T})),a.d(t,"c",(function(){return B})),a.d(t,"p",(function(){return z})),a.d(t,"o",(function(){return F})),a.d(t,"q",(function(){return L})),a.d(t,"m",(function(){return R})),a.d(t,"e",(function(){return U})),a.d(t,"n",(function(){return q})),a.d(t,"f",(function(){return V})),a.d(t,"k",(function(){return H})),a.d(t,"h",(function(){return Q})),a.d(t,"g",(function(){return G})),a.d(t,"i",(function(){return W})),a.d(t,"j",(function(){return Y})),a.d(t,"b",(function(){return K})),a.d(t,"l",(function(){return X})),a.d(t,"d",(function(){return J}));var n=a("lSNA"),r=a.n(n),o=a("QkVN"),i=a.n(o),c=a("QVEU"),l=a.n(c),s=a("xweI"),u=a.n(s),d=a("O7iK"),m=a.n(d),f=a("9UKM"),p=a.n(f),b=a("mwIZ"),h=a.n(b),v=a("a9jo"),y=a.n(v),g=a("7tbW"),O=a.n(g),j=a("phiu"),E=a("9ig3"),x=a("FVam"),_=a("X7BR"),w=function(e){var t=0,a=e.distance/1e3;switch(e.mode){case _.a:if(a<=_.J){t+=a*_.G;break}a<=_.r?t+=a*_.F:t+=a*_.E;break;case _.g:t+=a*_.f;break;case _.e:t+=a*_.d;break;case _.O:t+=a*_.P;break;case _.S:t+=a*_.R;break;case _.T:}return t},C=function(e){var t,a=e.averageSpeed,n=e.duration/60;switch(e.mode){case _.U:t=a<=_.N?_.z:a<=_.s?_.y:a<=_.n?_.x:_.A;break;case _.c:t=a<=_.M?_.v:a<=_.L?_.u:a<=_.K?_.t:_.w}return t?function(e,t){return e*_.k*3.5/200*t}(t,n):0},D=a("6ibL"),M=a("e0hG"),S=a("6k9G");function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Z(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var A=function(e){return e.flatMap((function(t,a){return t.series.map((function(t){return function(e){var t=e.features,a=e.properties,n=l()(t,(function(e){return e.id}));return i()({},e,{properties:{start_place:{data:n[a.start_place.$oid]},end_place:{data:n[a.end_place.$oid]}}})}(P(P({},t),{},{timeserieId:e[a]._id}))}))}))},T=function(e){return e.map((function(e){var t=e.series[0],a=0,n=0,r=0,o=0,i=[],c=Object(D.c)(t).map((function(e){var t={startDate:e.startDate,endDate:e.endDate,CO2:w(e),calories:C(e),avgSpeed:e.averageSpeed,duration:e.duration,distance:e.distance,mode:e.mode,id:e.id};return a+=t.CO2,n+=t.distance,r+=t.duration,o+=t.calories,i.push(t.mode),t})),l=h()(t,"features[0].properties.display_name"),s=h()(t,"features[1].properties.display_name"),u=Object(D.b)(t);return P(P({},e),{},{aggregation:{totalCO2:a,totalDistance:n,totalDuration:r,totalCalories:o,startPlaceDisplayName:l,endPlaceDisplayName:s,purpose:u,modes:i,sections:c}})}))},B=function(e){var t=0;return e.forEach((function(e){var a;t+=(null===(a=e.aggregation)||void 0===a?void 0:a.totalCO2)||0})),t},I=function(e,t){var a=p()(e),n=e[t],o=0===n.timeseries.length&&0===n.totalCO2,i=u()(a.filter((function(e){return o?e[0]!==t&&e[1].totalCO2>0:e[1].totalCO2>0})),(function(e){return e[1].totalCO2})).reverse(),c=u()(a.filter((function(e){return o?e[0]!==t&&0===e[1].totalCO2:0===e[1].totalCO2})),(function(e){return e[1].timeseries.length})).reverse();return P(P(P({},m()(i)),m()(c)),o&&r()({},t,n))},z=function(e){var t=function(e){var t=S.b.reduce((function(e,t){return P(P({},e),{},r()({},t,{timeseries:[],totalCO2:0}))}),{});return e.forEach((function(e){e.aggregation.sections.forEach((function(a){var n=t[a.mode].timeseries;n.some((function(t){return t.id===e.id}))||n.push(e),t[a.mode].totalCO2+=a.CO2}))})),t}(e);return I(t,_.T)},F=function(e){var t=h()(e,"aggregation.purpose","").toUpperCase();return S.f.includes(t)&&t||_.B},L=function(e){var t=function(e){var t=S.f.reduce((function(e,t){return P(P({},e),{},r()({},t,{timeseries:[],totalCO2:0}))}),{});return e.forEach((function(e){var a=F(e),n=t[a].timeseries;n.some((function(t){return t.id===e.id}))||n.push(e),t[a].totalCO2+=e.aggregation.totalCO2})),t}(e);return I(t,_.B)},R=function(e){return new Date(e.startDate)},U=function(e){return new Date(e.endDate)},q=function(e){return h()(e,"aggregation.startPlaceDisplayName")},V=function(e){return h()(e,"aggregation.endPlaceDisplayName")},H=function(e){return h()(e,"series[0]")},Q=function(e){var t=R(e),a=U(e);return Object(x.a)(a,t)},G=function(e){return Object(M.g)(e.aggregation.totalDistance)},W=function(e){var t=function(e){return h()(e,"aggregation.totalCO2","")}(e);return Object(M.d)(t)},Y=function(e){var t=function(e){return h()(e,"aggregation.totalCalories","")}(e);return Object(M.e)(t)},K=function(e,t){var a=function(e,t){var a,n=0,r=Z(e.aggregation.sections);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.mode===t&&(n+=o.CO2)}}catch(i){r.e(i)}finally{r.f()}return n}(e,t);return Object(M.d)(a)},X=function(e){return O()(e.aggregation.sections.sort((function(e,t){return e.distance>t.distance?-1:1})).map((function(e){return e.mode})).filter(Boolean))},J=function(e,t){var a=new Date,n=Array.from({length:12},(function(e,t){return Object(E.a)(Object(j.a)(a,t))})).reverse();return{months:n.map((function(e){return t(e,"MMM").toUpperCase()})),CO2s:n.map((function(t,a){var r=e.filter((function(e){return new Date(e.startDate)>=t&&new Date(e.startDate)<n[a+1]})),o=y()(r,"aggregation.totalCO2");return Math.round(100*o)/100}))}}},jEK9:function(e,t,a){"use strict";var n=a("lSNA"),r=a.n(n),o=a("QILm"),i=a.n(o),c=a("q1tI"),l=a.n(c),s=a("SH7X"),u=a("1I/2"),d=a("buk/"),m=a("V2U0"),f=a("ZLzk"),p=a("MSWZ"),b=a("dN3h"),h=a("FZFE"),v=a("YB/B"),y=a("8kiM"),g=a("GoJ1"),O=a("4BeY"),j=a.n(O),E=a("IaFt"),x=a.n(E),_=new j.a({id:"empty_b02f44d5e51464ad11702351c2fec42f",use:"empty_b02f44d5e51464ad11702351c2fec42f-usage",viewBox:"0 0 250 163",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 163" id="empty_b02f44d5e51464ad11702351c2fec42f"><g clip-path="url(#empty_b02f44d5e51464ad11702351c2fec42f_a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M54.535 10.576a25.382 25.382 0 0 1 3.93 0l.154-1.994a27.36 27.36 0 0 0-4.238 0l.154 1.994Zm7.805.61c1.284.307 2.53.713 3.73 1.21l.766-1.847a26.798 26.798 0 0 0-4.031-1.309l-.465 1.945Zm-15.41 1.21c1.2-.497 2.446-.903 3.73-1.21l-.465-1.946a26.798 26.798 0 0 0-4.03 1.309l.765 1.848Zm22.633 1.784a25.08 25.08 0 0 1 3.173 2.309l1.3-1.52a27.097 27.097 0 0 0-3.426-2.493l-1.047 1.704Zm-29.3 2.309a25.08 25.08 0 0 1 3.174-2.309l-1.047-1.704a27.097 27.097 0 0 0-3.426 2.493l1.3 1.52Zm35.248 2.775a25.09 25.09 0 0 1 2.309 3.173l1.704-1.047a27.097 27.097 0 0 0-2.493-3.426l-1.52 1.3ZM35.18 22.437a25.08 25.08 0 0 1 2.309-3.173l-1.52-1.3a27.097 27.097 0 0 0-2.493 3.426l1.704 1.047Zm44.423 3.493c.498 1.2.904 2.446 1.212 3.73l1.945-.465a26.794 26.794 0 0 0-1.309-4.03l-1.847.765Zm-47.418 3.73c.308-1.284.714-2.53 1.212-3.73l-1.848-.766a26.794 26.794 0 0 0-1.309 4.031l1.945.465Zm49.239 3.875a25.382 25.382 0 0 1 0 3.93l1.994.154a27.38 27.38 0 0 0 0-4.238l-1.994.154ZM31.5 35.5c0-.661.026-1.316.076-1.965l-1.994-.154a27.38 27.38 0 0 0 0 4.238l1.994-.154A25.382 25.382 0 0 1 31.5 35.5Zm49.315 5.84a24.793 24.793 0 0 1-1.212 3.73l1.848.766a26.794 26.794 0 0 0 1.309-4.031l-1.945-.465Zm-47.418 3.73a24.798 24.798 0 0 1-1.212-3.73l-1.945.465a26.794 26.794 0 0 0 1.309 4.03l1.848-.765Zm44.423 3.493a25.08 25.08 0 0 1-2.309 3.173l1.52 1.3a27.097 27.097 0 0 0 2.493-3.426l-1.704-1.047Zm-40.331 3.173a25.08 25.08 0 0 1-2.309-3.173l-1.704 1.047a27.097 27.097 0 0 0 2.493 3.426l1.52-1.3Zm5.948 5.084a25.08 25.08 0 0 1-3.173-2.309l-1.3 1.52a27.097 27.097 0 0 0 3.426 2.493l1.047-1.704Zm29.3-2.309a25.09 25.09 0 0 1-3.174 2.309l1.047 1.704a27.097 27.097 0 0 0 3.426-2.493l-1.3-1.52ZM50.66 59.815a24.798 24.798 0 0 1-3.73-1.212l-.766 1.848c1.296.537 2.643.977 4.031 1.309l.465-1.945Zm15.41-1.212c-1.2.498-2.446.904-3.73 1.212l.465 1.945a26.794 26.794 0 0 0 4.03-1.309l-.765-1.848ZM56.5 60.5c-.661 0-1.316-.026-1.965-.076l-.154 1.994a27.38 27.38 0 0 0 4.238 0l-.154-1.994c-.649.05-1.304.076-1.965.076Zm41.93 20.225c-.056.19-.115.382-.173.573-.12.394-.24.788-.347 1.185 1.214-6.1-3.12-12.157-7.465-16.006-.34-.301-.688-.595-1.041-.879a29.72 29.72 0 0 0-1.794-1.582C85.29 62.13 84.5 61.5 82.5 60c-3.081-2.31-4.808.687-3.34 1.465 3.84 2.035 5.51 3.322 8.829 6.36a33.302 33.302 0 0 1 5.699 6.805c1.426 2.262 2.73 4.75 3.227 7.4l.047.394c-.442-.657-.89-1.31-1.338-1.963-.892-1.299-1.783-2.597-2.623-3.929-.945-1.5-2.531-.31-1.442 1.256.25.36.496.724.742 1.088.536.793 1.072 1.585 1.653 2.346 1.21 2.057 2.705 3.945 4.212 5.814.25.308.834.3 1.142-.874.738-2.81 2.265-9.689 2.322-10.002.305-1.692-1.265-1.707-1.56-.725-.26.87-.534 1.735-.807 2.6v.001c-.282.895-.565 1.79-.833 2.689Zm21.312 6.919a21.26 21.26 0 0 1 4.758-.713h.001c1.609.057 3.206.296 4.76.714 8.095 2.176 13.959 8.93 14.941 17.207a1.9 1.9 0 0 0 1.698 1.665c4.401.433 9.102 2.943 12.576 6.713 3.051 3.311 4.841 7.179 5.177 11.187v.002c.118 1.394.04 2.826-.232 4.255l-.015.084c-.261 1.815-1.139 4.798-2.45 7.058-2.952 5.102-7.841 7.909-16.348 9.389-3.908.68-7.61 1.162-19.705 1.162l-.423.001-.382-.001c-12.095 0-15.797-.482-19.705-1.162-8.508-1.48-13.397-4.288-16.35-9.389-1.311-2.261-2.188-5.243-2.449-7.058l-.014-.084a15.713 15.713 0 0 1-.233-4.257c.336-4.008 2.127-7.877 5.179-11.188 3.471-3.769 8.172-6.279 12.574-6.712a1.9 1.9 0 0 0 1.698-1.665c.982-8.277 6.846-15.031 14.944-17.208Zm4.723 62.518h.073l.365-.001c11.292 0 15.714-.41 20.355-1.218 6.464-1.125 14.462-3.415 18.982-11.225 1.667-2.876 2.611-6.298 2.916-8.377.329-1.727.422-3.491.278-5.243-.408-4.855-2.54-9.502-6.168-13.44-3.768-4.089-8.624-6.845-13.514-7.713-1.65-9.154-8.384-16.513-17.504-18.964a24.974 24.974 0 0 0-5.525-.838 1.594 1.594 0 0 0-.228-.01 1.442 1.442 0 0 0-.21.01c-1.88.073-3.74.354-5.53.837-9.122 2.452-15.857 9.81-17.507 18.965-4.892.868-9.748 3.624-13.512 7.713-3.63 3.937-5.763 8.585-6.17 13.442a19.484 19.484 0 0 0 .279 5.241c.305 2.078 1.247 5.499 2.915 8.376 4.52 7.81 12.519 10.102 18.982 11.226 4.641.808 9.064 1.218 20.356 1.218l.367.001Zm12.634-27.383c-.034.619.959 1.873 1.804 2.497.945.698.93 1.899.37 2.656-.345.468-.834.712-1.34.712-.347 0-.703-.115-1.023-.352a8.068 8.068 0 0 1-.796-.677c-3.39 1.879-7.383 2.815-11.373 2.815-4.277 0-8.545-1.076-12.067-3.216-.353.294-.693.547-.981.76l-.003.003a1.65 1.65 0 0 1-.987.343c-.207 0-.414-.044-.612-.13-.564-.243-.976-.82-1.052-1.472a1.783 1.783 0 0 1 .714-1.65c1.188-.884 2.086-1.644 1.951-2.719-.118-.932.474-1.695 1.406-1.812.89-.111 1.939.459 2.08 1.579a4.575 4.575 0 0 1-.423 2.585c5.576 3.333 13.426 3.455 19.331.343-.394-.694-.666-1.466-.614-2.37a1.79 1.79 0 0 1 .985-1.52c.601-.302 1.34-.267 1.884.089.511.336.783.896.746 1.536Z" fill="#297EF1" /><path opacity=".722" fill-rule="evenodd" clip-rule="evenodd" d="M122.535 2.576a25.4 25.4 0 0 1 3.93 0l.154-1.994a27.344 27.344 0 0 0-4.238 0l.154 1.994Zm7.805.61a24.86 24.86 0 0 1 3.73 1.21l.766-1.847a26.826 26.826 0 0 0-4.031-1.309l-.465 1.945Zm-15.41 1.21a24.86 24.86 0 0 1 3.73-1.21l-.465-1.946a26.826 26.826 0 0 0-4.031 1.309l.766 1.847Zm22.633 1.784c1.119.687 2.18 1.46 3.173 2.309l1.3-1.52a27.142 27.142 0 0 0-3.426-2.493l-1.047 1.704Zm-29.299 2.309a25.037 25.037 0 0 1 3.173-2.309l-1.047-1.704a27.143 27.143 0 0 0-3.426 2.493l1.3 1.52Zm35.247 2.775a25.112 25.112 0 0 1 2.309 3.173l1.704-1.047a27.072 27.072 0 0 0-2.493-3.426l-1.52 1.3Zm-40.331 3.173a25.112 25.112 0 0 1 2.309-3.173l-1.52-1.3a27.072 27.072 0 0 0-2.493 3.426l1.704 1.047Zm44.424 3.493a24.9 24.9 0 0 1 1.211 3.73l1.945-.465a26.818 26.818 0 0 0-1.309-4.03l-1.847.765Zm-47.419 3.73a24.9 24.9 0 0 1 1.211-3.73l-1.847-.766a26.794 26.794 0 0 0-1.309 4.031l1.945.465Zm49.239 3.875a25.533 25.533 0 0 1 0 3.93l1.994.154a27.531 27.531 0 0 0 0-4.238l-1.994.154ZM99.5 27.5c0-.661.026-1.317.076-1.965l-1.994-.154a27.38 27.38 0 0 0 0 4.238l1.994-.154A25.382 25.382 0 0 1 99.5 27.5Zm49.315 5.84a24.895 24.895 0 0 1-1.211 3.73l1.847.766a26.818 26.818 0 0 0 1.309-4.031l-1.945-.465Zm-47.419 3.73a24.9 24.9 0 0 1-1.211-3.73l-1.945.465a26.794 26.794 0 0 0 1.309 4.03l1.847-.765Zm44.424 3.493a25.112 25.112 0 0 1-2.309 3.173l1.52 1.3a27.068 27.068 0 0 0 2.493-3.426l-1.704-1.047Zm-40.331 3.173a25.112 25.112 0 0 1-2.309-3.173l-1.704 1.047a27.068 27.068 0 0 0 2.493 3.426l1.52-1.3Zm5.948 5.084a25.032 25.032 0 0 1-3.173-2.309l-1.3 1.52a27.157 27.157 0 0 0 3.426 2.493l1.047-1.704Zm29.299-2.309a25.041 25.041 0 0 1-3.173 2.309l1.047 1.704a27.157 27.157 0 0 0 3.426-2.493l-1.3-1.52Zm-22.076 5.304a24.857 24.857 0 0 1-3.73-1.212l-.766 1.848a26.82 26.82 0 0 0 4.031 1.309l.465-1.945Zm15.41-1.212c-1.2.498-2.446.904-3.73 1.212l.465 1.945a26.82 26.82 0 0 0 4.031-1.309l-.766-1.848ZM124.5 52.5a25.42 25.42 0 0 1-1.965-.076l-.154 1.994a27.363 27.363 0 0 0 4.238 0l-.154-1.994a25.42 25.42 0 0 1-1.965.076Zm68-42c-.661 0-1.316.026-1.965.076l-.154-1.994a27.343 27.343 0 0 1 4.238 0l-.154 1.994a25.42 25.42 0 0 0-1.965-.076Zm9.57 1.896a24.857 24.857 0 0 0-3.73-1.21l.465-1.946c1.388.332 2.735.772 4.031 1.309l-.766 1.848Zm-15.41-1.21c-1.284.307-2.53.713-3.73 1.21l-.766-1.847a26.824 26.824 0 0 1 4.031-1.309l.465 1.945Zm22.076 5.303a25.032 25.032 0 0 0-3.173-2.309l1.047-1.704a27.157 27.157 0 0 1 3.426 2.493l-1.3 1.52Zm-29.299-2.309a25.032 25.032 0 0 0-3.173 2.309l-1.3-1.52a27.157 27.157 0 0 1 3.426-2.493l1.047 1.704Zm34.383 8.257a25.112 25.112 0 0 0-2.309-3.173l1.52-1.3a27.068 27.068 0 0 1 2.493 3.426l-1.704 1.047Zm-40.331-3.173a25.112 25.112 0 0 0-2.309 3.173l-1.704-1.047a27.068 27.068 0 0 1 2.493-3.426l1.52 1.3Zm43.326 10.396a24.9 24.9 0 0 0-1.211-3.73l1.847-.766a26.818 26.818 0 0 1 1.309 4.031l-1.945.465Zm-47.419-3.73a24.9 24.9 0 0 0-1.211 3.73l-1.945-.465a26.818 26.818 0 0 1 1.309-4.03l1.847.765ZM217.5 35.5c0-.661-.026-1.316-.076-1.965l1.994-.154a27.531 27.531 0 0 1 0 4.238l-1.994-.154c.05-.649.076-1.304.076-1.965Zm-49.924-1.965a25.533 25.533 0 0 0 0 3.93l-1.994.154a27.531 27.531 0 0 1 0-4.238l1.994.154Zm48.028 11.535a24.895 24.895 0 0 0 1.211-3.73l1.945.465a26.818 26.818 0 0 1-1.309 4.03l-1.847-.766Zm-47.419-3.73a24.9 24.9 0 0 0 1.211 3.73l-1.847.766a26.818 26.818 0 0 1-1.309-4.031l1.945-.465Zm43.326 10.396a25.112 25.112 0 0 0 2.309-3.173l1.704 1.047a27.068 27.068 0 0 1-2.493 3.426l-1.52-1.3Zm-40.331-3.173a25.112 25.112 0 0 0 2.309 3.173l-1.52 1.3a27.068 27.068 0 0 1-2.493-3.426l1.704-1.047Zm5.084 5.948c.993.85 2.054 1.622 3.173 2.309l-1.047 1.704a27.157 27.157 0 0 1-3.426-2.493l1.3-1.52Zm29.299 2.309a25.041 25.041 0 0 0 3.173-2.309l1.3 1.52a27.157 27.157 0 0 1-3.426 2.493l-1.047-1.704Zm-22.633 1.783c1.2.498 2.446.904 3.73 1.212l-.465 1.945a26.82 26.82 0 0 1-4.031-1.309l.766-1.848Zm15.41 1.212a24.857 24.857 0 0 0 3.73-1.212l.766 1.848a26.82 26.82 0 0 1-4.031 1.309l-.465-1.945Zm-7.805.609a25.42 25.42 0 0 0 3.93 0l.154 1.994a27.363 27.363 0 0 1-4.238 0l.154-1.994ZM222.5 67.5c-.661 0-1.316.026-1.965.076l-.154-1.994a27.363 27.363 0 0 1 4.238 0l-.154 1.994a25.42 25.42 0 0 0-1.965-.076Zm9.57 1.897a24.857 24.857 0 0 0-3.73-1.212l.465-1.945a26.82 26.82 0 0 1 4.031 1.309l-.766 1.847Zm-15.41-1.212c-1.284.308-2.53.714-3.73 1.212l-.766-1.848a26.82 26.82 0 0 1 4.031-1.309l.465 1.945Zm22.076 5.304a25.032 25.032 0 0 0-3.173-2.309l1.047-1.704a27.157 27.157 0 0 1 3.426 2.493l-1.3 1.52Zm-29.299-2.309a25.041 25.041 0 0 0-3.173 2.309l-1.3-1.52a27.157 27.157 0 0 1 3.426-2.493l1.047 1.704Zm34.383 8.257a25.112 25.112 0 0 0-2.309-3.173l1.52-1.3a27.076 27.076 0 0 1 2.493 3.426l-1.704 1.047Zm-40.331-3.173a25.112 25.112 0 0 0-2.309 3.173l-1.704-1.047a27.068 27.068 0 0 1 2.493-3.426l1.52 1.3Zm43.326 10.396a24.895 24.895 0 0 0-1.211-3.73l1.847-.766a26.818 26.818 0 0 1 1.309 4.031l-1.945.465Zm-47.419-3.73a24.895 24.895 0 0 0-1.211 3.73l-1.945-.465a26.818 26.818 0 0 1 1.309-4.03l1.847.765ZM247.5 92.5c0-.661-.026-1.317-.076-1.965l1.994-.154a27.531 27.531 0 0 1 0 4.238l-1.994-.154c.05-.648.076-1.304.076-1.965Zm-49.924-1.965a25.533 25.533 0 0 0 0 3.93l-1.994.154a27.531 27.531 0 0 1 0-4.238l1.994.154Zm48.028 11.535c.497-1.2.903-2.446 1.211-3.73l1.945.465a26.841 26.841 0 0 1-1.309 4.031l-1.847-.766Zm-47.419-3.73c.308 1.284.714 2.53 1.211 3.73l-1.847.766a26.841 26.841 0 0 1-1.309-4.031l1.945-.465Zm43.326 10.396a25.063 25.063 0 0 0 2.309-3.173l1.704 1.047a27.127 27.127 0 0 1-2.493 3.426l-1.52-1.3Zm-40.331-3.173a25.063 25.063 0 0 0 2.309 3.173l-1.52 1.3a27.127 27.127 0 0 1-2.493-3.426l1.704-1.047Zm5.084 5.948a25.063 25.063 0 0 0 3.173 2.309l-1.047 1.704a27.127 27.127 0 0 1-3.426-2.493l1.3-1.52Zm29.299 2.309a25.063 25.063 0 0 0 3.173-2.309l1.3 1.52a27.127 27.127 0 0 1-3.426 2.493l-1.047-1.704Zm-22.633 1.784c1.2.497 2.446.903 3.73 1.211l-.465 1.945a26.844 26.844 0 0 1-4.031-1.309l.766-1.847Zm15.41 1.211a24.96 24.96 0 0 0 3.73-1.211l.766 1.847a26.844 26.844 0 0 1-4.031 1.309l-.465-1.945Zm-7.805.609a25.571 25.571 0 0 0 3.93 0l.154 1.994a27.513 27.513 0 0 1-4.238 0l.154-1.994Zm-72.882-33.432c.309 1.174.893 1.18 1.142.874 1.507-1.87 3.002-3.757 4.213-5.815.575-.754 1.105-1.538 1.636-2.323h.001c.25-.372.501-.743.757-1.111 1.09-1.565-.496-2.755-1.442-1.255-.842 1.338-1.738 2.642-2.634 3.945l-.001.002-.001.002-.002.002v.001c-.443.645-.886 1.29-1.323 1.939l.011-.088.005-.05c.01-.084.02-.17.032-.255.497-2.651 1.8-5.137 3.227-7.4 1.582-2.511 3.476-4.857 5.699-6.806l.613-.54c2.568-2.258 3.662-3.22 6.914-4.614 1.506-.646.463-2.943-1.454-2.184-2.647 1.049-3.31 1.589-5.366 3.263l-.329.267a29.587 29.587 0 0 0-1.793 1.582c-.353.284-.7.577-1.041.879-4.345 3.848-8.68 9.907-7.466 16.006a38.548 38.548 0 0 0-.35-1.192v-.001l-.001-.003a170.679 170.679 0 0 0-1.012-3.284l-.001-.004-.001-.001v-.001c-.269-.853-.538-1.706-.795-2.563-.294-.982-1.865-.967-1.56.726.057.312 1.585 7.192 2.322 10.002Zm14.987 15.75c-.315.099-.719-.176-.391-1.136.784-2.3 2.899-7.795 3.003-8.04.57-1.318 1.668-.604 1.42.215-.215.71-.419 1.423-.624 2.136a140.289 140.289 0 0 1-.746 2.537l-.042.142-.043.143h-.001c-.095.319-.19.638-.294.953 1.972-4.81 7.788-7.03 12.594-7.7.373-.053.752-.095 1.128-.133a27.618 27.618 0 0 1 1.98-.273 24.43 24.43 0 0 1 7.454.404c1.685.353 1.248 2.329-.078 2.01-3.528-.862-5.568-.54-9.088.017l-.309.049a27.539 27.539 0 0 0-7.113 2.108c-2.039.912-4.095 2.046-5.665 3.66-.073.083-.145.168-.216.253.597-.248 1.197-.49 1.797-.732 1.235-.499 2.469-.997 3.683-1.542 1.351-.61 1.905.952.423 1.54-.335.134-.669.27-1.002.408h-.001c-.744.307-1.488.614-2.249.877-1.794.874-3.708 1.499-5.62 2.104Zm-79.49.143.075.252c.094.313.187.626.289.936-1.97-4.808-7.788-7.027-12.592-7.698a24.782 24.782 0 0 0-1.13-.133 25.621 25.621 0 0 0-1.98-.272 24.563 24.563 0 0 0-7.453.4c-1.685.356-.808 2.337.641 2.13 3.5-.5 5.12-.636 8.836-.054a27.895 27.895 0 0 1 7.111 2.109c2.038.915 4.095 2.046 5.667 3.662l.215.254c-.618-.257-1.238-.507-1.858-.757-1.216-.491-2.43-.98-3.623-1.518-1.351-.608-1.906.953-.424 1.54.343.136.685.277 1.026.418.737.303 1.474.607 2.228.868 1.794.873 3.706 1.498 5.619 2.104.315.099.72-.177.39-1.137-.784-2.298-2.896-7.794-3.001-8.038-.57-1.32-1.67-.605-1.422.215.214.706.418 1.415.621 2.123v.001a136.68 136.68 0 0 0 .765 2.595Zm42.699-29.643.001-.001c.406-.625.812-1.249 1.209-1.877.465-.737 1.771-.495 1.137.805-.116.239-2.927 5.479-4.172 7.606-.518.887-1.007.806-1.146.528-.84-1.71-1.664-3.425-2.214-5.24-.309-.677-.574-1.373-.84-2.07a71.682 71.682 0 0 0-.39-1.006c-.558-1.405 1.031-2.118 1.484-.788.409 1.199.869 2.377 1.329 3.556.221.567.442 1.134.658 1.703l.049-.317c.102-1.257-.099-4.488-.28-7.406-.133-2.143-.256-4.117-.24-5.014.045-2.583 1.649-2.768 2.033-.68.532 2.895.617 10.849-.785 13.605.185-.312.381-.62.577-.926l.25-.393c.438-.699.889-1.392 1.34-2.085Zm-32.885 89.264c2.649.927 9.448 1.729 14.93 2.05 14.962.875 35.872.4 44.733-1.213 8.931-1.624 9.331-4.082-13.373-5.301-19.328-1.037-41.89.442-46.716 2.642-1.295.591-1.223 1.247.425 1.822h.001Zm-67.428-91.93a25.382 25.382 0 0 1 3.928 0l.155-1.994a27.38 27.38 0 0 0-4.238 0l.154 1.994Zm7.804.61c1.284.307 2.53.713 3.73 1.21l.766-1.847a26.794 26.794 0 0 0-4.031-1.309l-.465 1.945Zm-15.41 1.21c1.2-.497 2.446-.903 3.73-1.21l-.465-1.946a26.794 26.794 0 0 0-4.03 1.309l.765 1.847Zm22.633 1.784a25.08 25.08 0 0 1 3.173 2.309l1.3-1.52a27.097 27.097 0 0 0-3.426-2.493l-1.047 1.704Zm-29.3 2.309a25.09 25.09 0 0 1 3.174-2.309l-1.047-1.704a27.101 27.101 0 0 0-3.426 2.493l1.3 1.52Zm35.248 2.775a25.09 25.09 0 0 1 2.309 3.173l1.704-1.047a27.105 27.105 0 0 0-2.493-3.426l-1.52 1.3ZM6.18 79.437a25.087 25.087 0 0 1 2.309-3.173l-1.52-1.3a27.082 27.082 0 0 0-2.493 3.426l1.704 1.047Zm44.423 3.493a24.793 24.793 0 0 1 1.212 3.73l1.945-.465a26.794 26.794 0 0 0-1.309-4.03l-1.848.765ZM3.185 86.66c.308-1.284.714-2.53 1.211-3.73l-1.847-.766a26.8 26.8 0 0 0-1.309 4.031l1.945.465Zm49.239 3.876a25.382 25.382 0 0 1 0 3.928l1.994.155a27.38 27.38 0 0 0 0-4.238l-1.994.154ZM2.5 92.5c0-.661.026-1.317.076-1.965l-1.994-.154a27.362 27.362 0 0 0 0 4.238l1.994-.154A25.362 25.362 0 0 1 2.5 92.5Zm49.315 5.84a24.836 24.836 0 0 1-1.212 3.73l1.848.766a26.818 26.818 0 0 0 1.309-4.031l-1.945-.465Zm-47.419 3.73a24.84 24.84 0 0 1-1.21-3.73l-1.946.465a26.824 26.824 0 0 0 1.309 4.031l1.847-.766Zm44.424 3.493a25.032 25.032 0 0 1-2.309 3.173l1.52 1.3a27.157 27.157 0 0 0 2.493-3.426l-1.704-1.047Zm-40.331 3.173a25.037 25.037 0 0 1-2.309-3.173l-1.704 1.047a27.143 27.143 0 0 0 2.493 3.426l1.52-1.3Zm5.948 5.084a25.112 25.112 0 0 1-3.173-2.309l-1.3 1.52a27.072 27.072 0 0 0 3.426 2.493l1.047-1.704Zm29.3-2.309a25.112 25.112 0 0 1-3.174 2.309l1.047 1.704a27.068 27.068 0 0 0 3.426-2.493l-1.3-1.52Zm-22.077 5.304a24.9 24.9 0 0 1-3.73-1.211l-.766 1.847c1.296.537 2.643.977 4.031 1.309l.465-1.945Zm15.41-1.211a24.9 24.9 0 0 1-3.73 1.211l.465 1.945a26.818 26.818 0 0 0 4.03-1.309l-.765-1.847ZM27.5 117.5c-.661 0-1.317-.026-1.965-.076l-.154 1.994a27.531 27.531 0 0 0 4.238 0l-.154-1.994c-.648.05-1.304.076-1.965.076Z" fill="#BBD9FD" /><path fill-rule="evenodd" clip-rule="evenodd" d="M53.388 24.971a3.125 3.125 0 1 1 6.25 0 3.125 3.125 0 0 1-6.25 0m4.378 11.8c1.882-3.2 5.218-9.233 5.218-11.8a6.471 6.471 0 0 0-12.943 0c0 2.567 3.336 8.6 5.218 11.8a1.454 1.454 0 0 0 2.507 0" fill="#335C9E" /><mask id="empty_b02f44d5e51464ad11702351c2fec42f_b" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="47" y="31" width="23" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M47.5 31.533h21.973v18.886H47.5V31.533Z" fill="#fff" /></mask><g mask="url(#empty_b02f44d5e51464ad11702351c2fec42f_b)"><path fill-rule="evenodd" clip-rule="evenodd" d="M68.62 46.702a493.936 493.936 0 0 0-4.675-4.122 8.961 8.961 0 0 0 1.58-5.091 8.974 8.974 0 0 0-2.254-5.956l-.059.123a67.632 67.632 0 0 1-1.219 2.405c.624.995.987 2.17.987 3.428a6.474 6.474 0 0 1-6.467 6.467 6.474 6.474 0 0 1-6.468-6.468c0-1.258.363-2.432.987-3.427-.417-.786-.832-1.6-1.219-2.405l-.058-.123a8.975 8.975 0 0 0-2.255 5.956c0 4.97 4.043 9.012 9.013 9.012a8.96 8.96 0 0 0 5.113-1.595c.707.835 3.666 4.327 4.231 4.959.755.844 2.37.666 3.093-.15.656-.741.846-1.953-.33-3.013" fill="#335C9E" /></g><g clip-path="url(#empty_b02f44d5e51464ad11702351c2fec42f_c)"><path d="M176.5 19.5h32v32h-32v-32Z" fill="#0C131F" /><path d="M208.5 26.789V44.21a8.705 8.705 0 0 1-8.711-8.711 8.705 8.705 0 0 1 8.711-8.711Z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M176.5 44.211V26.79h12.988c4.811 0 8.701 3.911 8.701 8.721 0 4.81-3.89 8.701-8.701 8.701H176.5Zm12.444-2.489a6.223 6.223 0 1 0 0-12.445 6.223 6.223 0 0 0 0 12.445Z" fill="#8DE8FE" /></g><path fill-rule="evenodd" clip-rule="evenodd" d="M43.319 95.1c-.8-4.933-5.467-8.2-10.4-7.4l1.467-8.267-5.267-.933c-.467 1-2.4 5.533-3.4 10.6 1.933 1.333 3.4 3.4 3.8 5.933.466 2.667-.333 5.267-1.933 7.267.4.467.866.933 1.333 1.333 2.066 1.6 4.533 2.267 6.933 1.8 5-.733 8.334-5.4 7.467-10.333" fill="#054752" /><path fill-rule="evenodd" clip-rule="evenodd" d="m25.652 89.7.134-.533c-1.867-1.267-4.2-1.867-6.6-1.467l1.466-8.2-5.266-.933c-.467 1-2.6 5.866-3.467 11.133-.733 4.267-.667 8.867 1.533 12.067.467.666 1.067 1.333 1.8 1.866 2.067 1.6 4.534 2.267 7 1.8 2.2-.333 4.134-1.533 5.467-3.133l-.4-.533c-2.333-3.2-2.4-7.734-1.667-12.067" fill="#2DBEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M29.586 95.1c-.467-2.533-1.867-4.6-3.8-5.933l-.134.533c-.733 4.267-.666 8.867 1.534 12.067l.4.533c1.667-1.933 2.466-4.533 2-7.2" fill="#9EF769" /><path fill-rule="evenodd" clip-rule="evenodd" d="M126.1 13.211c-3.956 0-7.644 1.778-10.133 4.934a12.673 12.673 0 0 0-2.667 7.777v2.356c0 1.022-.4 2-1.067 2.71-.533.534-1.2.934-1.911 1.112.267.667.889 1.689 2 2.8a11.266 11.266 0 0 0 3.245 2.355v-.044a3.986 3.986 0 0 1 3.377-1.822c.267 0 .489.044.756.089a3.992 3.992 0 0 1 3.156 3.11h3.288c3.423 0 6.667-1.421 9.023-3.733 3.644-3.644 4.755-9.11 2.755-13.822-2-4.755-6.622-7.822-11.822-7.822Z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M126.1 11.611c-4.4 0-8.533 1.956-11.333 5.467a14.285 14.285 0 0 0-3.067 8.889v2.31c0 1.2-.844 2.312-2.489 2.4-.4 0-.711.312-.755.712-.045 1.067 1.111 3.067 2.711 4.667 1.111 1.11 2.4 2 3.777 2.71-.444 2.445 1.467 4.667 3.956 4.667h.044a4 4 0 0 0 3.912-3.155h3.333c.355 1.822 1.955 3.155 3.911 3.155.444 0 .933-.089 1.378-.222 1.111-.355 1.955-1.2 2.355-2.311a4.286 4.286 0 0 0 0-2.889c.889-.578 1.689-1.2 2.445-1.956a14.158 14.158 0 0 0 4.222-10.088c0-3.822-1.511-7.378-4.222-10.09-2.711-2.8-6.356-4.266-10.178-4.266Zm0 1.6c5.156 0 9.822 3.111 11.822 7.867 2 4.755.889 10.222-2.755 13.822a12.783 12.783 0 0 1-9.023 3.733h-3.288c-.312-1.6-1.556-2.8-3.156-3.11-.267-.045-.489-.09-.756-.09a4.043 4.043 0 0 0-3.377 1.822v.045c-1.2-.622-2.267-1.422-3.245-2.355-1.111-1.112-1.733-2.178-2-2.8.756-.178 1.378-.578 1.911-1.112.667-.755 1.067-1.689 1.067-2.71v-2.356c0-2.8.933-5.556 2.667-7.778 2.489-3.245 6.177-4.978 10.133-4.978Z" fill="#000" /><path fill-rule="evenodd" clip-rule="evenodd" d="M132.5 21.122c-.889 0-1.6.711-1.6 1.6 0 .89.711 1.6 1.6 1.6.889 0 1.6-.71 1.6-1.6 0-.889-.711-1.6-1.6-1.6ZM122.9 21.122c-.889 0-1.6.711-1.6 1.6 0 .89.711 1.6 1.6 1.6.889 0 1.6-.71 1.6-1.6 0-.889-.711-1.6-1.6-1.6ZM122.633 27.478c-.577 0-.977.577-.711 1.11a6.39 6.39 0 0 0 5.778 3.645 6.39 6.39 0 0 0 5.778-3.644c.222-.534-.134-1.111-.711-1.111a.791.791 0 0 0-.711.444 4.829 4.829 0 0 1-4.312 2.711c-1.866 0-3.555-1.066-4.311-2.71-.177-.267-.444-.445-.8-.445Z" fill="#000" /><path fill-rule="evenodd" clip-rule="evenodd" d="M234.459 103.335c.307 0 .614 0 1.008-.044v4.947c-.832.175-1.488.262-2.408.262-4.202 0-6.829-2.451-6.829-6.61V76.5h5.735v24.427c0 1.882 1.05 2.408 2.494 2.408Zm-16.284-19.13c0 .437 0 .832-.088 1.182h-5.734c.394-.525.568-1.314.568-2.19v-2.976h5.254v3.984Zm-9.675 2.452v5.165h2.189c3.896 0 6.26-2.058 7.18-5.165H208.5Zm10.638 0c-.525 2.232-1.532 3.808-3.546 5.165h6.917v-5.165h-3.371Zm-6.742 6.434v8.756c0 4.158 2.627 6.653 6.829 6.653 2.145 0 3.283-.525 3.283-.525v-4.815c-.306.087-1.094.175-1.794.175-1.664 0-2.54-.613-2.54-2.496v-7.748h-5.778Z" fill="#00D5B5" /></g><defs><clipPath id="empty_b02f44d5e51464ad11702351c2fec42f_a"><path fill="#fff" transform="translate(.5 .5)" d="M0 0h249v162H0z" /></clipPath><clipPath id="empty_b02f44d5e51464ad11702351c2fec42f_c"><path d="M176.5 25.5a6 6 0 0 1 6-6h20a6 6 0 0 1 6 6v20a6 6 0 0 1-6 6h-20a6 6 0 0 1-6-6v-20Z" fill="#fff" /></clipPath></defs></symbol>'}),w=(x.a.add(_),_),C=function(){var e=Object(d.e)().t,t=Object(u.b)().isMobile;return l.a.createElement(g.a,{"data-testid":"EmptyContent",className:t?"u-p-1":"u-flex-justify-start u-p-3",icon:w,iconSize:"large",title:e("empty.title"),text:e("empty.text")})},D=a("tr08"),M=a("lF6h"),S=a("yXPU"),k=a.n(S),P=a("J4zp"),Z=a.n(P),N=a("o0o1"),A=a.n(N),T=a("Vggm"),B=a.n(T),I=a("mgfL"),z=a.n(I),F=(a("dLU1"),a("phiu")),L=a("9ig3"),R=(a("u/yc"),a("sWYD")),U=a("iThD"),q=a("X7BR"),V=a("2E0U");var H=s.models.dacc,Q=(H.sendMeasureToDACC,H.fetchAggregatesFromDACC),G=function(){return!0===z()("coachco2.dacc-dev_v2")?V.d:V.c},W=function(){var e=k()(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=G(),n=Object(R.a)(Object(L.a)(Object(F.a)(Date.now(),11)),"yyyy-MM-dd"),e.next=5,Q(t,a,{measureName:q.j,startDate:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),B()("error","Error while retrieving data from remote-doctype: ".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=Object(s.useClient)(),a=Object(c.useState)(!1),n=Z()(a,2),r=n[0],o=n[1],i=Object(c.useState)(null),l=Z()(i,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){e&&function(){var e=k()(A.a.mark((function e(){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,W(t);case 3:a=e.sent,n=(null==a?void 0:a.length)>0?a.map((function(e){return e.avg})):null,o(!1),d(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,e]),{isLoading:r,data:u}},K=a("1aYg"),X=a("y6ex"),J=a("EqKg"),$=a("c8ah"),ee={minHeight:"48px",display:"flex",alignItems:"center"},te=function(){var e=Object(d.e)().t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null),l.a.createElement(K.a,{style:ee,className:"u-ph-1-s u-ph-2",square:!0,elevation:0},l.a.createElement(X.a,{className:"u-mr-half",icon:J.a,color:"var(--primaryColor)",size:8}),l.a.createElement($.a,{className:"u-mr-1",display:"inline",variant:"caption",color:"textPrimary"},e("vericalBarChart.legend.yours")),l.a.createElement(X.a,{className:"u-mr-half",icon:J.a,color:"var(--borderMainColor)",size:8}),l.a.createElement($.a,{display:"inline",variant:"caption",color:"textPrimary"},e("vericalBarChart.legend.average"))))},ae=a("m0r1"),ne=a("ymym");ae.f.register(ae.e,ae.i,ae.c,ae.n),ae.f.defaults.font={family:"Lato, sans-serif",size:"11",weight:"700"};var re=function(e){var t=e.className,a=e.title,n=e.data,r=e.options,o=e.width,i=e.height,c=e.children;return l.a.createElement(l.a.Fragment,null,l.a.createElement($.a,{className:"u-mt-1 u-ml-1",variant:"h5"},a),l.a.createElement("div",{style:{width:o,height:i}},l.a.createElement(ne.a,{className:t,width:o,height:i,options:r,data:n})),c)},oe=["data"];function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=function(){var e=Object(d.e)(),t=e.t,a=e.f,n=Object(D.a)(),r=Object(u.b)().isMobile,o=Object(y.c)().account,c=Object(M.a)("allowSendDataToDacc"),m=c.isSettingsLoading,f=c.value,p=Object(b.d)(null==o?void 0:o._id),h=Object(s.useQueryAll)(p.definition,ce(ce({},p.options),{},{enabled:Boolean(o)})),v=h.data,g=i()(h,oe),O=Y(f).data;if(!o||Object(s.isQueryLoading)(g)||g.hasMore||0===v.length)return null;var j=!m&&f,E=function(e){return{maintainAspectRatio:!1,scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{color:e.palette.text.secondary}},y:{grid:{color:e.palette.border.main,drawBorder:!1},ticks:{color:e.palette.text.secondary,callback:function(e,t){return t%2==0?"".concat(e," kg"):""}}}},plugins:{tooltip:{displayColors:!1}}}}(n),x=function(e){var t=e.theme,a=e.isMobile,n=e.oneYearOldTimeseries,r=e.allowSendDataToDacc,o=e.globalAverages,i=e.f,c=e.t,l=Object(U.d)(n,i),s=l.months,u=l.CO2s,d={labels:s,datasets:[{label:c("vericalBarChart.legend.yours"),backgroundColor:t.palette.primary.main,borderRadius:a?8:4,barThickness:a?r?6:8:24,data:u}]};return r&&d.datasets.push({label:c("vericalBarChart.legend.average"),backgroundColor:t.palette.border.main,borderRadius:a?8:4,barPercentage:a?.55:.85,data:o}),d}({theme:n,isMobile:r,oneYearOldTimeseries:v,allowSendDataToDacc:f,globalAverages:O,f:a,t:t});return l.a.createElement(re,{className:"u-mt-1 u-ph-half-s u-ph-2",title:t("vericalBarChart.title"),height:"190px",data:x,options:E},j&&l.a.createElement(te,null))},se=a("dexL"),ue=a("aR52"),de=a("KiAD"),me=function(e){var t=e.onDiscard,a=e.onAccept,n=Object(d.e)().t;return l.a.createElement(se.a,{className:"u-mh-half-s u-mh-2 u-mb-half-s u-mb-1 u-mt-0-s u-mt-1 u-bdrs-4 u-pv-half u-pr-half",text:n("dacc.tripsCard.label"),icon:l.a.createElement(X.a,{className:"u-ml-1",style:{marginTop:12,color:"var(--primaryColor)"},icon:de.a,size:16}),buttonOne:l.a.createElement(ue.a,{variant:"text",label:n("dacc.tripsCard.discard"),onClick:t}),buttonTwo:l.a.createElement(ue.a,{variant:"text",label:n("dacc.tripsCard.accept"),onClick:a}),bgcolor:"#EAF3FF",disableIconStyles:!0})},fe=a("e5eR"),pe=new j.a({id:"dacc-compare_095afa7eb600270496978dbb605e6b2d",use:"dacc-compare_095afa7eb600270496978dbb605e6b2d-usage",viewBox:"0 0 200 136",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 136" id="dacc-compare_095afa7eb600270496978dbb605e6b2d"><path fill="#fff" d="M0 0h200v136H0z" /><path d="M161 14.592c-1.888.222-7.568-.664-15.182-5.982-9.518-6.647-13.847-8.724-22.434-4.183C115 8.86 115.227 23.012 115 27M165.844 92c5.431-3.51 16.097-12.334 15.315-19.554-.977-9.025-12.708-11.282-22.81-10.78-10.101.501-17.596 4.512-28.349 1.504M23.495 72c-.329 4.729-2.425 21.765 5.479 27.308 9.88 6.928 23.668-1.244 30.831-5.203C66.97 90.146 79.072 83.217 85 85.527" stroke="#B2D3FF" stroke-width="4" stroke-linecap="round" /><path fill-rule="evenodd" clip-rule="evenodd" d="M62 118a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm.968-10.899c1.777.371 3.182 1.857 3.472 3.649a4.507 4.507 0 0 1-2.828 4.953l-.112.039V117h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L62 113a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.399Z" fill="#38D1D3" /><circle cx="100" cy="64" fill="#297EF2" r="48" /><path fill-rule="evenodd" clip-rule="evenodd" d="M120.91 37.605a2.166 2.166 0 0 1 .235 3.055l-13 15.167a2.166 2.166 0 0 1-2.33.645L93.96 52.52 81.887 62.581a2.167 2.167 0 0 1-2.774-3.329l13-10.833a2.167 2.167 0 0 1 2.072-.391l11.618 3.873 12.052-14.061a2.166 2.166 0 0 1 3.055-.235Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M119.5 42.5a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5Zm-26 10.833a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5Zm-13 10.834a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5Zm29.25-9.75a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0ZM117.167 53.333a2 2 0 0 0-2 2V86a2 2 0 0 0 2 2h4.666a2 2 0 0 0 2-2V55.333a2 2 0 0 0-2-2h-4.666Zm-26 10.834a2 2 0 0 0-2 2V86a2 2 0 0 0 2 2h4.666a2 2 0 0 0 2-2V66.167a2 2 0 0 0-2-2h-4.666ZM78.167 75a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h4.666a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-4.666Zm24-4.5a2 2 0 0 1 2-2h4.666a2 2 0 0 1 2 2V86a2 2 0 0 1-2 2h-4.666a2 2 0 0 1-2-2V70.5Z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M43 21a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5Zm1.452-16.349c2.666.557 4.773 2.786 5.208 5.474a6.76 6.76 0 0 1-4.242 7.43l-.168.058V19.5h-4.5v-3.75c0-1.17.893-2.13 2.034-2.24L43 13.5a2.25 2.25 0 1 0-2.24-2.468l-.01.218h-4.5a6.758 6.758 0 0 1 8.202-6.599Z" fill="#72E7E9" /><path fill-rule="evenodd" clip-rule="evenodd" d="M69 19a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.249 2.249 0 0 1 1.736 1.825 2.253 2.253 0 0 1-1.414 2.476l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L69 16.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M46 42a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.249 2.249 0 0 1 1.736 1.825 2.253 2.253 0 0 1-1.414 2.476l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L46 39.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2ZM20 14a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.249 2.249 0 0 1 1.736 1.825 2.253 2.253 0 0 1-1.414 2.476l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L20 11.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#D3FEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M26 33a1.125 1.125 0 1 1 0 2.25A1.125 1.125 0 0 1 26 33Zm.726-8.174c1.333.278 2.387 1.392 2.604 2.736a3.38 3.38 0 0 1-2.12 3.715l-.085.03v.943h-2.25v-1.875c0-.584.447-1.065 1.017-1.12L26 29.25a1.125 1.125 0 1 0-1.12-1.234l-.005.109h-2.25a3.38 3.38 0 0 1 4.101-3.3Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M39 116.5a.938.938 0 1 1 0 1.876.938.938 0 0 1 0-1.876Zm.605-6.812a2.811 2.811 0 0 1 2.17 2.281 2.816 2.816 0 0 1-1.767 3.095l-.07.025v.786h-1.875v-1.563c0-.487.372-.887.847-.933l.09-.004a.937.937 0 1 0-.933-1.028l-.004.09h-1.875c0-1.75 1.6-3.128 3.417-2.749Z" fill="#9EEEF0" /><path fill-rule="evenodd" clip-rule="evenodd" d="M46 90a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.249 2.249 0 0 1 1.736 1.825 2.253 2.253 0 0 1-1.414 2.476l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L46 87.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M184 99a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm.968-10.9c1.777.372 3.182 1.858 3.472 3.65a4.507 4.507 0 0 1-2.828 4.953l-.112.039V98h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L184 94a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.4Z" fill="#9EEEF0" /><path fill-rule="evenodd" clip-rule="evenodd" d="M191 64a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25Zm.726-8.174c1.333.278 2.387 1.392 2.604 2.736a3.38 3.38 0 0 1-2.121 3.715l-.084.03v.943h-2.25v-1.875c0-.584.447-1.065 1.017-1.12l.108-.005a1.125 1.125 0 1 0-1.12-1.234l-.005.109h-2.25a3.38 3.38 0 0 1 4.101-3.3Z" fill="#D3FEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M134 18a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25Zm.726-8.174c1.333.278 2.387 1.392 2.604 2.736a3.38 3.38 0 0 1-2.121 3.715l-.084.03v.943h-2.25v-1.875c0-.585.447-1.065 1.017-1.12l.108-.005a1.125 1.125 0 1 0-1.12-1.234l-.005.109h-2.25a3.38 3.38 0 0 1 4.101-3.3Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M118 119a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.252 2.252 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747l.072-.003a.75.75 0 1 0-.746-.823l-.004.073h-1.5a2.253 2.253 0 0 1 2.734-2.2ZM153 55a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.253 2.253 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L153 52.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#D3FEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M81 118a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.25 2.25 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L81 115.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5a2.253 2.253 0 0 1 2.734-2.2Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M177 124a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.252 2.252 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747l.072-.003a.75.75 0 1 0-.746-.823l-.004.073h-1.5a2.253 2.253 0 0 1 2.734-2.2Z" fill="#D3FEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M164 75a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.253 2.253 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L164 72.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M92 8.5a.937.937 0 1 1 0 1.875.937.937 0 0 1 0-1.875Zm.605-6.812a2.81 2.81 0 0 1 2.17 2.28 2.817 2.817 0 0 1-1.767 3.096l-.07.025v.786h-1.875V6.312c0-.487.372-.887.847-.933l.09-.004a.937.937 0 1 0-.933-1.028l-.004.09h-1.875c0-1.75 1.6-3.128 3.417-2.749Z" fill="#72E7E9" /><circle cx="148" cy="104" r="24" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M148 106c-4.418 0-8-4.029-8-9 0-4.97 3.582-9 8-9s8 4.03 8 9c0 4.971-3.582 9-8 9Zm-16 10c0-2 4-8 8-8s2 2 8 2 4-2 8-2 8 6 8 8 0 4-2 4h-28c-2 0-2-2-2-4Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M148 101a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 148 101Zm.968-10.9c1.777.372 3.182 1.858 3.472 3.65a4.507 4.507 0 0 1-2.828 4.953l-.112.039V100h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L148 96a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.4Z" fill="#fff" /><circle cx="148" cy="104" r="20" stroke="#B9F6F7" stroke-width="8" /><circle cx="24" cy="65" r="24" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M24 67c-4.418 0-8-4.03-8-9s3.582-9 8-9 8 4.03 8 9-3.582 9-8 9ZM8 77c0-2 4-8 8-8s2 2 8 2 4-2 8-2 8 6 8 8 0 4-2 4H10c-2 0-2-2-2-4Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M24 62a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm.968-10.9c1.777.372 3.182 1.858 3.472 3.65a4.507 4.507 0 0 1-2.828 4.953l-.112.039V61h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L24 57a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.4Z" fill="#fff" /><circle cx="24" cy="65" r="20" stroke="#B9F6F7" stroke-width="8" /><circle cx="172" cy="28" r="24" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M172 30c-4.418 0-8-4.03-8-9s3.582-9 8-9 8 4.03 8 9-3.582 9-8 9Zm-16 10c0-2 4-8 8-8s2 2 8 2 4-2 8-2 8 6 8 8 0 4-2 4h-28c-2 0-2-2-2-4Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M172 25a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm.968-10.9c1.777.372 3.182 1.858 3.472 3.65a4.507 4.507 0 0 1-2.828 4.953l-.112.039V24h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L172 20a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.4Z" fill="#fff" /><circle cx="172" cy="28" r="20" stroke="#B9F6F7" stroke-width="8" /><path d="M66.418 133.29a81.818 81.818 0 0 0 16.142 2.244c16.166.948 38.758.424 48.325-1.346 9.567-1.771 10.083-4.465-14.448-5.812-20.925-1.147-45.26.474-50.362 2.894-1.52.648-1.447 1.371.343 2.02Z" fill="#BBD9FD" /></symbol>'}),be=(x.a.add(pe),pe),he=function(e){var t=e.open,a=e.onClose,n=e.showDaccPermissionsDialog,r=Object(d.e)().t;return l.a.createElement(fe.a,{open:t,onClose:a,content:l.a.createElement("div",{className:"u-ta-center"},l.a.createElement(X.a,{className:"u-mv-1",icon:be,width:200,height:136}),l.a.createElement($.a,{variant:"h3"},r("dacc.compareDialog.title")),l.a.createElement($.a,{className:"u-mt-1"},r("dacc.compareDialog.primaryText")),l.a.createElement($.a,{className:"u-mt-1"},r("dacc.compareDialog.secondaryText"))),actions:l.a.createElement(ue.a,{label:r("dacc.compareDialog.action"),onClick:n})})},ve=a("yFc8"),ye=a("cbAs"),ge=a("gPjO"),Oe=a("vEVt"),je=a("aN1g"),Ee=new j.a({id:"dacc-permissions_3573ba0684a43d6d3596ae2974a0613d",use:"dacc-permissions_3573ba0684a43d6d3596ae2974a0613d-usage",viewBox:"0 0 106 106",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 106 106" id="dacc-permissions_3573ba0684a43d6d3596ae2974a0613d"><g filter="url(#dacc-permissions_3573ba0684a43d6d3596ae2974a0613d_a)"><path d="M16 48c0-19.882 16.118-36 36-36s36 16.118 36 36-16.118 36-36 36-36-16.118-36-36Z" fill="#fff" /></g><path d="M65.11 37.39C63.962 31.193 58.53 26.5 52 26.5c-6.53 0-11.962 4.693-13.11 10.89C32.693 38.538 28 43.97 28 50.5c0 7.364 5.97 13.333 13.333 13.333H62.667C70.03 63.833 76 57.863 76 50.5c0-6.53-4.693-11.962-10.89-13.11Z" fill="#B3D3FF" /><path d="M49.569 36c.837 0 1.528.63 1.622 1.443l.011.19v10.941a.49.49 0 0 0 .377.477l.113.013h.653c.27 0 .49-.22.49-.49v-9.308l.011-.19a1.633 1.633 0 0 1 3.244 0l.011.19v9.308a.49.49 0 0 0 .377.477l.113.013h.653c.27 0 .49-.22.49-.49v-6.042l.011-.19a1.633 1.633 0 0 1 3.244 0l.011.19v16.33a6.527 6.527 0 0 1-3 5.495V67a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-2.615a6.69 6.69 0 0 1-1.022-.78l-8.425-7.824a1.73 1.73 0 0 1-.262-2.226 1.538 1.538 0 0 1 2.075-.463l4.67 2.827V40.9l.012-.19a1.633 1.633 0 0 1 3.244 0l.01.19v7.675a.49.49 0 0 0 .378.477l.112.013h.654c.27 0 .49-.22.49-.49V37.633l.01-.19A1.633 1.633 0 0 1 49.57 36Z" fill="#297EF2" /><g filter="url(#dacc-permissions_3573ba0684a43d6d3596ae2974a0613d_b)"><rect x="58" y="54" width="32" height="32" rx="8" fill="#fff" /><path d="M72.409 77.886c.2-.05.404.072.455.273l.375 1.5c.007.03.011.061.011.091h1.5c0-.03.004-.06.011-.091l.375-1.5a.375.375 0 1 1 .728.182l-.364 1.455v1.454a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75v-1.454l-.364-1.455a.375.375 0 0 1 .273-.455Z" fill="#F33136" /><path d="M72.5 78.25c-.414 0-.765-.351-.988-.7-.408-.64-1.3-1.334-2.346-2.147C66.746 73.523 63.5 71 63.5 67c0-4.97 4.701-9 10.5-9v20.25h-1.5Z" fill="#F33136" /><path d="M74 78.25h-1.286c0-.838-.654-1.73-1.476-2.847C69.855 73.523 68 71 68 67c0-4.97 2.686-9 6-9v20.25Z" fill="#FC7B0E" /><path d="M75.5 78.25c.414 0 .765-.351.988-.7.408-.64 1.3-1.334 2.346-2.147C81.254 73.523 84.5 71 84.5 67c0-4.97-4.701-9-10.5-9v20.25h1.5Z" fill="#FFD799" /><path d="M74 78.25h1.286c0-.838.654-1.73 1.476-2.847C78.145 73.523 80 71 80 67c0-4.97-2.686-9-6-9v20.25Z" fill="#FFB64F" /></g><defs><filter id="dacc-permissions_3573ba0684a43d6d3596ae2974a0613d_a" x="0" y="0" width="104" height="104" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="8"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_754_48957"></feBlend><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="2"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0793047 0"></feColorMatrix><feBlend in2="effect1_dropShadow_754_48957" result="effect2_dropShadow_754_48957"></feBlend><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feMorphology radius=".5" operator="dilate" in="SourceAlpha" result="effect3_dropShadow_754_48957"></feMorphology><feOffset></feOffset><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"></feColorMatrix><feBlend in2="effect2_dropShadow_754_48957" result="effect3_dropShadow_754_48957"></feBlend><feBlend in="SourceGraphic" in2="effect3_dropShadow_754_48957" result="shape"></feBlend></filter><filter id="dacc-permissions_3573ba0684a43d6d3596ae2974a0613d_b" x="42" y="42" width="64" height="64" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="8"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.113725 0 0 0 0 0.129412 0 0 0 0 0.164706 0 0 0 0.06 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_754_48957"></feBlend><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="2"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.113725 0 0 0 0 0.129412 0 0 0 0 0.164706 0 0 0 0.0793047 0"></feColorMatrix><feBlend in2="effect1_dropShadow_754_48957" result="effect2_dropShadow_754_48957"></feBlend><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feMorphology radius=".5" operator="dilate" in="SourceAlpha" result="effect3_dropShadow_754_48957"></feMorphology><feOffset></feOffset><feColorMatrix values="0 0 0 0 0.113725 0 0 0 0 0.129412 0 0 0 0 0.164706 0 0 0 0.12 0"></feColorMatrix><feBlend in2="effect2_dropShadow_754_48957" result="effect3_dropShadow_754_48957"></feBlend><feBlend in="SourceGraphic" in2="effect3_dropShadow_754_48957" result="shape"></feBlend></filter></defs></symbol>'}),xe=(x.a.add(Ee),Ee),_e=new j.a({id:"icon-anonymous_f9180197246a84316517b8157ef006c8",use:"icon-anonymous_f9180197246a84316517b8157ef006c8-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-anonymous_f9180197246a84316517b8157ef006c8"><path d="M4.36 1.24 3 6H1a1 1 0 1 0 0 2h14a1 1 0 1 0 0-2h-2l-1.36-4.76A1.7 1.7 0 0 0 9.062.291L8 1 6.938.292a1.7 1.7 0 0 0-2.578.947Z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M6.84 13.549A3.502 3.502 0 0 1 0 12.5a3.5 3.5 0 0 1 6.76-1.274A3.49 3.49 0 0 1 8 11c.436 0 .854.08 1.24.226a3.501 3.501 0 1 1-.08 2.323A1.495 1.495 0 0 0 8 13c-.467 0-.883.212-1.16.549ZM3.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" /></symbol>'}),we=(x.a.add(_e),_e),Ce=new j.a({id:"icon-export_a08eff636b3b69e5d1cfc230029cdad8",use:"icon-export_a08eff636b3b69e5d1cfc230029cdad8-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-export_a08eff636b3b69e5d1cfc230029cdad8"><path d="M7.165 8.244C7.585 6.01 9.581 4.297 12 4.297s4.415 1.713 4.835 3.947l.143.76.76.14c2.295.418 4.012 2.396 4.012 4.748 0 .555-.096 1.089-.272 1.586l1.704 1.704a6.98 6.98 0 0 0 .818-3.29c0-3.222-2.173-5.925-5.131-6.79C17.984 4.17 15.236 2.047 12 2.047c-3.236 0-5.984 2.123-6.869 5.055C2.173 7.967 0 10.67 0 13.892c0 3.926 3.224 7.08 7.167 7.08H8.25v-2.25H7.167c-2.731 0-4.917-2.177-4.917-4.83 0-2.352 1.717-4.33 4.012-4.749l.76-.139.143-.76Z" fill="#1D212A" fill-opacity=".72" /><path d="M19.499 19.567a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1 0-3h2.368l-4.993-4.993a1.508 1.508 0 0 1 2.018-2.236l.114.104 4.993 4.992v-2.367a1.5 1.5 0 1 1 3 0v6Z" fill="#EA3F3F" /></symbol>'}),De=(x.a.add(Ce),Ce),Me=function(e){var t=e.open,a=e.onClose,n=e.onAccept,r=e.showDaccReasonsDialog,o=Object(d.e)().t;return l.a.createElement(ve.a,{variant:"inverted"},l.a.createElement(fe.a,{open:t,onClose:a,content:l.a.createElement("div",{className:"u-ta-center"},l.a.createElement(X.a,{icon:xe,size:106}),l.a.createElement($.a,{variant:"h4"},o("dacc.permissionsDialog.title")),l.a.createElement($.a,{className:"u-mt-1"},o("dacc.permissionsDialog.primaryText")),l.a.createElement(ve.a,{variant:"normal"},l.a.createElement(K.a,{className:"u-mt-1-half",elevation:0},l.a.createElement(ye.a,null,l.a.createElement(ge.a,{divider:!0},l.a.createElement(je.a,null,l.a.createElement(X.a,{icon:De,size:24})),l.a.createElement(Oe.a,{primary:l.a.createElement($.a,{variant:"h6"},o("dacc.permissionsDialog.export_outside"))})),l.a.createElement(ge.a,{dense:!0},l.a.createElement(je.a,null,l.a.createElement(X.a,{icon:we,color:"var(--iconTextColor)"})),l.a.createElement(Oe.a,{primary:l.a.createElement($.a,{variant:"body2"},o("dacc.permissionsDialog.anonymized_emissions"))}))))),l.a.createElement($.a,{className:"u-mt-1-half",style:{textDecoration:"underline"},onClick:r},o("dacc.permissionsDialog.why_asking")),l.a.createElement($.a,{className:"u-mt-1-half",variant:"caption",color:"textPrimary"},o("dacc.permissionsDialog.secondaryText"))),actionsLayout:"column",actions:l.a.createElement(l.a.Fragment,null,l.a.createElement(ue.a,{label:o("dacc.permissionsDialog.refuse"),onClick:a}),l.a.createElement(ue.a,{label:o("dacc.permissionsDialog.accept"),onClick:n}))}))},Se=function(e){var t=e.open,a=e.onClose,n=Object(d.e)().t;return l.a.createElement(fe.a,{open:t,onClose:a,title:n("dacc.reasonsDialog.title"),content:n("dacc.reasonsDialog.content")})},ke=["data"];function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ne=function(){var e=Object(c.useState)(!1),t=Z()(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),o=Z()(r,2),u=o[0],d=o[1],m=Object(c.useState)(!1),f=Z()(m,2),p=f[0],h=f[1],v=Object(s.useClient)(),y=Object(b.e)(),g=Object(s.useQuery)(y.definition,y.options),O=g.data,j=i()(g,ke);if(Object(s.isQueryLoading)(j))return null;var E=O[0]||{},x=E.hideDaccAlerter,_=E.allowSendDataToDacc;return l.a.createElement(l.a.Fragment,null,!x&&!_&&l.a.createElement(me,{onDiscard:function(){v.save(Ze(Ze({},O[0]),{},{_type:V.g,hideDaccAlerter:!0}))},onAccept:function(){return n(!0)}}),l.a.createElement(he,{open:a,onClose:function(){return n(!1)},showDaccPermissionsDialog:function(){n(!1),d(!0)}}),l.a.createElement(Me,{open:u,onClose:function(){return d(!1)},onAccept:function(){v.save(Ze(Ze({},O[0]),{},{_type:V.g,hideDaccAlerter:!0,allowSendDataToDacc:!0})),d(!1)},showDaccReasonsDialog:function(){return h(!0)}}),l.a.createElement(Se,{open:p,onClose:function(){return h(!1)}}))},Ae=["data"];function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(){var e=Object(y.c)(),t=e.account,a=e.isAccountLoading,n=Object(d.e)().t,r=Object(s.useClient)(),o=Object(u.b)().isMobile,c=Object(b.b)({accountId:null==t?void 0:t._id,limitBy:50}),g=Object(s.useQuery)(c.definition,Be(Be({},c.options),{},{enabled:Boolean(t)})),O=g.data,j=i()(g,Ae),E=Object(s.isQueryLoading)(j)&&!Object(s.hasQueryBeenLoaded)(j);return a?l.a.createElement(m.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):t?E?l.a.createElement(m.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):0===O.length?l.a.createElement(l.a.Fragment,null,o&&l.a.createElement(v.a,{label:r.appMetadata.slug}),l.a.createElement(C,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{label:n("trips.from")+" "+Object(y.b)(t)}),l.a.createElement(le,null),l.a.createElement(Ne,null),o&&l.a.createElement(p.a,{style:{height:"12px",backgroundColor:"var(--defaultBackgroundColor)"}}),l.a.createElement(h.a,{timeseries:O}),j.hasMore&&l.a.createElement(f.a,{label:n("loadMore"),fetchMore:j.fetchMore})):l.a.createElement(l.a.Fragment,null,o&&l.a.createElement(v.a,{label:r.appMetadata.slug}),l.a.createElement(C,null))}},lF6h:function(e,t,a){"use strict";var n=a("lSNA"),r=a.n(n),o=a("QILm"),i=a.n(o),c=a("SH7X"),l=a("2E0U"),s=a("dN3h"),u=["data"];function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(e){var t=Object(c.useClient)(),a=Object(s.e)(),n=Object(c.useQuery)(a.definition,a.options),o=n.data,d=i()(n,u),f=Object(c.isQueryLoading)(d);return{isLoading:f,value:f?null:o&&o[0]?o[0][e]:null,save:function(a){t.save(m(m({},o[0]),{},r()({_type:l.g},e,a)))}}}},nIm6:function(e,t,a){"use strict";var n=a("J4zp"),r=a.n(n),o=a("q1tI"),i=a.n(o),c=a("Ty5D"),l=a("vEVt"),s=a("gPjO"),u=a("MSWZ"),d=a("aN1g"),m=a("buk/"),f=a("c8ah"),p=a("QaI8"),b=a("y6ex"),h=a("P5cT"),v=a("e0hG"),y={co2:{fontWeight:700}},g={modes:h.a,purposes:h.b},O=function(e){var t=e.type,a=e.sortedTimeserieKey,n=g[t];return i.a.createElement(n,{attribute:a})};t.a=function(e){var t=e.sortedTimeserie,a=e.totalCO2,n=e.type,o=Object(m.e)().t,h=Object(c.g)(),g=r()(t,2),j=g[0],E=g[1],x=E.timeseries.length,_=E.totalCO2,w=Object(v.b)(_,a),C=0===x&&0===_;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{"data-testid":"ListItem",className:"u-pl-1-s u-pl-2",disabled:C,onClick:C?void 0:function(){return h.push("/analysis/".concat(n,"/").concat(j))},button:!0},i.a.createElement(d.a,null,i.a.createElement(O,{type:n,sortedTimeserieKey:j})),i.a.createElement(l.a,{primary:o("trips.".concat(n,".").concat(j)),secondary:"".concat(w," · ").concat(o("analysis.travels",x))}),i.a.createElement(f.a,{className:"u-mh-half",style:y.co2,variant:"body2"},Object(v.d)(_)),!C&&i.a.createElement(b.a,{icon:p.a,color:"var(--secondaryTextColor)"})),i.a.createElement(u.a,null))}},pZg0:function(e,t){e.exports={name:"Coach CO2",slug:"coachco2",icon:"icon.svg",categories:[],version:"0.9.0",licence:"AGPL-3.0",editor:"Cozy Cloud",source:"https://github.com/cozy/coachCO2.git@build",developer:{name:"Cozy Cloud",url:"https://cozy.io"},default_locale:"fr",langs:["fr","en"],routes:{"/":{folder:"/",index:"index.html",public:!1}},permissions:{apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},settings:{description:"Required by the cozy-bar to display Claudy and know which applications are coming soon",type:"io.cozy.settings",verbs:["GET"]},accounts:{description:"Required to get konnector account",type:"io.cozy.accounts",verbs:["GET","PUT"]},files:{description:"Required to access the files for saved your export of trips",type:"io.cozy.files",verbs:["ALL"]},"geojson-timeseries":{description:"Required to display geojson timeseries",type:"io.cozy.timeseries.geojson"},"coachco2.settings":{description:"Used to manage your Coach CO2 settings",type:"io.cozy.coachco2.settings",verbs:["GET","POST","PUT"]},contacts:{description:"Used to manage your Coach CO2 settings",type:"io.cozy.contacts",verbs:["POST"]},jobs:{description:"Used in services to start other services",type:"io.cozy.jobs",verbs:["POST"]},dacc:{type:"cc.cozycloud.dacc_v2",verbs:["POST"],description:"Remote-doctype required to send anonymized CO2 contributions"},"dacc-dev":{type:"cc.cozycloud.dacc.dev_v2",verbs:["POST"],description:"Remote-doctype required to send anonymized CO2 contributions, for developement purposes"}},services:{timeseriesWithoutAggregateMigration:{type:"node",file:"services/timeseriesWithoutAggregateMigration/coachco2.js",trigger:"@event io.cozy.timeseries.geojson:CREATED,UPDATED",debounce:"5m"},dacc:{type:"node",file:"services/dacc/coachco2.js",trigger:"@every 720h"}}}},uPPc:function(e,t,a){"use strict";var n=a("J4zp"),r=a.n(n),o=a("q1tI"),i=a.n(o),c=a("PsJY"),l=a("buk/"),s=a("MSWZ"),u=a("1I/2"),d=a("9xVj"),m=a("lSNA"),f=a.n(m),p=a("TSYQ"),b=a.n(p),h=a("R/WZ"),v=a("OvNQ"),y=a("djpt"),g=a("8aGg"),O=a("CKDk"),j=a("mPFD"),E=a("c8ah"),x=Object(h.a)((function(e){return{dotStart:{marginTop:"9px"},dot:{marginBottom:"-1px"},connector:{width:"6px",backgroundColor:e.palette.primary.main},item:{marginTop:"-9px",paddingLeft:"11px","&::before":{padding:0,flexGrow:0}},contentWrapper:{display:"flex",marginLeft:"11px"},endLabel:{fontWeight:700}}})),_=function(e){var t,a=e.label,n=e.endLabel,r=e.type,c=x(),l=Object(o.useMemo)((function(){return"end"!==r}),[r]),s=Object(o.useMemo)((function(){return"start"===r}),[r]);return i.a.createElement(v.a,{className:c.item},i.a.createElement(y.a,null,i.a.createElement(j.a,{className:b()((t={},f()(t,c.dot,l),f()(t,c.dotStart,s),t)),color:"primary",variant:"outlined"}),l&&i.a.createElement(g.a,{className:c.connector})),i.a.createElement(O.a,null,i.a.createElement("div",{className:c.contentWrapper},i.a.createElement(E.a,{className:"u-flex-grow-1"},a),i.a.createElement(E.a,{className:c.endLabel,variant:"body2",component:"div"},n))))},w=i.a.memo(_),C=a("BuRe"),D=Object(h.a)((function(e){return{iconItem:{marginTop:"-14px",cursor:"pointer","&::before":{padding:0,flexGrow:0}},iconDot:{backgroundColor:e.palette.background.paper,borderWidth:"1px",borderColor:e.palette.border.main,margin:0,padding:0,boxShadow:"none"},icon:{color:e.palette.primary.main,backgroundColor:e.palette.background.paper},connector:{width:"6px",backgroundColor:e.palette.primary.main}}})),M=function(e){var t=e.icon,a=e.label,n=e.endLabel,r=e.onClick,o=D();return i.a.createElement(v.a,{className:o.iconItem,onClick:r},i.a.createElement(y.a,null,i.a.createElement(j.a,{className:o.iconDot},i.a.createElement(C.a,{icon:t,className:o.icon,size:32})),i.a.createElement(g.a,{className:o.connector})),i.a.createElement(O.a,{className:"u-flex"},i.a.createElement(E.a,{className:"u-flex-grow-1",variant:"body2",color:"textSecondary"},a),i.a.createElement(E.a,{className:o.endLabel,variant:"body2",component:"div"},n)))},S=i.a.memo(M),k=a("e0hG"),P=a("6k9G"),Z=a("yXPU"),N=a.n(Z),A=a("o0o1"),T=a.n(A),B=a("SH7X"),I=a("c6Mf"),z=a("D1y2"),F=a.n(z),L=a("BkRI"),R=a.n(L),U=a("iThD"),q=function(e){var t=e.timeserie,a=e.sectionId,n=e.mode,r=t.series.flatMap((function(e,t){return e.features.flatMap((function(e,n){if(e.features)return e.features.flatMap((function(e,r){if(e.id===a)return{feature:e,serieIndex:t,firstIndex:n,secondIndex:r}}))}))})).find((function(e){return e}));if(r){var o=r.feature,i=r.serieIndex,c=r.firstIndex,l=r.secondIndex,s=F()(R()(o),"properties.manual_mode",n),u=F()(R()(t),"series[".concat(i,"].features[").concat(c,"].features[").concat(l,"]"),s);return Object(U.a)([u])[0]}return t},V=a("P5cT"),H=a("EY4r"),Q=function(e){return{children:P.b.map((function(t){return{id:t,title:e("trips.modes.".concat(t)),icon:i.a.createElement(V.a,{attribute:t})}}))}},G=function(e){var t=e.section,a=e.onClose,n=Object(l.e)().t,r=Object(B.useClient)(),c=Object(H.b)().timeserie,s=Object(o.useCallback)(function(){var e=N()(T.a.mark((function e(n){var o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=q({timeserie:c,sectionId:t.id,mode:n.id}),e.next=3,r.save(o);case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,c,a,t.id]),u=Object(o.useMemo)((function(){return function(e){return e.id===t.mode}}),[t.mode]);return i.a.createElement(I.a,{title:n("tripEdit.selectMode"),onClose:a,onSelect:s,isSelected:u,options:Q(n)})},W=i.a.memo(G),Y=function(){var e=Object(H.b)().timeserie,t=Object(l.e)(),a=t.t,n=t.f,c=t.lang,s=Object(o.useState)(!1),u=r()(s,2),d=u[0],m=u[1],f=Object(o.useState)(null),p=r()(f,2),b=p[0],h=p[1],v=Object(o.useCallback)((function(e){return function(){h(e),m(!0)}}),[]),y=Object(o.useCallback)((function(){return m(!1)}),[]);return i.a.createElement(i.a.Fragment,null,e.aggregation.sections.map((function(e,t){return i.a.createElement(S,{key:t,label:"".concat(a("trips.modes.".concat(e.mode))," - ").concat(Object(k.h)(e.duration)," - ").concat(Object(k.g)(e.distance)," - ").concat(Object(k.c)(e.avgSpeed)),endLabel:Object(k.f)({f:n,lang:c,date:new Date(e.endDate)}),icon:Object(P.c)(e.mode),onClick:v(e)})})),d&&i.a.createElement(W,{section:b,onClose:y}))},K=i.a.memo(Y),X=a("cbAs"),J=a("vEVt"),$=a("gPjO"),ee=a("4XKp"),te=a("X7BR"),ae=Object(h.a)((function(){return{root:{minWidth:"48px"}}})),ne=function(e){var t=e.purpose,a=e.onClick,n=Object(l.e)().t,r=ae();return i.a.createElement(X.a,null,i.a.createElement($.a,{className:"u-c-pointer",onClick:a},i.a.createElement(ee.a,{classes:{root:r.root}},i.a.createElement(V.b,{attribute:t})),i.a.createElement(J.a,{primary:n("purpose"),primaryTypographyProps:{variant:"caption"},secondary:n("trips.purposes.".concat(t)),secondaryTypographyProps:{variant:"body1",color:"textPrimary"}})))};ne.defaultProps={purpose:te.B};var re=i.a.memo(ne),oe=function(e){var t=e.timeserie,a=e.tripId,n=e.purpose,r=t.series.findIndex((function(e){return e.id===a}));if(r>-1){var o=t.series[r],i=F()(R()(o),"properties.manual_purpose",n.toUpperCase()),c=F()(R()(t),"series[".concat(r,"]"),i);return F()(c,"aggregation.purpose",n.toUpperCase())}return t},ie=function(e){return{children:P.f.map((function(t){return{id:t,title:e("trips.purposes.".concat(t)),icon:i.a.createElement(V.b,{attribute:t})}}))}},ce=function(e){var t=e.onClose,a=Object(l.e)().t,n=Object(B.useClient)(),r=Object(H.b)().timeserie,c=Object(o.useCallback)(function(){var e=N()(T.a.mark((function e(a){var o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=oe({timeserie:r,tripId:Object(U.k)(r).id,purpose:a.id}),e.next=3,n.save(o);case 3:t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,r,t]),s=Object(o.useMemo)((function(){return function(e){var t=Object(U.o)(r);return t?e.id===t:e.id===te.B}}),[r]);return i.a.createElement(I.a,{title:a("tripEdit.selectPurpose"),onClose:t,onSelect:c,isSelected:s,options:ie(a)})},le=i.a.memo(ce),se={divider:{margin:"-10px -32px 10px"}},ue=function(){var e=Object(l.e)(),t=e.f,a=e.lang,n=Object(H.b)().timeserie,m=Object(u.b)().isDesktop,f=Object(o.useState)(!1),p=r()(f,2),b=p[0],h=p[1],v=Object(U.o)(n),y=Object(o.useCallback)((function(){return h(!0)}),[]),g=Object(o.useCallback)((function(){return h(!1)}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{disableGutters:!0},i.a.createElement(c.a,{className:"u-pb-0 u-mb-0"},i.a.createElement(w,{label:Object(U.n)(n),endLabel:Object(k.f)({f:t,lang:a,date:Object(U.m)(n)}),type:"start"}),i.a.createElement(K,null),i.a.createElement(w,{label:Object(U.f)(n),endLabel:Object(k.f)({f:t,lang:a,date:Object(U.e)(n)}),type:"end"}))),m&&i.a.createElement(s.a,{style:se.divider}),i.a.createElement(d.a,{disableGutters:!0},i.a.createElement(re,{purpose:v,onClick:y})),b&&i.a.createElement(le,{onClose:g}))};t.a=i.a.memo(ue)},xYwX:function(e,t,a){"use strict";(function(e){var n=a("q1tI"),r=a.n(n),o=a("55Ip"),i=a("Ty5D"),c=a("0cfB"),l=a("jDpt"),s=a("le8I"),u=a("67rm"),d=a("buk/"),m=a("fH6n"),f=a("jEK9"),p=a("dawk"),b=a("B/ud"),h=a("BdYW"),v=a("9muV"),y=function(){var e=Object(d.e)().t;return r.a.createElement(o.a,null,r.a.createElement(l.b,null,r.a.createElement(m.a,null),r.a.createElement(l.c,null,r.a.createElement(l.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/trip/:timeserieId",component:p.a}),r.a.createElement(i.b,{path:"/trips",component:f.a}),r.a.createElement(i.b,{path:"/settings",component:v.a}),r.a.createElement(i.b,{path:"/analysis/modes/:mode",component:b.a}),r.a.createElement(i.b,{path:"/analysis/modes",component:b.a}),r.a.createElement(i.b,{path:"/analysis/purposes/:purpose",component:h.a}),r.a.createElement(i.b,{path:"/analysis/purposes",component:h.a}),r.a.createElement(i.a,{from:"/analysis",to:"/analysis/modes"}),r.a.createElement(i.a,{from:"/",to:"/trips"}),r.a.createElement(i.a,{from:"*",to:"/trips"})))),r.a.createElement(u.a,{t:e}),r.a.createElement(s.a,null)))};t.a=Object(c.hot)(e)(r.a.memo(y))}).call(this,a("3UD+")(e))},zer9:function(e,t,a){}});