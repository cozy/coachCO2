!function(e){function t(t){for(var n,c,i=t[0],l=t[1],s=t[2],d=0,m=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={1:0},o=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push([2,0]),a()}({0:function(e,t){},1:function(e,t){},2:function(e,t,a){a("MQ8b"),a("jI5P"),e.exports=a("nXPL")},"2maa":function(e){e.exports=JSON.parse('{"nav":{"trips":"Trips","analysis":"Analysis","modes":"Modes of transport","purposes":"Purposes of travel","settings":"Settings"},"folder":{"administrative":"Administrative","coachco2":"Coach CO2"},"devices":{"select":"Select a device","label":"Data source"},"settings":{"services":"Services","debug":"Demo & debug mode"},"trips":{"default":"default","trips":"Trips","from":"Trips from","modes":{"AIR_OR_HSR":"Plane","BICYCLING_ELECTRIC":"Electric bike","BICYCLING":"Bike","BUS_ELECTRIC":"Electric bus","BUS":"Bus","CAR_ELECTRIC":"Electric car","CAR":"Car","IN_VEHICLE":"Vehicle","CARPOOL_ELECTRIC":"Electric carpooling","CARPOOL":"Carpooling","MOTO_INF_250":"Moto < 250cm3","MOTO_SUP_250":"Moto > 250cm3","SCOOTER_ELECTRIC":"Electric scooter","MOPED":"Moped","SUBWAY":"Subway","TRAIN":"Train","UNKNOWN":"Unknown","WALKING":"Walking","ON_FOOT":"Walking","RUNNING":"Running","categories":{"BICYCLING_CATEGORY":"Bike, scooter","CAR_CATEGORY":"Car, motorcycle, moped","PUBLIC_TRANSPORT_CATEGORY":"Transports en commun"}},"purposes":{"COMMUTE":"Going to or from work","WORK":"Profressional travel","SHOPPING":"Going shopping","PERSONAL_MED":"Personal travel","PICK_DROP":"Pick & drop someone","SPORT":"Going to or from sport","EXERCISE":"Physical activity / sport","ENTERTAINMENT":"Going out, leisure","TRAVEL":"Travel","OTHER_PURPOSE":"Unknown"},"duration":"Duration","distance":"Distance","calories":"Calories","co2":"CO2"},"contactToPlace":{"saveStartPlace":"Save the starting point?","saveEndPlace":"Save the arrival point?","tooltip":"To automate this categorisation in the future, save this address in a contact record","submit":"Save","delete":"Delete","cancel":"Cancel","dismiss":"No, thanks","contact":"Contact","label":"Label","noLabel":"No label","custom":"Customised","customLabel":"Custom label","home":"Home","work":"Work","error":"Specify which contact to save the address under","addSuccess":"The addresses have been registered","removeSuccess":"The addresses have been deleted"},"loadMore":"Load more trips","tripEdit":{"selectMode":"Modify the transportation mode","selectPurpose":"Modify the travel purpose"},"purpose":"Reason for travel","recurring":{"title":"Recurrence","recurringTrip":"Recurring trip","occasionalTrip":"Occasional trip","confirmDialog":{"title":"Attribute this reason to similar trips?","content":"By answering yes, this trip will be defined as recurring and will be used as a reference to automate the qualification of your similar trips.","confirm":"Yes","decline":"No"},"tooltip":"If this trip is recurring, similar trips will automatically be referenced with the same reason."},"analysis":{"mode":"CO2 emissions","purpose":"CO2 emissions","travels":"%{smart_count} travel |||| %{smart_count} travel","emittedCO2":"emitted CO2"},"export":{"label":"Export","filename":"%{today} - Trips %{accountLabel}.csv","button":"Export trips in CSV","modal":{"button":{"close":"Close","viewInDrive":"View in Drive"},"title":"Exporting","content":{"done":"The \\"%{filename}\\" file was created in the \\"Drive%{pathAppDir}\\" folder of your Cozy.","progress":"The export of your trips is in progress, please wait..."}}},"empty":{"title":"Add your trips","text":"This application is in experimental phase. It works at this stage only if you are a user of the mobile application \\"TraceMob\\" and that you have configured the connector in your Cozy."},"manifest":{"short_description":"Keep track of your trips and analyze their impact on the environment.","long_description":"CoachCO2 is a self data application developed within the framework of the **territory of La Rochelle** and the [Agremob](https://agremob.com/) program.\\n\\n&nbsp;\\n\\nIts ambition is to **help you** :\\n- to **become aware of the issues** related to mobility,\\n- to **question your travel habits**,\\n- and **find more sustainable alternatives** (yes it is possible!).\\n\\nAll this in complete confidentiality, as always in your Cozy: **only you have the right to access your data**, and you have the control to share it with whomever you want, whenever and if YOU want.\\n\\nIts objective is also to **enable the emergence of new ecomobility projects or offers** thanks to the expertise of the program\'s partner structures.\\n\\n&nbsp;\\n\\nToday this application forms a duo with **the mobile application TraceMob** whose connector, also present in the store of your Personal Cloud, collects and saves your mobility tracks at home.\\n\\nTomorrow **other sensors will complete your data**. The application, itself under development, is today focused on mobility, tomorrow other sources of CO2 may extend its scope.\\n\\n&nbsp;\\n\\n[Agremob](https://agremob.com/) makes this application **a common good** that can be used beyond the borders of the La Rochelle agglomeration. If your Cozy\'s host does not offer it in its own store, contact them!","permissions":{"apps":{"description":"Required by the cozy-bar to display the icons of the apps"},"settings":{"description":"Required by the cozy-bar to display Claudy and know which applications are coming soon"},"accounts":{"description":"Required to get konnector account"},"files":{"description":"Required to access the files for saved your export of trips"},"geojson-timeseries":{"description":"Required to display geojson timeseries"},"coachco2.settings":{"description":"Used to manage your Coach CO2 settings"}}},"dacc":{"settings":{"anonymous_participation":"Participate anonymously in the calculation of average CO2 emissions","showAlerter":"Show DACC alerter"},"tripsCard":{"label":"Compare your emissions to the average of other users of the application?","discard":"No, thank you","accept":"Compare"},"compareDialog":{"title":"Compare anonymously","primaryText":"In order to average the emissions of users, and because your Cozy has made a promise to you to never disclose your data without your explicit request, it will ask you for the right to send this data.","secondaryText":"This data will be aggregated and anonymous and will not contain any identifiers or locations.","action":"I understood"},"permissionsDialog":{"title":"Request for permissions","primaryText":"The CO2 Coach application requires the following permissions from your Cozy:","secondaryText":"Once authorized, the permissions can be modified in the settings","why_asking":"Why ask me for these permissions?","export_outside":"Exporting out of Cozy","anonymized_emissions":"My anonymized CO2 emissions","anonymized_bikegoal_progression":"My anonymized progression","accept":"Always allow","refuse":"Refuse"},"reasonsDialog":{"title":"Reasons for permissions","content":"Because your Cozy has made a promise to you to never disclose your private data, it will always ask you for the right to let an application send it out."}},"vericalBarChart":{"title":"CO2 emissions","legend":{"yours":"Your emissions","average":"Average users of the app"}},"bikeGoal":{"title":"Bike to work","yearly_goal_progression":"%{days}/%{daysToReach} days \\nper year","goal_progression":"%{days}/%{daysToReach} days","my_progression":"My¬†yearly progrsesion","average_progression":"Average group progression","achievement_certificate":"Certificate of achievement","goals":"Objectives","about":{"title":"About the goal","intro":{"title":"Introduction","content":"In order to encourage the use of alternative and sustainable modes of transportation, the implementation of the sustainable mobility package came into effect on May 10, 2020.\\n\\nThus, employees who choose an alternative and sustainable mode of transportation for their home-work commute will be able to benefit from a lump sum of %{bountyAmount}‚Ç¨ per year.\\n\\nYour CO2 Coach will help you keep track of your home-work commute by bicycle and will allow you to generate the certificate of success to be transmitted to your employer!"},"how_trips_detected":{"title":"How are my trips detected?","content":"Your home-work bike trips will be automatically detected based on your schedule and speed.\\n\\nIf a trip is not automatically detected as \\"Going to or from work\\", open the trip details and change the trip reason to \\"Going to or from work\\".\\n\\nIf a trip is not automatically detected as \\"bike\\", open the trip detail and change the mode of transportation to \\"bike\\"."},"once_goal_reach":{"title":"What to do once the goal is reached","content":"Once the goal is reached, you will be able to generate a certificate of achievement to send to your employer to benefit from your %{bountyAmount}‚Ç¨ package üéâ"}},"deactivate":{"deactivate":"Deactivate","title":"Do you really want to stop participating in the goal?","content":"You can always choose to participate again from the application settings.","stop_participate":"No longer participating","cancel":"Cancel"},"alert":{"success":{"text":"Congratulations, you have achieved the ‚ÄúBike to Work‚Äù goal üéâ","action":"Benefit from my %{bountyAmount}‚Ç¨ package"},"title":"Ride your bike to work and receive %{bountyAmount}‚Ç¨!","text":"As part of the Sustainable Mobility Package (SMP) set up by the French government, go to work by bike %{daysToReach} days a year and receive %{bountyAmount}‚Ç¨!","actions":{"participate":"Participate","discard":"No,¬†thank you"}},"edit":{"modify":"Modify","title":"Modify the goal","firstname":"Firstname","lastname":"Lastname","workTime":"Work time","workTime_full":"Full time","workTime_part":"Half-time or part-time","workTimePercentage":"Percentage of working time","compare_progress":"Compare my progress with the group: %{source}","cancel":"Cancel","submit":"Ok","required":"This field is required"},"settings":{"participation":"Participate to the goal ‚ÄúBike to work‚Äù","showAlerter":"Bike goal: Show bike goals alerter","hideOnboarding":"Bike goal: Hide bike goal onboarding","sendToDACC":"Bike goal: activate DACC","showAlerterSuccess":"Bike goal: Show the bike goal success alert"},"onboarding":{"title":"\\"Sustainable mobility\\" package","actions":{"finish":"Finish","previous":"Previous","next":"Next"},"steps":{"naming":{"title":"Lastname and firstname","nameLegend":"The first and last names entered will be used to generate the certificate of achievement once the objective has been reached. Please fill in the following information:"},"timing":{"timeLegend":"You currently have a employment contract:","percentageLegend":"The amount of the bonus depends on the number of hours worked. For part-time employees working 50% or more, the amount of the bonus will be the same as for a full-time employee. For employees working less than 50%, the amount of the bonus will be calculated pro rata to the time worked.\\n\\nFill in the percentage of your working time:","percentage":"Percentage"},"comparison":{"comparisonLegend":"It is possible to display the average progression of the members %{source} who participate in the goal. To do so, you will be asked to also participate in the establishment of this average. Your progression data will be aggregated and sent anonymously, and will not contain any identifiers or locations.","compare":"Compare my progression","doNotCompare":"Do not compare my progression"}}},"certificateGeneration":{"title":"Congratulations, you have achieved the ‚ÄúBike¬†to¬†Work‚Äú¬†goal","content":"A certificate has been generated as proof of your success for the year %{year}. Forward it now by email to your employer to receive %{bountyAmount}‚Ç¨ !","actions":{"show":"Certificate - Bike to work.pdf","generate":"Generate a new certificate","understood":"Understood"}},"employer":{"my_company":"of my company","your_company":"of your company","my_collectivity":"of my collectivity","your_collectivity":"of your collectivity"}},"Modes":{"DefaultDialog":{"primary":"Set as default transport for this category?","secondary":"The transport mode will automatically be selected as default for all future trips detected for this transport type.","actions":{"save":"Save","cancel":"Cancel"}}}}')},3:function(e,t){},4:function(e,t){},5:function(e,t){},"5z4W":function(e,t){e.exports={name:"Coach CO2",slug:"coachco2",icon:"icon.svg",categories:[],version:"0.11.0",licence:"AGPL-3.0",editor:"Cozy Cloud",source:"https://github.com/cozy/coachCO2.git@build",developer:{name:"Cozy Cloud",url:"https://cozy.io"},default_locale:"fr",langs:["fr","en"],routes:{"/":{folder:"/",index:"index.html",public:!1}},permissions:{apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},settings:{description:"Required by the cozy-bar to display Claudy and know which applications are coming soon",type:"io.cozy.settings",verbs:["GET"]},accounts:{description:"Required to get konnector account",type:"io.cozy.accounts",verbs:["GET","POST","PUT"]},konnectors:{description:"Required to create your mobility konnector account",type:"io.cozy.konnectors",verbs:["GET"]},triggers:{description:"Required to create your mobility konnector account",type:"io.cozy.triggers",verbs:["GET","POST"]},files:{description:"Required to access the files for saved your export of trips",type:"io.cozy.files",verbs:["ALL"]},"geojson-timeseries":{description:"Required to display geojson timeseries",type:"io.cozy.timeseries.geojson"},"coachco2.settings":{description:"Used to manage your Coach CO2 settings",type:"io.cozy.coachco2.settings",verbs:["GET","POST","PUT"]},jobs:{description:"Used in services to start other services",type:"io.cozy.jobs",verbs:["POST"]},dacc:{type:"cc.cozycloud.dacc_v2",verbs:["POST"],description:"Remote-doctype required to send anonymized CO2 contributions"},"dacc-dev":{type:"cc.cozycloud.dacc.dev_v2",verbs:["POST"],description:"Remote-doctype required to send anonymized CO2 contributions, for developement purposes"},contacts:{type:"io.cozy.contacts",verbs:["GET","POST","PUT","DELETE"],description:"Used to link contacts to geojson timeseries"}},services:{timeseriesWithoutAggregateMigration:{type:"node",file:"services/timeseriesWithoutAggregateMigration/coachco2.js",trigger:"@event io.cozy.timeseries.geojson:CREATED,UPDATED",debounce:"1m"},dacc:{type:"node",file:"services/dacc/coachco2.js",trigger:"@every 720h"},recurringPurposes:{type:"node",file:"services/recurringPurposes/coachco2.js",trigger:"@event io.cozy.timeseries.geojson:CREATED",debounce:"2m"}}}},6:function(e,t){},7:function(e,t){},"7SaY":function(e,t,a){},"7z1u":function(e,t,a){var n={"./_lib/build_formatting_tokens_reg_exp/index.js":"5XOE","./ar/build_distance_in_words_locale/index.js":"qs6D","./ar/build_format_locale/index.js":"80pQ","./ar/index.js":"n4NV","./be/build_distance_in_words_locale/index.js":"b7Vp","./be/build_format_locale/index.js":"STnx","./be/index.js":"ka/z","./bg/build_distance_in_words_locale/index.js":"fyh8","./bg/build_format_locale/index.js":"STBG","./bg/index.js":"BBHR","./ca/build_distance_in_words_locale/index.js":"4d8B","./ca/build_format_locale/index.js":"a88X","./ca/index.js":"Nz94","./cs/build_distance_in_words_locale/index.js":"70Ht","./cs/build_format_locale/index.js":"R/Ak","./cs/index.js":"oAfY","./da/build_distance_in_words_locale/index.js":"HjC7","./da/build_format_locale/index.js":"G0Zw","./da/index.js":"CJpN","./de/build_distance_in_words_locale/index.js":"DD2N","./de/build_format_locale/index.js":"pnJo","./de/index.js":"eBmD","./el/build_distance_in_words_locale/index.js":"tFqT","./el/build_format_locale/index.js":"twcE","./el/index.js":"m1rb","./en/build_distance_in_words_locale/index.js":"bjbr","./en/build_format_locale/index.js":"EW2Y","./en/index.js":"VkMk","./eo/build_distance_in_words_locale/index.js":"ujJO","./eo/build_format_locale/index.js":"S5Gq","./eo/index.js":"nn7U","./es/build_distance_in_words_locale/index.js":"h+mB","./es/build_format_locale/index.js":"Q4jc","./es/index.js":"4yJR","./fi/build_distance_in_words_locale/index.js":"Fpie","./fi/build_format_locale/index.js":"LTnX","./fi/index.js":"G/Qn","./fil/build_distance_in_words_locale/index.js":"VRy5","./fil/build_format_locale/index.js":"syEd","./fil/index.js":"k8V/","./fr/build_distance_in_words_locale/index.js":"nJeE","./fr/build_format_locale/index.js":"DeP4","./fr/index.js":"+owv","./hr/build_distance_in_words_locale/index.js":"Fs/O","./hr/build_format_locale/index.js":"ZlNX","./hr/index.js":"Kj+b","./hu/build_distance_in_words_locale/index.js":"8okG","./hu/build_format_locale/index.js":"lk8B","./hu/index.js":"+KHA","./id/build_distance_in_words_locale/index.js":"50BR","./id/build_format_locale/index.js":"18Vb","./id/index.js":"anKN","./is/build_distance_in_words_locale/index.js":"qUeK","./is/build_format_locale/index.js":"IcCt","./is/index.js":"4QE/","./it/build_distance_in_words_locale/index.js":"PCcA","./it/build_format_locale/index.js":"V71f","./it/index.js":"qK4z","./ja/build_distance_in_words_locale/index.js":"5vSx","./ja/build_format_locale/index.js":"CAsz","./ja/index.js":"XcQu","./ko/build_distance_in_words_locale/index.js":"jKsw","./ko/build_format_locale/index.js":"UEmh","./ko/index.js":"zOJj","./mk/build_distance_in_words_locale/index.js":"fcCd","./mk/build_format_locale/index.js":"re9F","./mk/index.js":"FDmM","./nb/build_distance_in_words_locale/index.js":"aEqN","./nb/build_format_locale/index.js":"pNMw","./nb/index.js":"mR4k","./nl/build_distance_in_words_locale/index.js":"7u2d","./nl/build_format_locale/index.js":"3riD","./nl/index.js":"06P9","./pl/build_distance_in_words_locale/index.js":"rygU","./pl/build_format_locale/index.js":"july","./pl/index.js":"vOlg","./pt/build_distance_in_words_locale/index.js":"sLR+","./pt/build_format_locale/index.js":"ZP65","./pt/index.js":"vSZg","./ro/build_distance_in_words_locale/index.js":"eJyG","./ro/build_format_locale/index.js":"fLwW","./ro/index.js":"OuEP","./ru/build_distance_in_words_locale/index.js":"KjgK","./ru/build_format_locale/index.js":"Tqgg","./ru/index.js":"T3Gn","./sk/build_distance_in_words_locale/index.js":"38t1","./sk/build_format_locale/index.js":"myxh","./sk/index.js":"In70","./sl/build_distance_in_words_locale/index.js":"Mhi5","./sl/build_format_locale/index.js":"yfgk","./sl/index.js":"D9r0","./sr/build_distance_in_words_locale/index.js":"I8h+","./sr/build_format_locale/index.js":"0FXG","./sr/index.js":"lQaB","./sv/build_distance_in_words_locale/index.js":"z6xu","./sv/build_format_locale/index.js":"jmSq","./sv/index.js":"SMJc","./th/build_distance_in_words_locale/index.js":"qHE1","./th/build_format_locale/index.js":"+W4l","./th/index.js":"5DsP","./tr/build_distance_in_words_locale/index.js":"0z6Z","./tr/build_format_locale/index.js":"NK/q","./tr/index.js":"OevD","./zh_cn/build_distance_in_words_locale/index.js":"SBqD","./zh_cn/build_format_locale/index.js":"219J","./zh_cn/index.js":"QhI5","./zh_tw/build_distance_in_words_locale/index.js":"7Fp2","./zh_tw/build_format_locale/index.js":"l09L","./zh_tw/index.js":"TDp1"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="7z1u"},"8Bbg":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));var n=Boolean(window.location.hostname.endsWith("cozy.localhost")||window.location.hostname.endsWith("cozy.tools"));function r(t){if("serviceWorker"in navigator){if(new URL(e.env.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="/service-worker.js";n?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):o(e,t)}))}}function o(e,t){navigator.serviceWorker.register(e).then((function(e){e.update()})).catch((function(e){console.error("Error during service worker registration:",e)}))}}).call(this,a("JtWf"))},"8IOV":function(e,t,a){e.exports={"cozy-leaflet-markers":"cozy-leaflet-markers--3tOnD","cozy-leaflet-markers-end":"cozy-leaflet-markers-end--G0e6q","cozy-leaflet-markers-start":"cozy-leaflet-markers-start--1JdEL"}},Hsuv:function(e){e.exports=JSON.parse('{"nav":{"trips":"D√©placements","analysis":"Analyses","modes":"Modes de transport","purposes":"Motifs de d√©placement","settings":"Param√®tres"},"folder":{"administrative":"Administratif","coachco2":"Coach CO2"},"devices":{"select":"S√©lectionnez un appareil","label":"Source des donn√©es"},"settings":{"services":"Services","debug":"Mode d√©mo & d√©bug"},"trips":{"trips":"D√©placements","from":"D√©placements de","modes":{"default":"d√©faut","AIR_OR_HSR":"Avion","BICYCLING_ELECTRIC":"V√©lo √©lectrique","BICYCLING":"V√©lo","BUS_ELECTRIC":"Bus √©lectrique","BUS":"Bus","CAR_ELECTRIC":"Voiture √©lectrique","CAR":"Voiture","IN_VEHICLE":"V√©hicule","CARPOOL_ELECTRIC":"Covoiturage √©lectrique","CARPOOL":"Covoiturage","MOTO_INF_250":"Moto < 250cm3","MOTO_SUP_250":"Moto > 250cm3","SCOOTER_ELECTRIC":"Trottinette √©lectrique","MOPED":"Cyclomoteur","SUBWAY":"M√©tro","TRAIN":"Train","UNKNOWN":"Non reconnu","WALKING":"Marche","ON_FOOT":"Marche","RUNNING":"Course","categories":{"BICYCLING_CATEGORY":"V√©lo, trotinette","CAR_CATEGORY":"Voiture, moto, scooter","PUBLIC_TRANSPORT_CATEGORY":"Transports en commun"}},"purposes":{"COMMUTE":"Aller-retour au travail","WORK":"D√©placement professionel","SHOPPING":"Aller faire les courses","PERSONAL_MED":"D√©placement personnel","PICK_DROP":"D√©poser quelqu\'un","SPORT":"Aller-retour au sport","EXERCISE":"Activit√© physique / sportive","ENTERTAINMENT":"Sortie, loisirs","TRAVEL":"Voyage","OTHER_PURPOSE":"Ind√©fini"},"duration":"Dur√©e","distance":"Distance","calories":"Calories","co2":"CO2"},"contactToPlace":{"saveStartPlace":"Enregistrer le point de d√©part ?","saveEndPlace":"Enregistrer le point d\'arriv√©e ?","tooltip":"Pour automatiser cette cat√©gorisation √† l\'avenir, enregistrer cette adresse dans une fiche contact","submit":"Enregistrer","delete":"Supprimer","cancel":"Annuler","dismiss":"Non, merci","contact":"Contact","label":"Libell√©","noLabel":"Aucun libell√©","custom":"Personnalis√©","customLabel":"Libell√© personnalis√©","home":"Domicile","work":"Travail","error":"Pr√©ciser sous quel contact enregistrer l\'adresse","addSuccess":"Les adresses ont bien √©t√© enregistr√©es","removeSuccess":"Les adresses ont bien √©t√© supprim√©es"},"loadMore":"Charger plus de trajets","tripEdit":{"selectMode":"Modifier le mode de transport","selectPurpose":"Modifier le motif du d√©placement"},"purpose":"Motif du d√©placement","recurring":{"title":"R√©currence","recurringTrip":"D√©placement habituel","occasionalTrip":"D√©placement occasionnel","confirmDialog":{"title":"Attribuer ce motif aux d√©placements similaires ?","content":"En r√©pondant oui, ce d√©placement sera d√©fini comme habituel et servira de r√©f√©rence pour automatiser la qualification de vos d√©placement similaires.","confirm":"Oui","decline":"Non"},"tooltip":"Si ce d√©placement est habituel, les d√©placements similaires seront automatiquement r√©f√©renc√©s avec le m√™me motif."},"analysis":{"mode":"√âmissions de CO2","purpose":"√âmissions de CO2","travels":"%{smart_count} d√©placement |||| %{smart_count} d√©placements","emittedCO2":"CO2 √©mis"},"export":{"label":"Export","filename":"%{today} - D√©placements %{accountLabel}.csv","button":"Exporter les d√©placements en CSV","modal":{"button":{"close":"Fermer","viewInDrive":"Voir dans Drive"},"title":"Exportation","content":{"done":"Le fichier \\"%{filename}\\" a √©t√© cr√©√© dans le dossier \\"Drive%{pathAppDir}\\" de votre Cozy.","progress":"L‚Äôexport de vos d√©placements est en cours, merci de patienter..."}}},"empty":{"title":"Ajoutez vos trajets","text":"Cette application est en phase exp√©rimentale. Elle fonctionne √† ce stade uniquement si vous √™tes utilisateur de l\'application mobile \\"TraceMob\\" et que vous en avez configur√© le connecteur dans votre Cozy."},"manifest":{"short_description":"Conservez l\'historique de vos d√©placements et analysez leurs impacts sur l\'environnement.","long_description":"CoachCO2 est une application de self data d√©velopp√©e dans le cadre du **territoire de la Rochelle** et du programme [Agremob](https://agremob.com/).\\n\\n&nbsp;\\n\\nElle a pour ambition de **vous aider** :\\n- √† **prendre conscience des enjeux** li√©s √† la mobilit√©,\\n- √† **questionner vos habitudes** de d√©placements,\\n- et **trouver des alternatives** plus durables (oui c‚Äôest possible !).\\n\\nCeci en toute confidentialit√©, comme toujours dans votre Cozy : **vous √™tes le seul √† avoir le droit d\'acc√©der √† vos donn√©es**, et vous avez le contr√¥le de les partager avec qui vous vous voulez, quand et si VOUS le souhaitez.\\n\\nSon objectif est aussi de **permettre l‚Äô√©mergence de nouveaux projets ou offres d‚Äô√©comobilit√©** gr√¢ce √† l‚Äôexpertise de structures partenaires du programme.\\n\\n&nbsp;\\n\\nAujourd\'hui cette application forme un duo avec **l\'application mobile TraceMob** dont le connecteur, pr√©sent aussi dans le store de votre Cloud Personnel, collecte et sauvegarde vos traces de mobilit√© chez vous.\\n\\nDemain **d\'autres capteurs compl√©teront vos donn√©es**. L\'application, elle-m√™me en cours de d√©veloppement, est aujourd\'hui tourn√©e vers la mobilit√©, demain d\'autres sources de CO2 pourront √©tendre son champ d\'action.\\n\\n&nbsp;\\n\\n[Agremob](https://agremob.com/) fait de cette application **un bien commun** utilisable au-del√† des fronti√®res de l\'agglom√©ration de la Rochelle. Si l\'h√©bergeur de votre Cozy ne la propose pas dans son propre store, contactez-le !","permissions":{"apps":{"description":"Utilis√© par la cozy-bar pour afficher les ic√¥nes des applications"},"settings":{"description":"Utilis√© par le cozy-bar pour afficher Claudy et savoir quelles applications sont √† venir"},"accounts":{"description":"Utilis√© pour obtenir un compte konnector"},"files":{"description":"Utilis√© pour acc√©der aux fichiers de sauvegarde de votre exportation de voyages"},"geojson-timeseries":{"description":"Utilis√© pour afficher les s√©ries temporelles geojson"},"coachco2.settings":{"description":"Utilis√© pour g√©rer les param√®tres de votre Coach CO2"}}},"dacc":{"settings":{"anonymous_participation":"Participer anonymement au calcul des √©missions moyennes de CO2","showAlerter":"Emission CO2 : afficher l\'alerter DACC sur la homepage"},"tripsCard":{"label":"Comparez vos √©missions √† la moyenne des autres utilisateurs de l‚Äôapplication ?","discard":"Non, merci","accept":"Comparer"},"compareDialog":{"title":"Comparez-vous anonymement","primaryText":"Afin de constituer la moyenne des √©missions des utilisateurs, et parce que votre Cozy vous a fait la promesse de ne jamais divulguer vos donn√©es sans votre demande explicite, il va vous demander le droit d\'envoyer cette donn√©e.","secondaryText":"Ces donn√©es seront agr√©g√©es et anonymes, elles ne contiendront aucun identifiant ni lieux.","action":"J\'ai compris"},"permissionsDialog":{"title":"Demande de permissions","primaryText":"L‚Äôapplication Coach CO2 demande les permissions suivantes √† votre Cozy :","secondaryText":"Une fois autoris√©es, les permissions pourront √™tre modifi√©es dans les param√®tres","why_asking":"Pourquoi me demander ces permissions ?","export_outside":"Exporter hors du Cozy","anonymized_emissions":"Mes √©missions de CO2 anonymis√©es","anonymized_bikegoal_progression":"Ma progression de fa√ßon anonyme","accept":"Toujours autoriser","refuse":"Refuser"},"reasonsDialog":{"title":"Motifs de permissions","content":"Parce que votre Cozy vous a fait la promesse de ne jamais divulguer vos donn√©es priv√©es, il vous demandera toujours le droit de laisser une application les envoyer √† l\'ext√©rieur."}},"vericalBarChart":{"title":"√âmissions de CO2","legend":{"yours":"Vos √©missions","average":"Moyennes des utilisateurs de l\'app"}},"bikeGoal":{"title":"Aller au travail √† v√©lo","yearly_goal_progression":"%{days}/%{daysToReach} jours \\npar an","goal_progression":"%{days}/%{daysToReach} jours","my_progression":"Ma¬†progression annuelle","average_progression":"Progression moyenne du groupe","achievement_certificate":"Attestation de r√©ussite","goals":"Objectifs","about":{"title":"√Ä propos de l‚Äôobjectif","intro":{"title":"Introduction","content":"Afin d‚Äôencourager le recours √† des modes de transports alternatifs et durables, la mise en ≈ìuvre du forfait mobilit√©s durables est entr√© en vigueur le 10 mai 2020.\\n\\nAinsi, les collaborateurs qui font le choix d‚Äôun mode de transport alternatif et durable pour leur trajet domicile-travail pourront b√©n√©ficier d‚Äôun forfait de %{bountyAmount}‚Ç¨ par an.\\n\\nVotre Coach CO2 vous aide √† comptabiliser vos trajets domicile-travail √† v√©lo et vous permet de g√©n√©rer l\'attestation de r√©ussite √† transmettre √† votre employeur !"},"how_trips_detected":{"title":"Comment sont d√©tect√©s mes trajets ?","content":"Vos trajets domicile-travail √† v√©lo seront automatiquement d√©tect√©s √† partir de vos horaires et de votre vitesse.\\n\\nSi un trajet n‚Äôest pas automatiquement d√©tect√© en ‚ÄúAller-retour au travail‚Äù, ouvrez le d√©tail du trajet et modifiez le motif du d√©placement en ‚ÄúAller-retour au travail‚Äù.\\n\\nSi un trajet n‚Äôest pas automatiquement d√©tect√© en ‚Äúv√©lo‚Äù, ouvrez le d√©tail du trajet et modifiez le mode de transport en ‚Äúv√©lo‚Äù."},"once_goal_reach":{"title":"Que faire une fois l‚Äôobjectif atteint","content":"Une fois l‚Äôobjectif atteint, il vous sera possible de g√©n√©rer une attestation de r√©ussite √† transmettre √† votre employeur pour b√©n√©ficier de votre forfait  de %{bountyAmount}‚Ç¨ üéâ"}},"deactivate":{"deactivate":"D√©sactiver","title":"Souhaitez-vous vraiment ne plus participer √† l‚Äôobjectif ?","content":"Vous pourrez toujours choisir d‚Äôy participer √† nouveau depuis les param√®tres de l‚Äôapplication.","stop_participate":"Ne plus participer","cancel":"Annuler"},"alert":{"success":{"text":"F√©licitations, vous avez atteint l‚Äôobjectif ‚ÄúAller travailler √† v√©lo‚Äù üéâ","action":"B√©n√©ficier de mon forfait de %{bountyAmount}‚Ç¨"},"title":"Allez au bureau √† v√©lo et recevez %{bountyAmount}‚Ç¨¬†!","text":"Dans le cadre du Forfait Mobilit√©s Durables¬†(FMD) mis en place par le gouvernement Fran√ßais, allez travailler √† v√©lo %{daysToReach} jours dans l‚Äôann√©e et recevez %{bountyAmount}‚Ç¨¬†!","actions":{"participate":"Participer","discard":"non,¬†merci"}},"edit":{"modify":"Modifier","title":"Modifier l\'objectif","firstname":"Pr√©nom","lastname":"Nom","workTime":"Temps de travail","workTime_full":"Temps plein","workTime_part":"Mi-temps ou temps partiel","workTimePercentage":"Pourcentage du temps de travail","compare_progress":"Comparer ma progression avec le groupe : %{source}","cancel":"Annuler","submit":"Ok","required":"Ce champ est obligatoire"},"settings":{"participation":"Participer √† l\'objectif ‚ÄúAller au travail √† v√©lo‚Äù","showAlerter":"Objectif v√©lo : afficher l\'alerter sur la homepage","hideOnboarding":"Objectif v√©lo : masquer l\'onboarding","sendToDACC":"Objectif v√©lo : activer le DACC","showAlerterSuccess":"Objectif v√©lo : forcer l\'affichage de l\'alerte de succ√®s sur la homepage"},"onboarding":{"title":"Forfait \\"mobilit√©s durables\\"","actions":{"finish":"Terminer","previous":"Pr√©c√©dent","next":"Suivant"},"steps":{"naming":{"title":"Nom et pr√©nom","nameLegend":"Le nom et le pr√©nom renseign√© seront utilis√©s pour g√©n√©rer l\'attestation de r√©ussite une fois l\'objectif atteint. Merci de remplir les informations suivantes¬†:"},"timing":{"timeLegend":"Vous disposez actuellement d‚Äôun contrat de travail √†¬†:","percentageLegend":"Le montant de la prime est modul√© selon le temps de travail. Pour les salari√©s √† temps partiel dont la dur√©e du travail est √©gale ou sup√©rieure √† 50% le montant de la prime sera la m√™me que pour un salari√© √† temps plein. Pour les salari√©s travaillant moins de 50% le montant de la prime sera calcul√© au prorata du temps travaill√©.\\n\\nRenseignez le pourcentage de votre temps de travail¬†:","percentage":"Pourcentage"},"comparison":{"comparisonLegend":"Il vous est possible d‚Äôafficher la progression moyenne des membres %{source} qui participent √† l‚Äôobjectif. Pour cela, il vous sera demand√© de participer √©galement √† la constitution de cette moyenne.\\n\\nVos donn√©es de progression seront agr√©g√©es et envoy√©es anonymement, elles ne contiendront aucun identifiant ni lieux.","compare":"Comparer ma progression","doNotCompare":"Ne pas comparer ma progression"}}},"certificateGeneration":{"title":"F√©licitations, vous¬†avez¬†atteint¬†l‚Äôobjectif ‚ÄúAller¬†travailler¬†√†¬†v√©lo‚Äù","content":"Une attestation a √©t√© g√©n√©r√©e pour attester de votre succ√®s pour l‚Äôann√©e %{year}. Transf√©rez-la d√®s maintenant par email √† votre employeur pour recevoir %{bountyAmount}‚Ç¨¬†!","actions":{"show":"Certificat - Aller travailler √† v√©lo.pdf","generate":"G√©n√©rer une nouvelle attestation","understood":"J\'ai¬†compris"}},"employer":{"my_company":"de mon entreprise","your_company":"de votre entreprise","my_collectivity":"de ma collectivit√©","your_collectivity":"de votre collectivit√©"}},"Modes":{"DefaultDialog":{"primary":"D√©finir comme transport par d√©faut pour cette cat√©gorie ?","secondary":"Le mode de transport sera automatiquement s√©lectionn√© comme par d√©faut pour tous les futurs trajets d√©tect√©s pour ce type de transport.","actions":{"save":"Enregistrer","cancel":"Annuler"}}}}')},J3iu:function(e,t){e.exports="/img/icon.aa5e3ec7c4ab374b229f92d96f796ca6.svg"},VDMD:function(e,t){e.exports="/img/background.ada7027117d5bc0de6d2c11f52c6e096.png"},"b/Qy":function(e,t,a){var n={"./en.json":"22V2","./fr.json":"lIGy"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="b/Qy"},eUFy:function(e,t,a){var n={"./en":"2maa","./en.json":"2maa","./fr":"Hsuv","./fr.json":"Hsuv"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="eUFy"},iC3e:function(e,t,a){var n={"./en.json":"5dwM","./fr.json":"eW7n","./nl_NL.json":"w7vk"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="iC3e"},kyG8:function(e,t,a){e.exports={"CertificateGeneration-root":"CertificateGeneration-root--wWT2w"}},nXPL:function(e,t,a){"use strict";a.r(t);a("k37E"),a("QLHQ"),a("7SaY");var n=a("ivGQ"),r=a.n(n),o=a("iOQm"),c=a("UdSB"),i=a.n(c),l=a("XkwL"),s=a.n(l),u=a("J58c"),d=a.n(u),m="io.cozy.timeseries.geojson",p="io.cozy.coachco2.settings",f={timeseries:{doctype:m,attributes:{},relationships:{startPlaceContact:{type:"has-one",doctype:"io.cozy.contacts"},endPlaceContact:{type:"has-one",doctype:"io.cozy.contacts"}}},files:{doctype:"io.cozy.files",attributes:{},relationships:{}},settings:{doctype:p,attributes:{},relationships:{}}};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=function(e){var t=e.client,a=e.setting,n=e.account;return t.save(v(v({},a),{},{account:n,_type:p}))},y=function(e){var t,a=null==e||null===(t=e.aggregation)||void 0===t?void 0:t.sections;if(!a)return e;var n=a.sort((function(e,t){return new Date(e.startDate).getTime()-new Date(t.startDate).getTime()})),r=v({},e);return r.aggregation.sections=n,r},h=a("xEu0"),E=a.n(h),O=function(e,t,a){var n=Object(h.useClient)();if(e.isLoading||t.isLoading)return null;if(null===a){var r=e.data[0];if(r)return r.account;var o=t.data[0];return o?(g({client:n,setting:r,account:o}),o):null}return a},C=a("HZZ/"),j=a.n(C),w=a("hJxD"),x=a.n(w),k=a("L7Xp"),_=a("rfej"),D=a("HmmB"),P="AIR_OR_HSR",T={name:"BICYCLING_CATEGORY",modes:["BICYCLING","BICYCLING_ELECTRIC","SCOOTER_ELECTRIC"]},N={name:"CAR_CATEGORY",modes:["CAR","CAR_ELECTRIC","CARPOOL","CARPOOL_ELECTRIC","MOTO_INF_250","MOTO_SUP_250","MOPED"]},M={name:"PUBLIC_TRANSPORT_CATEGORY",modes:["BUS","BUS_ELECTRIC","TRAIN","SUBWAY"]},S=[.258,.187,.152],A=[.00173,.00529,.0248],R=[.0025,.0022,.0041,.00472,.00298],L=[.146,.137,.129],I="Trip_Id",B="Trip_Start_Display_Name",G="Trip_Arrival_Display_Name",F="Trip_Purpose",z="Trip_Start_Date",Z="Trip_End_Date",U="Section_Start_Date",q="Section_End_Date",Y="Section_Duration",W="Section_Distance",H="Section_Mode",Q="Section_Coordinates",V="Section_Distances",K="Section_Timestamps",J="Section_Speeds";Object.freeze({is_tracemob_expe:!0});function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee=function(e){var t=e.accountId,a=e.limitBy;return{definition:Object(h.Q)(m).where({"cozyMetadata.sourceAccount":t}).partialIndex({aggregation:{$exists:!0}}).select(["cozyMetadata.sourceAccount","startDate","endDate","aggregation"]).indexFields(["cozyMetadata.sourceAccount","startDate","endDate"]).sortBy([{"cozyMetadata.sourceAccount":"desc"},{startDate:"desc"},{endDate:"desc"}]).limitBy(a),options:{as:"".concat(m,"/sourceAccount/").concat(t,"/limitedBy/").concat(a),fetchPolicy:E.a.fetchPolicies.olderThan(3e4)}}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.limit,r=void 0===n?1e3:n,o=Object(_.a)(e)||null,c=Object(k.a)(e)||null,i=e?"".concat(o.getFullYear(),"-").concat(o.getMonth()):"noDate",l=Object(h.Q)(m).where($({"cozyMetadata.sourceAccount":t},e&&{startDate:{$gte:o.toISOString(),$lte:c.toISOString()}})).partialIndex({aggregation:{$exists:!0}}).select(["aggregation","cozyMetadata.sourceAccount","startDate","endDate"]).indexFields(["cozyMetadata.sourceAccount","startDate"]).limitBy(r);return{definition:l,options:{as:"".concat(m,"/sourceAccount/").concat(t,"/date/").concat(i,"/limitedBy/").concat(r),fetchPolicy:E.a.fetchPolicies.olderThan(3e4),enabled:Boolean(e)&&Boolean(t)}}},ae=function(e,t){var a=e.accountId;return{definition:Object(h.Q)(m).where({"cozyMetadata.sourceAccount":a,startDate:{$gt:null}}).partialIndex({"aggregation.purpose":"COMMUTE","aggregation.modes":{$in:["BICYCLING","BICYCLING_ELECTRIC","SCOOTER_ELECTRIC"]}}).select(["startDate","endDate","aggregation","aggregation.modes","aggregation.purpose","cozyMetadata.sourceAccount"]).indexFields(["cozyMetadata.sourceAccount","startDate"]).sortBy([{"cozyMetadata.sourceAccount":"desc"},{startDate:"desc"}]).limitBy(1e3),options:{as:"".concat(m,"/sourceAccount/").concat(a,"/BikeCommute/"),fetchPolicy:E.a.fetchPolicies.olderThan(1e8),enabled:t}}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,a=void 0===t?100:t,n=e.withOnlyLogin,r=void 0===n||n,o=Object(h.Q)("io.cozy.accounts").partialIndex({account_type:{$or:["tracemob","openpath"]}}).limitBy(a);return r&&o.select(["auth.login","account_type"]),{definition:o,options:{as:"".concat("io.cozy.accounts","/account_type/limitedBy/").concat(a,"/withOnlyLogin/").concat(r),fetchPolicy:E.a.fetchPolicies.olderThan(3e4)}}},re=function(){return{definition:Object(h.Q)(p),options:{as:p,fetchPolicy:E.a.fetchPolicies.olderThan(1e8)}}},oe=["data"],ce=["data"],ie=Object(n.createContext)(),le=function(){var e=Object(n.useContext)(ie);if(!e)throw new Error("useAccountContext must be used within a AccountProvider");return e},se=function(e){return e.auth.login},ue=function(e){var t=e.children,a=Object(n.useState)(null),o=s()(a,2),c=o[0],l=o[1],u=Object(h.useClient)(),d=re(),m=Object(h.useQuery)(d.definition,d.options),p=m.data,f=i()(m,oe),b=Object(h.isQueryLoading)(f),v=ne(),y=Object(h.useQuery)(v.definition,v.options),E=y.data,C=i()(y,ce),j=Object(h.isQueryLoading)(C),w=O({data:p,isLoading:b},{data:E,isLoading:j},c),x=b||j,k=Object(n.useCallback)((function(e){g({client:u,setting:p[0],account:e}),l(e)}),[u,p]),_=Object(n.useMemo)((function(){return{accounts:E,account:c,setAccount:k,isAccountLoading:x}}),[E,x,c,k]);return Object(n.useEffect)((function(){(null==w?void 0:w._id)!==(null==c?void 0:c._id)&&l(w)}),[w,c]),r.a.createElement(ie.Provider,{value:_},t)},de=Object(n.createContext)(),me=function(){var e=Object(n.useContext)(de);if(!e)throw new Error("useSelectDatesContext must be used within a SelectDatesProvider");return e},pe=function(e){var t=e.children,a=Object(n.useState)(null),o=s()(a,2),c=o[0],i=o[1],l=Object(n.useMemo)((function(){return{selectedDate:c,setSelectedDate:i}}),[c]);return r.a.createElement(de.Provider,{value:l},t)},fe=a("HROS"),be=a("4ZQF"),ve=a("Rx+m"),ge=a("Aaol"),ye=a("0Lot"),he=a("BqmN"),Ee=Object(ye.a)({disableGlobal:!0}),Oe=function(e){var t=e.client,a=e.lang,n=e.polyglot,o=e.children;return r.a.createElement(fe.WebviewIntentProvider,null,r.a.createElement(he.b,{generateClassName:Ee},r.a.createElement(h.CozyProvider,{client:t},r.a.createElement(h.RealTimeQueries,{doctype:m}),r.a.createElement(h.RealTimeQueries,{doctype:p}),r.a.createElement(ue,null,r.a.createElement(pe,null,r.a.createElement(ge.b,{lang:a,polyglot:n},r.a.createElement(be.a,null,r.a.createElement(ve.a,null,o))))))))},Ce=a("mZuE"),je=a("6Vpj"),we=a("+rdD"),xe=a("6WJ3"),ke=a("HYTT"),_e=a("Su4X"),De=a("Gyqq"),Pe=a("d5dM"),Te=Object(De.e)(je.b),Ne=function(){var e=Object(ge.e)().t;return r.a.createElement(Pe.a,null,r.a.createElement(De.d,null,r.a.createElement(De.b,null,r.a.createElement(Te,{to:"/trips"},r.a.createElement(De.a,{icon:xe.a}),r.a.createElement(De.c,null,e("nav.trips")))),r.a.createElement(De.b,null,r.a.createElement(Te,{to:"/analysis"},r.a.createElement(De.a,{icon:ke.a}),r.a.createElement(De.c,null,e("nav.analysis")))),r.a.createElement(De.b,{secondary:!0},r.a.createElement(Te,{to:"/analysis/modes"},r.a.createElement(De.c,null,e("nav.modes")))),r.a.createElement(De.b,{secondary:!0},r.a.createElement(Te,{to:"/analysis/purposes"},r.a.createElement(De.c,null,r.a.createElement(we.a,{whiteSpace:"nowrap"},e("nav.purposes"))))),r.a.createElement(De.b,null,r.a.createElement(Te,{to:"/settings"},r.a.createElement(De.a,{icon:_e.a}),r.a.createElement(De.c,null,e("nav.settings"))))))},Me=a("9Y1u"),Se=a("WY6r"),Ae=a("N8wp"),Re=function(){var e=Object(ge.e)().t;return r.a.createElement(Se.b,null,r.a.createElement(Ne,null),r.a.createElement(Se.c,null,r.a.createElement(Se.a,null,r.a.createElement(Ce.b,null))),r.a.createElement(Ae.a,{t:e}),r.a.createElement(Me.a,null))},Le=a("LGLP"),Ie=a.n(Le),Be=a("VDMD"),Ge=a.n(Be),Fe=a("ii0b"),ze=a.n(Fe),Ze=a("QGb3"),Ue=a.n(Ze),qe=a("qmdU"),Ye=a("0r57"),We=a("8wm5"),He=a("C+aL"),Qe=a.n(He),Ve=a("/yh+"),Ke=a.n(Ve),Je=a("3UCn"),Xe=a.n(Je),$e=a("wXrU"),et=a.n($e),tt=a("XA6X"),at=a.n(tt),nt=a("PpCK"),rt=a.n(nt),ot=a("nVpl"),ct=a.n(ot),it=a("FpXT"),lt=a.n(it),st=a("efAt"),ut=a.n(st),dt=a("rUPj"),mt=a.n(dt),pt=a("QVGT"),ft=a("rinC"),bt=a("uywR"),vt=a("eBtv"),gt=a("Dzzq"),yt=a("6CkU"),ht=a("x9kU"),Et=a("Dt6a"),Ot=a("tLIM"),Ct=a("GLkt"),jt=a("Npr/"),wt=a("t+nR"),xt=a("4+jE"),kt=a("P6yu"),_t=a("XAJ7"),Dt=a("B7lc"),Pt=a("P/GF"),Tt=a("I46i"),Nt=a("KeZy"),Mt=a("u/Gg"),St=a("Ins2"),At=a("B6UP"),Rt=a("keV2"),Lt=a("6+xZ"),It=[P,"BICYCLING_ELECTRIC","BICYCLING","BUS_ELECTRIC","BUS","CAR_ELECTRIC","CAR","IN_VEHICLE","CARPOOL_ELECTRIC","CARPOOL","MOTO_INF_250","MOTO_SUP_250","SCOOTER_ELECTRIC","MOPED","SUBWAY","TRAIN","WALKING","ON_FOOT","RUNNING","UNKNOWN"],Bt=function e(t){switch(t){case P:return Dt.a;case"BICYCLING_ELECTRIC":return ht.a;case"BICYCLING":return pt.a;case"BUS_ELECTRIC":return ft.a;case"CAR":case"IN_VEHICLE":return bt.a;case"BUS":return ft.a;case"CAR_ELECTRIC":case"CARPOOL_ELECTRIC":return Et.a;case"CARPOOL":return vt.a;case"MOTO_INF_250":case"MOTO_SUP_250":return wt.a;case"SCOOTER_ELECTRIC":return Ot.a;case"MOPED":return jt.a;case"SUBWAY":return Mt.a;case"TRAIN":return St.a;case"WALKING":case"ON_FOOT":case"RUNNING":return Rt.a;case"UNKNOWN":return At.a;default:return mt()("info","Unknown mode ".concat(t),"pickModeIcon"),e("UNKNOWN")}},Gt=function e(t){switch(t){case P:return"#F05759";case"BICYCLING_ELECTRIC":return"#B3BF26";case"BICYCLING":return"#15CACD";case"SCOOTER_ELECTRIC":return"#84C6AA";case"BUS_ELECTRIC":return"#F85AA8";case"BUS":return"#BA5AE8";case"CAR_ELECTRIC":return"#FC881C";case"CAR":case"IN_VEHICLE":return"#FF7B5E";case"CARPOOL_ELECTRIC":return"#80A5E1";case"CARPOOL":return"#1CAAE8";case"MOTO_INF_250":return"#C78542";case"MOTO_SUP_250":return"#C8A76F";case"MOPED":return"#E3BE7D";case"SUBWAY":return"#8978FF";case"TRAIN":return"#F1B61E";case"UNKNOWN":return"#A4A7AC";case"WALKING":case"ON_FOOT":case"RUNNING":return"#21B930";default:return mt()("info","Unknown mode ".concat(t),"modeToColor"),e("UNKNOWN")}},Ft=["COMMUTE","WORK","SHOPPING","PERSONAL_MED","PICK_DROP","SPORT","EXERCISE","ENTERTAINMENT","TRAVEL","OTHER_PURPOSE"],zt=function e(t){switch(t){case"COMMUTE":return yt.a;case"WORK":return Lt.a;case"SHOPPING":return Tt.a;case"TRAVEL":return xt.a;case"PERSONAL_MED":return _t.a;case"EXERCISE":return Ct.a;case"ENTERTAINMENT":return gt.a;case"PICK_DROP":return Pt.a;case"SPORT":return Nt.a;case"OTHER_PURPOSE":return kt.a;default:return mt()("info","Unknown purpose ".concat(t),"pickPurposeIcon"),e("OTHER_PURPOSE")}},Zt=function e(t){switch(t){case"COMMUTE":return"#BA5AE8";case"WORK":return"#8978FF";case"SHOPPING":return"#FF7B5E";case"TRAVEL":return"#15CACD";case"PERSONAL_MED":return"#1CAAE8";case"EXERCISE":return"#21B930";case"ENTERTAINMENT":return"#F85AA8";case"PICK_DROP":return"#C78542";case"SPORT":return"#B3BF26";case"OTHER_PURPOSE":return"#A4A7AC";default:return mt()("info","Unknown purpose ".concat(t),"purposeToColor"),e("OTHER_PURPOSE")}},Ut=function(e){var t=function(e){return parseFloat((e.reduce((function(e,t){return e+t}),0)/e.length).toFixed(5))};switch(e){case P:return t(S);case"BICYCLING_ELECTRIC":case"BICYCLING":return 0;case"BUS_ELECTRIC":return.0217;case"BUS":return t(L);case"CAR_ELECTRIC":return.0198;case"CAR":case"IN_VEHICLE":return.192;case"CARPOOL_ELECTRIC":return.0099;case"CARPOOL":return.096;case"MOTO_INF_250":return.0604;case"MOTO_SUP_250":return.165;case"SCOOTER_ELECTRIC":return 0;case"MOPED":return.064;case"SUBWAY":return t(R);case"TRAIN":return t(A);case"UNKNOWN":return 0;case"WALKING":case"ON_FOOT":case"RUNNING":default:return 0}},qt=function(e){return 1e3*parseFloat(e)},Yt=function(e){return e===P?"(".concat(qt(.152),"~").concat(qt(.258),") g/km"):"".concat(Wt(e)," g/km")},Wt=function(e){return Math.round(qt(Ut(e)))},Ht=function e(t){switch(t){case P:case"WALKING":case"ON_FOOT":case"RUNNING":case"UNKNOWN":return null;case"BICYCLING_ELECTRIC":case"BICYCLING":case"SCOOTER_ELECTRIC":return T.name;case"BUS_ELECTRIC":case"BUS":case"SUBWAY":case"TRAIN":return M.name;case"CAR_ELECTRIC":case"CAR":case"IN_VEHICLE":case"CARPOOL_ELECTRIC":case"CARPOOL":case"MOTO_INF_250":case"MOTO_SUP_250":case"MOPED":return N.name;default:return mt()("info","Unknown mode ".concat(t),"modeToCategory"),e("UNKNOWN")}},Qt=a("e0b0"),Vt=a.n(Qt),Kt=function(e){var t="m",a=e;return e>1e3&&(t="km",a=e/1e3),"".concat(Math.round(a)," ").concat(t)},Jt=function(e){return"".concat(Math.round(100*e)/100," kg")},Xt=function(e,t){var a=["fr","en"].includes(t)?t:"en";return Vt()(1e3*e,{delimiter:" ",largest:2,round:!0,units:["h","m"],language:a,languages:{fr:{d:function(){return"j"},h:function(){return"h"},m:function(){return"min"},s:function(){return"s"},ms:function(){return"ms"}},en:{d:function(){return"d"},h:function(){return"h"},m:function(){return"min"},s:function(){return"s"},ms:function(){return"ms"}}}})},$t=function(e){var t=e.f,a=e.lang,n=e.date;return t(n,"fr"===a?"HH[h]mm":"HH:mm")},ea=function(e){return 3.6*(e.reduce((function(e,t){return e+t}),0)/e.length)},ta=function(e){var t=0,a=e.distance/1e3;switch(e.mode){case P:if(a<=1e3){t+=.258*a;break}t+=a<=3500?.187*a:.152*a;break;case"BICYCLING_ELECTRIC":case"BICYCLING":t+=0*a;break;case"BUS_ELECTRIC":t+=.0217*a;break;case"BUS":t+=a*Ut("BUS");break;case"CAR_ELECTRIC":t+=.0198*a;break;case"CAR":case"IN_VEHICLE":t+=.192*a;break;case"CARPOOL_ELECTRIC":t+=.0099*a;break;case"CARPOOL":t+=.096*a;break;case"MOTO_INF_250":t+=.0604*a;break;case"MOTO_SUP_250":t+=.165*a;break;case"SCOOTER_ELECTRIC":t+=0*a;break;case"MOPED":t+=.064*a;break;case"SUBWAY":t+=a*Ut("SUBWAY");break;case"TRAIN":t+=a*Ut("TRAIN");break;case"UNKNOWN":t+=0*a;break;case"WALKING":case"RUNNING":case"ON_FOOT":t+=0*a}return t},aa=function(e){var t,a=e.averageSpeed,n=e.duration/60;switch(e.mode){case"WALKING":case"ON_FOOT":case"RUNNING":t=a<=3?2:a<=5?3.5:a<=6.5?5:7;break;case"BICYCLING":t=a<=15?5.8:a<=22.4?8:a<=25.6?10:15.8}return t?function(e,t){return 74.25*e*3.5/200*t}(t,n):0},na=a("euuj"),ra=a.n(na),oa=function(e){return Ke()(e,"properties.manual_purpose")},ca=function(e){var t;return null==e||null===(t=e.properties)||void 0===t?void 0:t.automatic_purpose},ia=function(e){return Ke()(e,"properties.start_place.data.properties.display_name")},la=function(e){return Ke()(e,"properties.end_place.data.properties.display_name")},sa=function(e,t){var a=(t||{}).defaultTransportModeByGroup,n=Ke()(e,"properties.sensed_mode","").toUpperCase(),r=n.split("PREDICTEDMODETYPES.")[1]||n.split("MOTIONTYPES.")[1],o=It.includes(r),c=It.find((function(e){return(null==a?void 0:a[Ht(r)])===e}));return!!c&&c||o&&r||"UNKNOWN"},ua=ra()((function(e,t){return e.features.filter((function(e){return"FeatureCollection"===e.type})).flatMap((function(e){return function(e,t){return e.features.map((function(e){var a=Ke()(e,"properties.start_fmt_time"),n=Ke()(e,"properties.end_fmt_time"),r=Ke()(e,"properties.speeds");return{id:e.id,mode:sa(e,t),coordinates:Ke()(e,"geometry.coordinates"),timestamps:Ke()(e,"properties.timestamps"),distance:Ke()(e,"properties.distance"),distances:Ke()(e,"properties.distances"),duration:Ke()(e,"properties.duration"),startDate:a?new Date(a):a,endDate:n?new Date(n):n,speeds:r,avgSpeed:r?ea(r):void 0}}))}(e,t)}))})),da=function(e){return new Date(e.properties.start_fmt_time)},ma=function(e){return new Date(e.properties.end_fmt_time)};function pa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ba(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return va(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return va(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw o}}}}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ga=function(e){return e.flatMap((function(t,a){return t.series.map((function(t){return function(e){var t=e.features,a=e.properties,n=Xe()(t,(function(e){return e.id}));return et()({},e,{properties:{start_place:{data:n[a.start_place.$oid]},end_place:{data:n[a.end_place.$oid]}}})}(fa(fa({},t),{},{timeserieId:e[a]._id}))}))}))},ya=function(e){var t=0;return e.forEach((function(e){var a;t+=(null===(a=e.aggregation)||void 0===a?void 0:a.totalCO2)||0})),t},ha=function(e,t){var a=lt()(e),n=e[t],r=0===n.timeseries.length&&0===n.totalCO2,o=rt()(a.filter((function(e){return r?e[0]!==t&&e[1].totalCO2>0:e[1].totalCO2>0})),(function(e){return e[1].totalCO2})).reverse(),c=rt()(a.filter((function(e){return r?e[0]!==t&&0===e[1].totalCO2:0===e[1].totalCO2})),(function(e){return e[1].timeseries.length})).reverse();return fa(fa(fa({},Qe()(o)),Qe()(c)),r&&d()({},t,n))},Ea=function(e){var t=function(e){var t=It.reduce((function(e,t){return fa(fa({},e),{},d()({},t,{timeseries:[],totalCO2:0}))}),{});return e.forEach((function(e){e.aggregation.sections.forEach((function(a){var n=t[a.mode].timeseries;n.some((function(t){return t.id===e.id}))||n.push(e),t[a.mode].totalCO2+=a.CO2}))})),t}(e);return ha(t,"UNKNOWN")},Oa=function(e){var t=Ke()(e,"aggregation.purpose","").toUpperCase();return Ft.includes(t)&&t||"OTHER_PURPOSE"},Ca=function(e){var t=function(e){var t=Ft.reduce((function(e,t){return fa(fa({},e),{},d()({},t,{timeseries:[],totalCO2:0}))}),{});return e.forEach((function(e){var a=Oa(e),n=t[a].timeseries;n.some((function(t){return t.id===e.id}))||n.push(e),t[a].totalCO2+=e.aggregation.totalCO2})),t}(e);return ha(t,"OTHER_PURPOSE")},ja=function(e){return e.startDate?new Date(e.startDate):null},wa=function(e){return e.endDate?new Date(e.endDate):null},xa=function(e){return Ke()(e,"aggregation.startPlaceDisplayName")},ka=function(e){return Ke()(e,"aggregation.endPlaceDisplayName")},_a=function(e,t){return"start"===t?xa(e):ka(e)},Da=function(e,t){var a=Ta(e);return Ue()(a.properties["".concat(t,"_loc")].coordinates).reverse().toString()},Pa=function(e,t){return Da(e,t).replace(",",", ")},Ta=function(e){return Ke()(e,"series[0]")},Na=function(e){var t=ja(e),a=wa(e);return Object(Ye.a)(a,t)},Ma=function(e){return Kt(e.aggregation.totalDistance)},Sa=function(e){var t=function(e){return Ke()(e,"aggregation.totalCO2","")}(e);return Jt(t)},Aa=function(e){var t,a=function(e){return Ke()(e,"aggregation.totalCalories","")}(e);return t=a,"".concat(Math.round(t)," kcal")},Ra=function(e,t){var a=t(wa(e),"dddd D MMMM YYYY");return a.charAt(0).toUpperCase()+a.slice(1)},La=function(e,t){var a;if(null==e||null===(a=e.series)||void 0===a||!a[0])throw new Error("Timeserie is malformed");var n=fa({},e);return at()(n,"series[0].properties.automatic_purpose",t),at()(n,"aggregation.recurring",!0),Ba(n)},Ia=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isRecurringTrip,o=void 0===r?null:r;if(null==e||null===(a=e.series)||void 0===a||!a[0])throw new Error("Timeserie is malformed");var c=fa({},e);return at()(c,"series[0].properties.manual_purpose",t.toUpperCase()),null!==o&&at()(c,"aggregation.recurring",o),Ba(c)},Ba=function(e){var t,a=e.series[0],n=null!=e&&null!==(t=e.aggregation)&&void 0!==t&&t.recurring&&ca(a)||oa(a);return n?fa(fa({},e),{},{aggregation:fa(fa({},e.aggregation),{},{purpose:n})}):e},Ga=function(e,t){var a=function(e,t){var a,n=0,r=ba(e.aggregation.sections);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.mode===t&&(n+=o.CO2)}}catch(c){r.e(c)}finally{r.f()}return n}(e,t);return Jt(a)},Fa=function(e){var t=0,a=Ue()(e).sort((function(e,t){return ja(e)-ja(t)}));return a.forEach((function(e,n){if(0===n)t++;else{var r=ja(e),o=a[n-1],c=ja(o),i=Object(qe.a)(c,12);r.toDateString()===c.toDateString()||r<i||t++}})),t},za=function(e,t){return e.filter((function(e){return new Date(e.startDate).getFullYear().toString()===t}))},Za=a("8ZpT"),Ua=a.n(Za),qa=function(){var e,t=null===(e=Ua()("coachco2.bikegoal.settings"))||void 0===e?void 0:e.daysToReach;if(!t)throw new Error('Flag "coachco2.bikegoal.settings" must be used');return t},Ya=function(){var e,t=null===(e=Ua()("coachco2.bikegoal.settings"))||void 0===e?void 0:e.bountyAmount;if(!t)throw new Error('Flag "coachco2.bikegoal.settings" must be used');return t},Wa=function(){var e,t,a=null===(e=Ua()("coachco2.bikegoal.settings"))||void 0===e?void 0:e.sourceIdentity,n=null===(t=Ua()("coachco2.bikegoal.settings"))||void 0===t?void 0:t.sourceType,r=["custom","company","collectivity"];if(!n)throw new Error('Flag "coachco2.bikegoal.settings" must be used');if(!r.includes(n))throw new Error('Flag "coachco2.bikegoal.settings"\'s "sourceType" must be one of '.concat(r));if("custom"===n&&!a)throw new Error('Flag "coachco2.bikegoal.settings"\'s "sourceIdentity" must be a string when "sourceType" is set to "custom"');return{sourceType:n,sourceIdentity:"custom"===n?a:null}},Ha=function(e){return!(!e||0===e.length)&&Fa(e)>=qa()},Qa=function(e){if(!e||0===e.length)return 0;var t=Fa(e),a=qa();return t<a?t:a},Va=a("gQ+z"),Ka=["timeseries","sendToDACC","size"],Ja=function(e){var t,a,n=e.timeseries,o=e.sendToDACC,c=e.size,l=i()(e,Ka),s=function(e){if(!e)return 100;var t=Qa(e),a=qa();return Math.round(t/a*100)}(n),u=function(e){switch(e){case"medium":return"3rem";case"small":return"2.5rem";default:return"4.5rem"}}(c);return r.a.createElement(Va.a,Ie()({size:c,primaryProps:{value:s,color:"#BA5AE8"}},o&&{secondaryProps:{value:(t=qa(),a=.5>t?t:.5,Math.round(a/t*100)),color:"#BA5AE83D"}},l),r.a.createElement(we.a,{fontSize:u},"üö¥"))};Ja.propTypes={className:ze.a.string,timeseries:ze.a.arrayOf(ze.a.object)};var Xa=Ja,$a=a("kyG8"),en=a.n($a),tn=a("/s+K"),an=a("AHiN"),nn=a("W5TB"),rn=a("OEPu"),on=a("4jS1"),cn=a("i5f2"),ln=a("dUf/"),sn=a("gQXR"),un=a("9Ub/"),dn=function(){var e=Object(ge.e)().t,t=Object(ve.b)().isMobile,a=Object(Ce.i)().year;return r.a.createElement("div",{className:en.a["CertificateGeneration-root"]},r.a.createElement(Xa,t&&{size:"medium"}),r.a.createElement(un.a,{variant:"h4"},e("bikeGoal.certificateGeneration.title")),r.a.createElement(un.a,{variant:"body2",className:"u-mv-1"},e("bikeGoal.certificateGeneration.content",{bountyAmount:Ya(),year:a})),r.a.createElement(sn.a,null,r.a.createElement(rn.a,null,r.a.createElement(on.b,null,r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:nn.a,size:32})),r.a.createElement(ln.a,{primary:e("bikeGoal.certificateGeneration.actions.show")})))),r.a.createElement(tn.a,{variant:"text",label:e("bikeGoal.certificateGeneration.actions.generate"),className:"u-mt-half u-fz-xsmall",onClick:function(){}}))},mn=a("tRUj"),pn=function(){var e=Object(Ce.h)(),t=Object(ve.b)().isMobile,a=Object(ge.e)().t;return r.a.createElement(mn.a,Ie()({open:!0,background:"var(--paperBackgroundColor) repeat-x url(".concat(Ge.a,")"),content:r.a.createElement(dn,null)},t?{onBack:function(){return e("..")}}:{onClose:function(){return e("..")}},{actions:r.a.createElement(tn.a,{label:a("bikeGoal.certificateGeneration.actions.understood"),onClick:function(){return e("..")}}),actionsLayout:"column"}))},fn=a("uRLs"),bn=a.n(fn),vn=a("eson"),gn=["days","label","color","isSuccess","body1"],yn=function(e){return{color:e&&"var(--successColor)"}},hn=function(e){var t=e.days,a=e.label,n=e.color,o=e.isSuccess,c=e.body1,l=i()(e,gn),s=Object(ge.e)().t;return r.a.createElement("div",l,r.a.createElement(an.a,{className:"u-mr-half",icon:vn.a,color:n,size:8}),r.a.createElement(un.a,{display:"inline",variant:c?"body1":"caption",color:"textPrimary",style:yn(o)},s("bikeGoal.goal_progression",{days:t,daysToReach:qa()})),r.a.createElement(un.a,{variant:"caption",style:yn(o)},a))};hn.defaultProps={color:"#BA5AE8"};var En=hn,On=a("xr2j"),Cn=function(e){var t=e.className,a=e.timeseries,n=e.body1,o=e.componentsProps,c=Object(ge.e)().t;return r.a.createElement("div",{className:"u-flex ".concat(t)},r.a.createElement(En,Ie()({},o.BikeGoalSummaryItem,{days:Qa(a),label:c("bikeGoal.my_progression"),isSuccess:Ha(a),body1:n})),r.a.createElement(On.a,{className:"u-mh-1",style:{marginTop:4},orientation:"vertical",flexItem:!0}),r.a.createElement(En,Ie()({},o.BikeGoalSummaryItem,{days:.5,label:c("bikeGoal.average_progression"),color:"#BA5AE83D",body1:n})))};Cn.defaultProps={className:"",componentsProps:{}};var jn=Cn,wn=function(e){var t=e.timeseriesByYear;return{whiteSpace:e.preLine&&"pre-line",color:Ha(t)&&"var(--successColor)"}},xn=function(e){var t=e.className,a=e.timeseriesByYear,n=e.variant,o=e.preLine,c=Object(ge.e)().t;return r.a.createElement(un.a,{className:t,variant:n,style:wn({timeseriesByYear:a,preLine:o})},c("bikeGoal.yearly_goal_progression",{days:Qa(a),daysToReach:qa()}))},kn=a("Yb2N"),_n=a("PExr"),Dn={BikeGoalSummaryItem:{flex:"1 1 0"}},Pn=function(e){var t=e.className,a=e.timeseries,n=e.sendToDACC,o=Object(ge.e)().t,c=Object(ve.b)().isMobile,i=Object(Ce.h)();return r.a.createElement("div",{className:t},c&&r.a.createElement(un.a,{className:"u-mb-half",variant:"h3"},o("bikeGoal.title")),n?r.a.createElement(jn,{className:bn()("u-mt-half",{"u-ph-1 u-ta-center":c}),timeseries:a,body1:c,componentsProps:{BikeGoalSummaryItem:Dn.BikeGoalSummaryItem}}):r.a.createElement(xn,{className:"u-mt-half",timeseriesByYear:a}),Ha(a)&&r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(kn.a,{icon:r.a.createElement(an.a,{icon:_n.a,className:"u-ml-half"}),label:o("bikeGoal.achievement_certificate"),color:"success",clickable:!0,onClick:function(){i("certificate/generate")}})))};Pn.propTypes={className:ze.a.string,timeseries:ze.a.arrayOf(ze.a.object).isRequired};var Tn=Pn,Nn=a("J14j"),Mn=a("o1F1"),Sn=Object(n.forwardRef)((function(e,t){var a=e.label,n=e.onClick;return Object(ve.b)().isMobile?r.a.createElement(Nn.a,{textVariant:"h6",onClick:n},a):r.a.createElement(tn.a,{ref:t,variant:"secondary",label:a,endIcon:r.a.createElement(an.a,{icon:Mn.a,size:14}),onClick:n})}));Sn.displayName="ActionButton",Sn.propTypes={label:ze.a.string,onClick:ze.a.func};var An=Sn,Rn=a("lAlC"),Ln=a("/gvb"),In=a("hAvo"),Bn=function(e){var t=e.timeseries,a=Object(Ce.i)().year,o=Object(Ce.h)(),c=Object(n.useRef)(),i=Object(n.useState)(!1),l=s()(i,2),u=l[0],d=l[1],m=Object(n.useMemo)((function(){return function(e){var t=new Date;if(!e||0===e.length)return[t.getFullYear().toString()];var a=new Date(function(e){return e.reduce((function(e,t){return e.startDate<t.startDate?e:t}))}(e).startDate),n=Object(Rn.a)(t,a);return Array.from({length:n+1},(function(e,a){return Object(D.a)(t,a).getFullYear().toString()}))}(t)}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{ref:c,label:a,onClick:function(){return d((function(e){return!e}))}}),u&&r.a.createElement(Ln.a,{anchorElRef:c,autoclose:!0,onClose:function(){return d(!1)},popperOptions:{placement:"bottom-end"}},m.map((function(e,t){return r.a.createElement(In.a,{key:t,onClick:function(){return o("/bikegoal/".concat(e,"/trips"))}},e)}))))};Bn.propTypes={timeseries:ze.a.arrayOf(ze.a.object).isRequired};var Gn=r.a.memo(Bn),Fn=a("HCvV"),zn=Object(n.forwardRef)((function(e,t){var a=e.label,n=e.onClick;return Object(ve.b)().isMobile?r.a.createElement(Fn.a,{onClick:n},a):r.a.createElement(tn.a,{ref:t,className:"u-miw-auto u-ml-half",variant:"secondary",label:a,onClick:n})}));zn.displayName="ActionButton",zn.propTypes={label:ze.a.node,onClick:ze.a.func};var Zn=zn,Un=["data"];function qn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Yn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wn=function(e){var t=Object(h.useClient)(),a=re(),n=Object(h.useQuery)(a.definition,a.options),r=n.data,o=i()(n,Un),c=Object(h.isQueryLoading)(o);return{isLoading:c,value:c?void 0:r&&r[0]?Ke()(r[0],e):void 0,save:function(){var a=j()(x.a.mark((function a(n){var o;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=Yn(Yn({},r[0]),{},{_type:p}),at()(o,e,n),a.next=4,t.save(o);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},Hn=a("pSj2"),Qn=function(e){var t=e.open,a=e.onClose,o=Object(ge.e)().t,c=Object(Ce.h)(),i=Wn("bikeGoal.activated"),l=i.isLoading,u=i.save,d=Object(n.useState)(!1),m=s()(d,2),p=m[0],f=m[1];return r.a.createElement(Hn.a,{open:t,title:o("bikeGoal.deactivate.title"),content:o("bikeGoal.deactivate.content"),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(tn.a,{variant:"secondary",label:o("bikeGoal.deactivate.cancel"),onClick:a}),r.a.createElement(tn.a,{color:"error",label:o("bikeGoal.deactivate.stop_participate"),busy:p||l,onClick:function(){f(!0),u(!1),c("/trips")}})),onClose:a})};Qn.propTypes={open:ze.a.bool.isRequired,onClose:ze.a.func.isRequired};var Vn=Qn,Kn=a("vc9t"),Jn=a("jMeN"),Xn=a("KsnS"),$n=a("QRbe"),er=function(){var e=Object(ge.e)().t,t=Object(ve.b)().isMobile,a=Object(n.useRef)(),o=Object(Ce.h)(),c=Object(n.useState)(!1),i=s()(c,2),l=i[0],u=i[1],d=Object(n.useState)(!1),m=s()(d,2),p=m[0],f=m[1],b={divider:{borderTop:0,marginLeft:{isMobile:t}.isMobile?"3rem":void 0}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Zn,{ref:a,label:r.a.createElement(an.a,{icon:Kn.a}),onClick:function(){return u((function(e){return!e}))}}),l&&r.a.createElement(Ln.a,{anchorElRef:a,autoclose:!0,onClose:function(){return u(!1)},popperOptions:{placement:"bottom-end"}},r.a.createElement(In.a,{left:r.a.createElement(an.a,{icon:$n.a}),onClick:function(){return o("edit")}},e("bikeGoal.edit.modify")),r.a.createElement(In.a,{left:r.a.createElement(an.a,{icon:Xn.a}),onClick:function(){return o("about")}},e("bikeGoal.about.title")),r.a.createElement(On.a,{style:b.divider}),r.a.createElement(In.a,{left:r.a.createElement(an.a,{icon:Jn.a}),onClick:function(){return f(!0)}},e("bikeGoal.deactivate.deactivate"))),r.a.createElement(Vn,{open:p,onClose:function(){return f(!1)}}))};Gn.propTypes={timeseries:ze.a.arrayOf(ze.a.object).isRequired};var tr=function(e){var t=e.timeseries,a=Object(ve.b)().isMobile,n={actions:{right:{isMobile:a}.isMobile?0:"13rem"}};return r.a.createElement("div",{className:bn()("u-flex u-flex-justify-end",{"u-pos-absolute u-top-m":!a}),style:n.actions},r.a.createElement(Gn,{timeseries:t}),r.a.createElement(er,null))},ar=a("Ht4I"),nr=a("Qugh"),rr=a("kjpz"),or=function(e){var t=e.icon,a=e.color,n=e.faded,o=e.ghost,c=function(e){var t=e.faded,a=e.color;return t?{color:a||"var(--primaryColor)",backgroundColor:"var(--paperBackgroundColor)",border:"1px solid var(--borderMainColor)"}:{backgroundColor:a}}({faded:n,color:a});return r.a.createElement(nr.b,{style:c,icon:t,size:32,ghost:o})},cr=function(e){var t=e.attribute;return r.a.createElement(or,{icon:zt(t),color:Zt(t),ghost:"OTHER_PURPOSE"===t})},ir=function(e){var t=e.attribute,a=e.defaultColor,n=Object(rr.a)();return r.a.createElement(or,{icon:Bt(t),color:a?n.palette.primary.main:Gt(t),faded:!0})},lr=a("Mb5X"),sr=a("MRub"),ur={co2:{fontWeight:700,whiteSpace:"nowrap",marginRight:"-1rem"},tripIcon:{marginRight:"4px"}},dr=function(e){var t=e.tripModeIcons,a=e.duration,n=e.distance;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement(an.a,{key:t,icon:e,size:10,style:ur.tripIcon})})),"¬∑ ".concat(a," ¬∑ ").concat(n))},mr=function(e){var t=e.timeserie,a=e.hasDateHeader,o=Object(ge.e)().f,c=Object(Ce.g)(),i=Object(Ce.h)(),l=Object(Ce.i)().mode,s=Oa(t),u=Na(t),d=function(e){return ut()(e.aggregation.sections.sort((function(e,t){return e.distance>t.distance?-1:1})).map((function(e){return e.mode})).filter(Boolean))}(t),m=Ma(t),p=Object(n.useMemo)((function(){return l?Ga(t,l):Sa(t)}),[t,l]),f=Object(n.useMemo)((function(){return d.map((function(e){return Bt(e)}))}),[d]);return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(sr.a,null,o(ja(t),"dddd DD MMMM")),r.a.createElement(on.b,{button:!0,onClick:function(){i("".concat(c.pathname,"/").concat(t._id))}},r.a.createElement(cn.a,null,r.a.createElement(cr,{attribute:s})),r.a.createElement(ln.a,{primary:ka(t),secondary:r.a.createElement(dr,{tripModeIcons:f,duration:u,distance:m})}),r.a.createElement(un.a,{style:ur.co2,variant:"body2"},p),r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:lr.a,color:"var(--secondaryTextColor)"}))),r.a.createElement(On.a,null))};mr.propTypes={timeserie:ze.a.object.isRequired,hasDateHeader:ze.a.bool.isRequired};var pr=r.a.memo(mr,(function(e,t){return e.timeserie._rev===t.timeserie._rev}));pr.displayName="MemoizedTripItem";var fr=pr,br=function(e){var t=e.timeseries,a=e.noHeader,o=Object(ve.b)().isMobile,c=Object(ge.e)().t,i=Object(n.useCallback)((function(e,a){return 0===a||!Object(ar.a)(ja(e),ja(t[a-1]))}),[t]);return r.a.createElement(r.a.Fragment,null,o&&!a&&r.a.createElement(sn.a,{className:"u-ph-1",style:{height:"4rem",display:"flex",alignItems:"center"},square:!0},r.a.createElement(un.a,{variant:"h5"},c("trips.trips"))),r.a.createElement(rn.a,null,t.map((function(e,t){return r.a.createElement(fr,{key:"".concat(e.id).concat(t),timeserie:e,hasDateHeader:i(e,t)})}))))};br.propTypes={timeseries:ze.a.arrayOf(ze.a.object).isRequired,noHeader:ze.a.bool};var vr=br,gr=a("13md"),yr=function(e){var t=e.className,a=e.timeseries,n=e.hasMore,o=e.fetchMore,c=Object(ge.e)().t;return r.a.createElement("div",{className:t},r.a.createElement(vr,{timeseries:a,noHeader:!0}),n&&r.a.createElement(gr.a,{label:c("loadMore"),fetchMore:o}))};yr.propTypes={className:ze.a.string,timeseries:ze.a.arrayOf(ze.a.object).isRequired,hasMore:ze.a.bool,fetchMore:ze.a.func};var hr=yr,Er=function(e){var t=e.timeseries,a=e.timeseriesQueryLeft,n=e.sendToDACC,o=Object(Ce.h)(),c=Object(Ce.i)().year,i=za(t,c);return r.a.createElement(mn.a,{open:!0,onClose:function(){return o("/trips")},disableGutters:!0,componentsProps:{dialogTitle:{className:"u-p-0"}},title:r.a.createElement(tr,{timeseries:t}),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(Xa,{display:"flex",paddingTop:"1.5rem",marginTop:"3rem",timeseries:i,sendToDACC:n}),r.a.createElement(Tn,{className:"u-flex u-flex-column u-flex-items-center",timeseries:i,sendToDACC:n}),r.a.createElement(hr,{className:"u-mt-2",timeseries:i,hasMore:a.hasMore,fetchMore:a.fetchMore}))})};Er.propTypes={timeseries:ze.a.arrayOf(ze.a.object).isRequired,timeseriesQueryLeft:ze.a.object.isRequired};var Or=Er,Cr=a("Jbzi"),jr=a("ebeN"),wr=function(e){var t=e.label,a=e.subtitle,n=e.onBack,o=Object(ve.b)().isMobile,c=cozy.bar,i=c.BarCenter,l=c.BarLeft,s="function"==typeof n?n:void 0;return o?r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(l,null,r.a.createElement(Fn.a,{className:"u-mr-half",onClick:s,size:"medium"},r.a.createElement(an.a,{icon:jr.a,size:16}))),r.a.createElement(i,null,r.a.createElement(be.a,null,r.a.createElement(Cr.a,null,t)))):r.a.createElement("div",{className:bn()(d()({},"u-flex u-flex-items-baseline u-ml-2",s))},s&&r.a.createElement(Fn.a,{className:"u-mr-half",onClick:s,size:"medium"},r.a.createElement(an.a,{icon:jr.a,size:16})),r.a.createElement("div",{className:bn()("u-mv-1-half-s u-ml-1-s u-mv-2",d()({},"u-ml-2",!s))},r.a.createElement(un.a,{variant:"h3"},t),a))};wr.propTypes={label:ze.a.string,subtitle:ze.a.node,onBack:ze.a.func};var xr=wr,kr=function(e){var t=e.timeseries,a=e.timeseriesQueryLeft,n=e.sendToDACC,o=Object(ge.e)().t,c=Object(Ce.h)(),i=Object(Ce.i)().year,l=za(t,i);return r.a.createElement(r.a.Fragment,null,r.a.createElement(xr,{label:o("bikeGoal.title"),subtitle:r.a.createElement(Tn,{timeseries:l,sendToDACC:n}),onBack:function(){return c("/trips")}}),r.a.createElement(tr,{timeseries:t}),r.a.createElement(Xa,{display:"flex",position:"absolute",top:"2rem",right:"2rem",timeseries:l,sendToDACC:n}),r.a.createElement(hr,{className:"u-mt-3",timeseries:l,hasMore:a.hasMore,fetchMore:a.fetchMore}))};kr.propTypes={timeseries:ze.a.arrayOf(ze.a.object).isRequired,timeseriesQueryLeft:ze.a.object.isRequired};var _r=kr,Dr=a("lomp"),Pr=a.n(Dr),Tr=a("nOWK"),Nr=a.n(Tr),Mr=new Pr.a({id:"empty_b02f44d5e51464ad11702351c2fec42f",use:"empty_b02f44d5e51464ad11702351c2fec42f-usage",viewBox:"0 0 250 163",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 163" id="empty_b02f44d5e51464ad11702351c2fec42f"><g clip-path="url(#empty_b02f44d5e51464ad11702351c2fec42f_a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M54.535 10.576a25.382 25.382 0 0 1 3.93 0l.154-1.994a27.36 27.36 0 0 0-4.238 0l.154 1.994Zm7.805.61c1.284.307 2.53.713 3.73 1.21l.766-1.847a26.798 26.798 0 0 0-4.031-1.309l-.465 1.945Zm-15.41 1.21c1.2-.497 2.446-.903 3.73-1.21l-.465-1.946a26.798 26.798 0 0 0-4.03 1.309l.765 1.848Zm22.633 1.784a25.08 25.08 0 0 1 3.173 2.309l1.3-1.52a27.097 27.097 0 0 0-3.426-2.493l-1.047 1.704Zm-29.3 2.309a25.08 25.08 0 0 1 3.174-2.309l-1.047-1.704a27.097 27.097 0 0 0-3.426 2.493l1.3 1.52Zm35.248 2.775a25.09 25.09 0 0 1 2.309 3.173l1.704-1.047a27.097 27.097 0 0 0-2.493-3.426l-1.52 1.3ZM35.18 22.437a25.08 25.08 0 0 1 2.309-3.173l-1.52-1.3a27.097 27.097 0 0 0-2.493 3.426l1.704 1.047Zm44.423 3.493c.498 1.2.904 2.446 1.212 3.73l1.945-.465a26.794 26.794 0 0 0-1.309-4.03l-1.847.765Zm-47.418 3.73c.308-1.284.714-2.53 1.212-3.73l-1.848-.766a26.794 26.794 0 0 0-1.309 4.031l1.945.465Zm49.239 3.875a25.382 25.382 0 0 1 0 3.93l1.994.154a27.38 27.38 0 0 0 0-4.238l-1.994.154ZM31.5 35.5c0-.661.026-1.316.076-1.965l-1.994-.154a27.38 27.38 0 0 0 0 4.238l1.994-.154A25.382 25.382 0 0 1 31.5 35.5Zm49.315 5.84a24.793 24.793 0 0 1-1.212 3.73l1.848.766a26.794 26.794 0 0 0 1.309-4.031l-1.945-.465Zm-47.418 3.73a24.798 24.798 0 0 1-1.212-3.73l-1.945.465a26.794 26.794 0 0 0 1.309 4.03l1.848-.765Zm44.423 3.493a25.08 25.08 0 0 1-2.309 3.173l1.52 1.3a27.097 27.097 0 0 0 2.493-3.426l-1.704-1.047Zm-40.331 3.173a25.08 25.08 0 0 1-2.309-3.173l-1.704 1.047a27.097 27.097 0 0 0 2.493 3.426l1.52-1.3Zm5.948 5.084a25.08 25.08 0 0 1-3.173-2.309l-1.3 1.52a27.097 27.097 0 0 0 3.426 2.493l1.047-1.704Zm29.3-2.309a25.09 25.09 0 0 1-3.174 2.309l1.047 1.704a27.097 27.097 0 0 0 3.426-2.493l-1.3-1.52ZM50.66 59.815a24.798 24.798 0 0 1-3.73-1.212l-.766 1.848c1.296.537 2.643.977 4.031 1.309l.465-1.945Zm15.41-1.212c-1.2.498-2.446.904-3.73 1.212l.465 1.945a26.794 26.794 0 0 0 4.03-1.309l-.765-1.848ZM56.5 60.5c-.661 0-1.316-.026-1.965-.076l-.154 1.994a27.38 27.38 0 0 0 4.238 0l-.154-1.994c-.649.05-1.304.076-1.965.076Zm41.93 20.225c-.056.19-.115.382-.173.573-.12.394-.24.788-.347 1.185 1.214-6.1-3.12-12.157-7.465-16.006-.34-.301-.688-.595-1.041-.879a29.72 29.72 0 0 0-1.794-1.582C85.29 62.13 84.5 61.5 82.5 60c-3.081-2.31-4.808.687-3.34 1.465 3.84 2.035 5.51 3.322 8.829 6.36a33.302 33.302 0 0 1 5.699 6.805c1.426 2.262 2.73 4.75 3.227 7.4l.047.394c-.442-.657-.89-1.31-1.338-1.963-.892-1.299-1.783-2.597-2.623-3.929-.945-1.5-2.531-.31-1.442 1.256.25.36.496.724.742 1.088.536.793 1.072 1.585 1.653 2.346 1.21 2.057 2.705 3.945 4.212 5.814.25.308.834.3 1.142-.874.738-2.81 2.265-9.689 2.322-10.002.305-1.692-1.265-1.707-1.56-.725-.26.87-.534 1.735-.807 2.6v.001c-.282.895-.565 1.79-.833 2.689Zm21.312 6.919a21.26 21.26 0 0 1 4.758-.713h.001c1.609.057 3.206.296 4.76.714 8.095 2.176 13.959 8.93 14.941 17.207a1.9 1.9 0 0 0 1.698 1.665c4.401.433 9.102 2.943 12.576 6.713 3.051 3.311 4.841 7.179 5.177 11.187v.002c.118 1.394.04 2.826-.232 4.255l-.015.084c-.261 1.815-1.139 4.798-2.45 7.058-2.952 5.102-7.841 7.909-16.348 9.389-3.908.68-7.61 1.162-19.705 1.162l-.423.001-.382-.001c-12.095 0-15.797-.482-19.705-1.162-8.508-1.48-13.397-4.288-16.35-9.389-1.311-2.261-2.188-5.243-2.449-7.058l-.014-.084a15.713 15.713 0 0 1-.233-4.257c.336-4.008 2.127-7.877 5.179-11.188 3.471-3.769 8.172-6.279 12.574-6.712a1.9 1.9 0 0 0 1.698-1.665c.982-8.277 6.846-15.031 14.944-17.208Zm4.723 62.518h.073l.365-.001c11.292 0 15.714-.41 20.355-1.218 6.464-1.125 14.462-3.415 18.982-11.225 1.667-2.876 2.611-6.298 2.916-8.377.329-1.727.422-3.491.278-5.243-.408-4.855-2.54-9.502-6.168-13.44-3.768-4.089-8.624-6.845-13.514-7.713-1.65-9.154-8.384-16.513-17.504-18.964a24.974 24.974 0 0 0-5.525-.838 1.594 1.594 0 0 0-.228-.01 1.442 1.442 0 0 0-.21.01c-1.88.073-3.74.354-5.53.837-9.122 2.452-15.857 9.81-17.507 18.965-4.892.868-9.748 3.624-13.512 7.713-3.63 3.937-5.763 8.585-6.17 13.442a19.484 19.484 0 0 0 .279 5.241c.305 2.078 1.247 5.499 2.915 8.376 4.52 7.81 12.519 10.102 18.982 11.226 4.641.808 9.064 1.218 20.356 1.218l.367.001Zm12.634-27.383c-.034.619.959 1.873 1.804 2.497.945.698.93 1.899.37 2.656-.345.468-.834.712-1.34.712-.347 0-.703-.115-1.023-.352a8.068 8.068 0 0 1-.796-.677c-3.39 1.879-7.383 2.815-11.373 2.815-4.277 0-8.545-1.076-12.067-3.216-.353.294-.693.547-.981.76l-.003.003a1.65 1.65 0 0 1-.987.343c-.207 0-.414-.044-.612-.13-.564-.243-.976-.82-1.052-1.472a1.783 1.783 0 0 1 .714-1.65c1.188-.884 2.086-1.644 1.951-2.719-.118-.932.474-1.695 1.406-1.812.89-.111 1.939.459 2.08 1.579a4.575 4.575 0 0 1-.423 2.585c5.576 3.333 13.426 3.455 19.331.343-.394-.694-.666-1.466-.614-2.37a1.79 1.79 0 0 1 .985-1.52c.601-.302 1.34-.267 1.884.089.511.336.783.896.746 1.536Z" fill="#297EF1" /><path opacity=".722" fill-rule="evenodd" clip-rule="evenodd" d="M122.535 2.576a25.4 25.4 0 0 1 3.93 0l.154-1.994a27.344 27.344 0 0 0-4.238 0l.154 1.994Zm7.805.61a24.86 24.86 0 0 1 3.73 1.21l.766-1.847a26.826 26.826 0 0 0-4.031-1.309l-.465 1.945Zm-15.41 1.21a24.86 24.86 0 0 1 3.73-1.21l-.465-1.946a26.826 26.826 0 0 0-4.031 1.309l.766 1.847Zm22.633 1.784c1.119.687 2.18 1.46 3.173 2.309l1.3-1.52a27.142 27.142 0 0 0-3.426-2.493l-1.047 1.704Zm-29.299 2.309a25.037 25.037 0 0 1 3.173-2.309l-1.047-1.704a27.143 27.143 0 0 0-3.426 2.493l1.3 1.52Zm35.247 2.775a25.112 25.112 0 0 1 2.309 3.173l1.704-1.047a27.072 27.072 0 0 0-2.493-3.426l-1.52 1.3Zm-40.331 3.173a25.112 25.112 0 0 1 2.309-3.173l-1.52-1.3a27.072 27.072 0 0 0-2.493 3.426l1.704 1.047Zm44.424 3.493a24.9 24.9 0 0 1 1.211 3.73l1.945-.465a26.818 26.818 0 0 0-1.309-4.03l-1.847.765Zm-47.419 3.73a24.9 24.9 0 0 1 1.211-3.73l-1.847-.766a26.794 26.794 0 0 0-1.309 4.031l1.945.465Zm49.239 3.875a25.533 25.533 0 0 1 0 3.93l1.994.154a27.531 27.531 0 0 0 0-4.238l-1.994.154ZM99.5 27.5c0-.661.026-1.317.076-1.965l-1.994-.154a27.38 27.38 0 0 0 0 4.238l1.994-.154A25.382 25.382 0 0 1 99.5 27.5Zm49.315 5.84a24.895 24.895 0 0 1-1.211 3.73l1.847.766a26.818 26.818 0 0 0 1.309-4.031l-1.945-.465Zm-47.419 3.73a24.9 24.9 0 0 1-1.211-3.73l-1.945.465a26.794 26.794 0 0 0 1.309 4.03l1.847-.765Zm44.424 3.493a25.112 25.112 0 0 1-2.309 3.173l1.52 1.3a27.068 27.068 0 0 0 2.493-3.426l-1.704-1.047Zm-40.331 3.173a25.112 25.112 0 0 1-2.309-3.173l-1.704 1.047a27.068 27.068 0 0 0 2.493 3.426l1.52-1.3Zm5.948 5.084a25.032 25.032 0 0 1-3.173-2.309l-1.3 1.52a27.157 27.157 0 0 0 3.426 2.493l1.047-1.704Zm29.299-2.309a25.041 25.041 0 0 1-3.173 2.309l1.047 1.704a27.157 27.157 0 0 0 3.426-2.493l-1.3-1.52Zm-22.076 5.304a24.857 24.857 0 0 1-3.73-1.212l-.766 1.848a26.82 26.82 0 0 0 4.031 1.309l.465-1.945Zm15.41-1.212c-1.2.498-2.446.904-3.73 1.212l.465 1.945a26.82 26.82 0 0 0 4.031-1.309l-.766-1.848ZM124.5 52.5a25.42 25.42 0 0 1-1.965-.076l-.154 1.994a27.363 27.363 0 0 0 4.238 0l-.154-1.994a25.42 25.42 0 0 1-1.965.076Zm68-42c-.661 0-1.316.026-1.965.076l-.154-1.994a27.343 27.343 0 0 1 4.238 0l-.154 1.994a25.42 25.42 0 0 0-1.965-.076Zm9.57 1.896a24.857 24.857 0 0 0-3.73-1.21l.465-1.946c1.388.332 2.735.772 4.031 1.309l-.766 1.848Zm-15.41-1.21c-1.284.307-2.53.713-3.73 1.21l-.766-1.847a26.824 26.824 0 0 1 4.031-1.309l.465 1.945Zm22.076 5.303a25.032 25.032 0 0 0-3.173-2.309l1.047-1.704a27.157 27.157 0 0 1 3.426 2.493l-1.3 1.52Zm-29.299-2.309a25.032 25.032 0 0 0-3.173 2.309l-1.3-1.52a27.157 27.157 0 0 1 3.426-2.493l1.047 1.704Zm34.383 8.257a25.112 25.112 0 0 0-2.309-3.173l1.52-1.3a27.068 27.068 0 0 1 2.493 3.426l-1.704 1.047Zm-40.331-3.173a25.112 25.112 0 0 0-2.309 3.173l-1.704-1.047a27.068 27.068 0 0 1 2.493-3.426l1.52 1.3Zm43.326 10.396a24.9 24.9 0 0 0-1.211-3.73l1.847-.766a26.818 26.818 0 0 1 1.309 4.031l-1.945.465Zm-47.419-3.73a24.9 24.9 0 0 0-1.211 3.73l-1.945-.465a26.818 26.818 0 0 1 1.309-4.03l1.847.765ZM217.5 35.5c0-.661-.026-1.316-.076-1.965l1.994-.154a27.531 27.531 0 0 1 0 4.238l-1.994-.154c.05-.649.076-1.304.076-1.965Zm-49.924-1.965a25.533 25.533 0 0 0 0 3.93l-1.994.154a27.531 27.531 0 0 1 0-4.238l1.994.154Zm48.028 11.535a24.895 24.895 0 0 0 1.211-3.73l1.945.465a26.818 26.818 0 0 1-1.309 4.03l-1.847-.766Zm-47.419-3.73a24.9 24.9 0 0 0 1.211 3.73l-1.847.766a26.818 26.818 0 0 1-1.309-4.031l1.945-.465Zm43.326 10.396a25.112 25.112 0 0 0 2.309-3.173l1.704 1.047a27.068 27.068 0 0 1-2.493 3.426l-1.52-1.3Zm-40.331-3.173a25.112 25.112 0 0 0 2.309 3.173l-1.52 1.3a27.068 27.068 0 0 1-2.493-3.426l1.704-1.047Zm5.084 5.948c.993.85 2.054 1.622 3.173 2.309l-1.047 1.704a27.157 27.157 0 0 1-3.426-2.493l1.3-1.52Zm29.299 2.309a25.041 25.041 0 0 0 3.173-2.309l1.3 1.52a27.157 27.157 0 0 1-3.426 2.493l-1.047-1.704Zm-22.633 1.783c1.2.498 2.446.904 3.73 1.212l-.465 1.945a26.82 26.82 0 0 1-4.031-1.309l.766-1.848Zm15.41 1.212a24.857 24.857 0 0 0 3.73-1.212l.766 1.848a26.82 26.82 0 0 1-4.031 1.309l-.465-1.945Zm-7.805.609a25.42 25.42 0 0 0 3.93 0l.154 1.994a27.363 27.363 0 0 1-4.238 0l.154-1.994ZM222.5 67.5c-.661 0-1.316.026-1.965.076l-.154-1.994a27.363 27.363 0 0 1 4.238 0l-.154 1.994a25.42 25.42 0 0 0-1.965-.076Zm9.57 1.897a24.857 24.857 0 0 0-3.73-1.212l.465-1.945a26.82 26.82 0 0 1 4.031 1.309l-.766 1.847Zm-15.41-1.212c-1.284.308-2.53.714-3.73 1.212l-.766-1.848a26.82 26.82 0 0 1 4.031-1.309l.465 1.945Zm22.076 5.304a25.032 25.032 0 0 0-3.173-2.309l1.047-1.704a27.157 27.157 0 0 1 3.426 2.493l-1.3 1.52Zm-29.299-2.309a25.041 25.041 0 0 0-3.173 2.309l-1.3-1.52a27.157 27.157 0 0 1 3.426-2.493l1.047 1.704Zm34.383 8.257a25.112 25.112 0 0 0-2.309-3.173l1.52-1.3a27.076 27.076 0 0 1 2.493 3.426l-1.704 1.047Zm-40.331-3.173a25.112 25.112 0 0 0-2.309 3.173l-1.704-1.047a27.068 27.068 0 0 1 2.493-3.426l1.52 1.3Zm43.326 10.396a24.895 24.895 0 0 0-1.211-3.73l1.847-.766a26.818 26.818 0 0 1 1.309 4.031l-1.945.465Zm-47.419-3.73a24.895 24.895 0 0 0-1.211 3.73l-1.945-.465a26.818 26.818 0 0 1 1.309-4.03l1.847.765ZM247.5 92.5c0-.661-.026-1.317-.076-1.965l1.994-.154a27.531 27.531 0 0 1 0 4.238l-1.994-.154c.05-.648.076-1.304.076-1.965Zm-49.924-1.965a25.533 25.533 0 0 0 0 3.93l-1.994.154a27.531 27.531 0 0 1 0-4.238l1.994.154Zm48.028 11.535c.497-1.2.903-2.446 1.211-3.73l1.945.465a26.841 26.841 0 0 1-1.309 4.031l-1.847-.766Zm-47.419-3.73c.308 1.284.714 2.53 1.211 3.73l-1.847.766a26.841 26.841 0 0 1-1.309-4.031l1.945-.465Zm43.326 10.396a25.063 25.063 0 0 0 2.309-3.173l1.704 1.047a27.127 27.127 0 0 1-2.493 3.426l-1.52-1.3Zm-40.331-3.173a25.063 25.063 0 0 0 2.309 3.173l-1.52 1.3a27.127 27.127 0 0 1-2.493-3.426l1.704-1.047Zm5.084 5.948a25.063 25.063 0 0 0 3.173 2.309l-1.047 1.704a27.127 27.127 0 0 1-3.426-2.493l1.3-1.52Zm29.299 2.309a25.063 25.063 0 0 0 3.173-2.309l1.3 1.52a27.127 27.127 0 0 1-3.426 2.493l-1.047-1.704Zm-22.633 1.784c1.2.497 2.446.903 3.73 1.211l-.465 1.945a26.844 26.844 0 0 1-4.031-1.309l.766-1.847Zm15.41 1.211a24.96 24.96 0 0 0 3.73-1.211l.766 1.847a26.844 26.844 0 0 1-4.031 1.309l-.465-1.945Zm-7.805.609a25.571 25.571 0 0 0 3.93 0l.154 1.994a27.513 27.513 0 0 1-4.238 0l.154-1.994Zm-72.882-33.432c.309 1.174.893 1.18 1.142.874 1.507-1.87 3.002-3.757 4.213-5.815.575-.754 1.105-1.538 1.636-2.323h.001c.25-.372.501-.743.757-1.111 1.09-1.565-.496-2.755-1.442-1.255-.842 1.338-1.738 2.642-2.634 3.945l-.001.002-.001.002-.002.002v.001c-.443.645-.886 1.29-1.323 1.939l.011-.088.005-.05c.01-.084.02-.17.032-.255.497-2.651 1.8-5.137 3.227-7.4 1.582-2.511 3.476-4.857 5.699-6.806l.613-.54c2.568-2.258 3.662-3.22 6.914-4.614 1.506-.646.463-2.943-1.454-2.184-2.647 1.049-3.31 1.589-5.366 3.263l-.329.267a29.587 29.587 0 0 0-1.793 1.582c-.353.284-.7.577-1.041.879-4.345 3.848-8.68 9.907-7.466 16.006a38.548 38.548 0 0 0-.35-1.192v-.001l-.001-.003a170.679 170.679 0 0 0-1.012-3.284l-.001-.004-.001-.001v-.001c-.269-.853-.538-1.706-.795-2.563-.294-.982-1.865-.967-1.56.726.057.312 1.585 7.192 2.322 10.002Zm14.987 15.75c-.315.099-.719-.176-.391-1.136.784-2.3 2.899-7.795 3.003-8.04.57-1.318 1.668-.604 1.42.215-.215.71-.419 1.423-.624 2.136a140.289 140.289 0 0 1-.746 2.537l-.042.142-.043.143h-.001c-.095.319-.19.638-.294.953 1.972-4.81 7.788-7.03 12.594-7.7.373-.053.752-.095 1.128-.133a27.618 27.618 0 0 1 1.98-.273 24.43 24.43 0 0 1 7.454.404c1.685.353 1.248 2.329-.078 2.01-3.528-.862-5.568-.54-9.088.017l-.309.049a27.539 27.539 0 0 0-7.113 2.108c-2.039.912-4.095 2.046-5.665 3.66-.073.083-.145.168-.216.253.597-.248 1.197-.49 1.797-.732 1.235-.499 2.469-.997 3.683-1.542 1.351-.61 1.905.952.423 1.54-.335.134-.669.27-1.002.408h-.001c-.744.307-1.488.614-2.249.877-1.794.874-3.708 1.499-5.62 2.104Zm-79.49.143.075.252c.094.313.187.626.289.936-1.97-4.808-7.788-7.027-12.592-7.698a24.782 24.782 0 0 0-1.13-.133 25.621 25.621 0 0 0-1.98-.272 24.563 24.563 0 0 0-7.453.4c-1.685.356-.808 2.337.641 2.13 3.5-.5 5.12-.636 8.836-.054a27.895 27.895 0 0 1 7.111 2.109c2.038.915 4.095 2.046 5.667 3.662l.215.254c-.618-.257-1.238-.507-1.858-.757-1.216-.491-2.43-.98-3.623-1.518-1.351-.608-1.906.953-.424 1.54.343.136.685.277 1.026.418.737.303 1.474.607 2.228.868 1.794.873 3.706 1.498 5.619 2.104.315.099.72-.177.39-1.137-.784-2.298-2.896-7.794-3.001-8.038-.57-1.32-1.67-.605-1.422.215.214.706.418 1.415.621 2.123v.001a136.68 136.68 0 0 0 .765 2.595Zm42.699-29.643.001-.001c.406-.625.812-1.249 1.209-1.877.465-.737 1.771-.495 1.137.805-.116.239-2.927 5.479-4.172 7.606-.518.887-1.007.806-1.146.528-.84-1.71-1.664-3.425-2.214-5.24-.309-.677-.574-1.373-.84-2.07a71.682 71.682 0 0 0-.39-1.006c-.558-1.405 1.031-2.118 1.484-.788.409 1.199.869 2.377 1.329 3.556.221.567.442 1.134.658 1.703l.049-.317c.102-1.257-.099-4.488-.28-7.406-.133-2.143-.256-4.117-.24-5.014.045-2.583 1.649-2.768 2.033-.68.532 2.895.617 10.849-.785 13.605.185-.312.381-.62.577-.926l.25-.393c.438-.699.889-1.392 1.34-2.085Zm-32.885 89.264c2.649.927 9.448 1.729 14.93 2.05 14.962.875 35.872.4 44.733-1.213 8.931-1.624 9.331-4.082-13.373-5.301-19.328-1.037-41.89.442-46.716 2.642-1.295.591-1.223 1.247.425 1.822h.001Zm-67.428-91.93a25.382 25.382 0 0 1 3.928 0l.155-1.994a27.38 27.38 0 0 0-4.238 0l.154 1.994Zm7.804.61c1.284.307 2.53.713 3.73 1.21l.766-1.847a26.794 26.794 0 0 0-4.031-1.309l-.465 1.945Zm-15.41 1.21c1.2-.497 2.446-.903 3.73-1.21l-.465-1.946a26.794 26.794 0 0 0-4.03 1.309l.765 1.847Zm22.633 1.784a25.08 25.08 0 0 1 3.173 2.309l1.3-1.52a27.097 27.097 0 0 0-3.426-2.493l-1.047 1.704Zm-29.3 2.309a25.09 25.09 0 0 1 3.174-2.309l-1.047-1.704a27.101 27.101 0 0 0-3.426 2.493l1.3 1.52Zm35.248 2.775a25.09 25.09 0 0 1 2.309 3.173l1.704-1.047a27.105 27.105 0 0 0-2.493-3.426l-1.52 1.3ZM6.18 79.437a25.087 25.087 0 0 1 2.309-3.173l-1.52-1.3a27.082 27.082 0 0 0-2.493 3.426l1.704 1.047Zm44.423 3.493a24.793 24.793 0 0 1 1.212 3.73l1.945-.465a26.794 26.794 0 0 0-1.309-4.03l-1.848.765ZM3.185 86.66c.308-1.284.714-2.53 1.211-3.73l-1.847-.766a26.8 26.8 0 0 0-1.309 4.031l1.945.465Zm49.239 3.876a25.382 25.382 0 0 1 0 3.928l1.994.155a27.38 27.38 0 0 0 0-4.238l-1.994.154ZM2.5 92.5c0-.661.026-1.317.076-1.965l-1.994-.154a27.362 27.362 0 0 0 0 4.238l1.994-.154A25.362 25.362 0 0 1 2.5 92.5Zm49.315 5.84a24.836 24.836 0 0 1-1.212 3.73l1.848.766a26.818 26.818 0 0 0 1.309-4.031l-1.945-.465Zm-47.419 3.73a24.84 24.84 0 0 1-1.21-3.73l-1.946.465a26.824 26.824 0 0 0 1.309 4.031l1.847-.766Zm44.424 3.493a25.032 25.032 0 0 1-2.309 3.173l1.52 1.3a27.157 27.157 0 0 0 2.493-3.426l-1.704-1.047Zm-40.331 3.173a25.037 25.037 0 0 1-2.309-3.173l-1.704 1.047a27.143 27.143 0 0 0 2.493 3.426l1.52-1.3Zm5.948 5.084a25.112 25.112 0 0 1-3.173-2.309l-1.3 1.52a27.072 27.072 0 0 0 3.426 2.493l1.047-1.704Zm29.3-2.309a25.112 25.112 0 0 1-3.174 2.309l1.047 1.704a27.068 27.068 0 0 0 3.426-2.493l-1.3-1.52Zm-22.077 5.304a24.9 24.9 0 0 1-3.73-1.211l-.766 1.847c1.296.537 2.643.977 4.031 1.309l.465-1.945Zm15.41-1.211a24.9 24.9 0 0 1-3.73 1.211l.465 1.945a26.818 26.818 0 0 0 4.03-1.309l-.765-1.847ZM27.5 117.5c-.661 0-1.317-.026-1.965-.076l-.154 1.994a27.531 27.531 0 0 0 4.238 0l-.154-1.994c-.648.05-1.304.076-1.965.076Z" fill="#BBD9FD" /><path fill-rule="evenodd" clip-rule="evenodd" d="M53.388 24.971a3.125 3.125 0 1 1 6.25 0 3.125 3.125 0 0 1-6.25 0m4.378 11.8c1.882-3.2 5.218-9.233 5.218-11.8a6.471 6.471 0 0 0-12.943 0c0 2.567 3.336 8.6 5.218 11.8a1.454 1.454 0 0 0 2.507 0" fill="#335C9E" /><mask id="empty_b02f44d5e51464ad11702351c2fec42f_b" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="47" y="31" width="23" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M47.5 31.533h21.973v18.886H47.5V31.533Z" fill="#fff" /></mask><g mask="url(#empty_b02f44d5e51464ad11702351c2fec42f_b)"><path fill-rule="evenodd" clip-rule="evenodd" d="M68.62 46.702a493.936 493.936 0 0 0-4.675-4.122 8.961 8.961 0 0 0 1.58-5.091 8.974 8.974 0 0 0-2.254-5.956l-.059.123a67.632 67.632 0 0 1-1.219 2.405c.624.995.987 2.17.987 3.428a6.474 6.474 0 0 1-6.467 6.467 6.474 6.474 0 0 1-6.468-6.468c0-1.258.363-2.432.987-3.427-.417-.786-.832-1.6-1.219-2.405l-.058-.123a8.975 8.975 0 0 0-2.255 5.956c0 4.97 4.043 9.012 9.013 9.012a8.96 8.96 0 0 0 5.113-1.595c.707.835 3.666 4.327 4.231 4.959.755.844 2.37.666 3.093-.15.656-.741.846-1.953-.33-3.013" fill="#335C9E" /></g><g clip-path="url(#empty_b02f44d5e51464ad11702351c2fec42f_c)"><path d="M176.5 19.5h32v32h-32v-32Z" fill="#0C131F" /><path d="M208.5 26.789V44.21a8.705 8.705 0 0 1-8.711-8.711 8.705 8.705 0 0 1 8.711-8.711Z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M176.5 44.211V26.79h12.988c4.811 0 8.701 3.911 8.701 8.721 0 4.81-3.89 8.701-8.701 8.701H176.5Zm12.444-2.489a6.223 6.223 0 1 0 0-12.445 6.223 6.223 0 0 0 0 12.445Z" fill="#8DE8FE" /></g><path fill-rule="evenodd" clip-rule="evenodd" d="M43.319 95.1c-.8-4.933-5.467-8.2-10.4-7.4l1.467-8.267-5.267-.933c-.467 1-2.4 5.533-3.4 10.6 1.933 1.333 3.4 3.4 3.8 5.933.466 2.667-.333 5.267-1.933 7.267.4.467.866.933 1.333 1.333 2.066 1.6 4.533 2.267 6.933 1.8 5-.733 8.334-5.4 7.467-10.333" fill="#054752" /><path fill-rule="evenodd" clip-rule="evenodd" d="m25.652 89.7.134-.533c-1.867-1.267-4.2-1.867-6.6-1.467l1.466-8.2-5.266-.933c-.467 1-2.6 5.866-3.467 11.133-.733 4.267-.667 8.867 1.533 12.067.467.666 1.067 1.333 1.8 1.866 2.067 1.6 4.534 2.267 7 1.8 2.2-.333 4.134-1.533 5.467-3.133l-.4-.533c-2.333-3.2-2.4-7.734-1.667-12.067" fill="#2DBEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M29.586 95.1c-.467-2.533-1.867-4.6-3.8-5.933l-.134.533c-.733 4.267-.666 8.867 1.534 12.067l.4.533c1.667-1.933 2.466-4.533 2-7.2" fill="#9EF769" /><path fill-rule="evenodd" clip-rule="evenodd" d="M126.1 13.211c-3.956 0-7.644 1.778-10.133 4.934a12.673 12.673 0 0 0-2.667 7.777v2.356c0 1.022-.4 2-1.067 2.71-.533.534-1.2.934-1.911 1.112.267.667.889 1.689 2 2.8a11.266 11.266 0 0 0 3.245 2.355v-.044a3.986 3.986 0 0 1 3.377-1.822c.267 0 .489.044.756.089a3.992 3.992 0 0 1 3.156 3.11h3.288c3.423 0 6.667-1.421 9.023-3.733 3.644-3.644 4.755-9.11 2.755-13.822-2-4.755-6.622-7.822-11.822-7.822Z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M126.1 11.611c-4.4 0-8.533 1.956-11.333 5.467a14.285 14.285 0 0 0-3.067 8.889v2.31c0 1.2-.844 2.312-2.489 2.4-.4 0-.711.312-.755.712-.045 1.067 1.111 3.067 2.711 4.667 1.111 1.11 2.4 2 3.777 2.71-.444 2.445 1.467 4.667 3.956 4.667h.044a4 4 0 0 0 3.912-3.155h3.333c.355 1.822 1.955 3.155 3.911 3.155.444 0 .933-.089 1.378-.222 1.111-.355 1.955-1.2 2.355-2.311a4.286 4.286 0 0 0 0-2.889c.889-.578 1.689-1.2 2.445-1.956a14.158 14.158 0 0 0 4.222-10.088c0-3.822-1.511-7.378-4.222-10.09-2.711-2.8-6.356-4.266-10.178-4.266Zm0 1.6c5.156 0 9.822 3.111 11.822 7.867 2 4.755.889 10.222-2.755 13.822a12.783 12.783 0 0 1-9.023 3.733h-3.288c-.312-1.6-1.556-2.8-3.156-3.11-.267-.045-.489-.09-.756-.09a4.043 4.043 0 0 0-3.377 1.822v.045c-1.2-.622-2.267-1.422-3.245-2.355-1.111-1.112-1.733-2.178-2-2.8.756-.178 1.378-.578 1.911-1.112.667-.755 1.067-1.689 1.067-2.71v-2.356c0-2.8.933-5.556 2.667-7.778 2.489-3.245 6.177-4.978 10.133-4.978Z" fill="#000" /><path fill-rule="evenodd" clip-rule="evenodd" d="M132.5 21.122c-.889 0-1.6.711-1.6 1.6 0 .89.711 1.6 1.6 1.6.889 0 1.6-.71 1.6-1.6 0-.889-.711-1.6-1.6-1.6ZM122.9 21.122c-.889 0-1.6.711-1.6 1.6 0 .89.711 1.6 1.6 1.6.889 0 1.6-.71 1.6-1.6 0-.889-.711-1.6-1.6-1.6ZM122.633 27.478c-.577 0-.977.577-.711 1.11a6.39 6.39 0 0 0 5.778 3.645 6.39 6.39 0 0 0 5.778-3.644c.222-.534-.134-1.111-.711-1.111a.791.791 0 0 0-.711.444 4.829 4.829 0 0 1-4.312 2.711c-1.866 0-3.555-1.066-4.311-2.71-.177-.267-.444-.445-.8-.445Z" fill="#000" /><path fill-rule="evenodd" clip-rule="evenodd" d="M234.459 103.335c.307 0 .614 0 1.008-.044v4.947c-.832.175-1.488.262-2.408.262-4.202 0-6.829-2.451-6.829-6.61V76.5h5.735v24.427c0 1.882 1.05 2.408 2.494 2.408Zm-16.284-19.13c0 .437 0 .832-.088 1.182h-5.734c.394-.525.568-1.314.568-2.19v-2.976h5.254v3.984Zm-9.675 2.452v5.165h2.189c3.896 0 6.26-2.058 7.18-5.165H208.5Zm10.638 0c-.525 2.232-1.532 3.808-3.546 5.165h6.917v-5.165h-3.371Zm-6.742 6.434v8.756c0 4.158 2.627 6.653 6.829 6.653 2.145 0 3.283-.525 3.283-.525v-4.815c-.306.087-1.094.175-1.794.175-1.664 0-2.54-.613-2.54-2.496v-7.748h-5.778Z" fill="#00D5B5" /></g><defs><clipPath id="empty_b02f44d5e51464ad11702351c2fec42f_a"><path fill="#fff" transform="translate(.5 .5)" d="M0 0h249v162H0z" /></clipPath><clipPath id="empty_b02f44d5e51464ad11702351c2fec42f_c"><path d="M176.5 25.5a6 6 0 0 1 6-6h20a6 6 0 0 1 6 6v20a6 6 0 0 1-6 6h-20a6 6 0 0 1-6-6v-20Z" fill="#fff" /></clipPath></defs></symbol>'}),Sr=(Nr.a.add(Mr),Mr),Ar=a("/5Aj"),Rr=function(){var e=Object(ge.e)().t,t=Object(ve.b)().isMobile;return r.a.createElement(Ar.a,{"data-testid":"EmptyContent",className:t?"u-p-1":"u-flex-justify-start u-p-3",icon:Sr,iconSize:"large",title:e("empty.title"),text:e("empty.text")})},Lr=a("bQqJ"),Ir=function(e){var t=e.account,a=e.isAccountLoading,n=e.isQueryLoading,o=e.timeseries,c=Object(ve.b)().isMobile,i=Object(h.useClient)();return a?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):t?n?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):0===o.length?r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(xr,{label:i.appMetadata.slug}),r.a.createElement(Rr,null)):void 0:r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(xr,{label:i.appMetadata.slug}),r.a.createElement(Rr,null))};Ir.propTypes={account:ze.a.object,isAccountLoading:ze.a.bool,isQueryLoading:ze.a.bool,timeseries:ze.a.arrayOf(ze.a.object)};var Br=Ir,Gr=["data"],Fr=["data"],zr=function(){var e,t=le(),a=t.account,n=t.isAccountLoading,o=Object(ve.b)().isMobile,c=re(),l=Object(h.useQuery)(c.definition,c.options),s=l.data,u=i()(l,Gr),d=Object(h.isQueryLoading)(u),m=ae({accountId:null==a?void 0:a._id},Boolean(a)),p=Object(h.useQueryAll)(m.definition,m.options),f=p.data,b=i()(p,Fr),v=Object(h.isQueryLoading)(b)||b.hasMore;if(d||n||!a||v||0===f.length)return r.a.createElement(Br,{account:a,isAccountLoading:n,isQueryLoading:v,timeseries:f});var g=!(null==s||null===(e=s[0].bikeGoal)||void 0===e||!e.sendToDACC);return o?r.a.createElement(Or,{timeseries:f,timeseriesQueryLeft:b,sendToDACC:g}):r.a.createElement(_r,{timeseries:f,timeseriesQueryLeft:b,sendToDACC:g})},Zr=function(){var e=Object(ge.e)().t,t=Object(Ce.h)(),a=Ya(),n={typography:{whiteSpace:"pre-line"}};return r.a.createElement(mn.a,{open:!0,title:e("bikeGoal.about.title"),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,{className:"u-mb-1",variant:"h5"},e("bikeGoal.about.intro.title")),r.a.createElement(un.a,{variant:"body1",style:n.typography},e("bikeGoal.about.intro.content",{bountyAmount:a})),r.a.createElement(un.a,{className:"u-mt-1-half u-mb-1",variant:"h5"},e("bikeGoal.about.how_trips_detected.title")),r.a.createElement(un.a,{variant:"body1",style:n.typography},e("bikeGoal.about.how_trips_detected.content")),r.a.createElement(un.a,{className:"u-mt-1-half u-mb-1",variant:"h5"},e("bikeGoal.about.once_goal_reach.title")),r.a.createElement(un.a,{variant:"body1",style:n.typography},e("bikeGoal.about.once_goal_reach.content",{bountyAmount:a}))),onClose:function(){return t("..")}})},Ur=a("UuKj"),qr=Object(n.forwardRef)((function(e,t){return r.a.createElement(Ur.a,Ie()({type:"number",inputProps:{min:"0",max:"100",step:"1",inputMode:"numeric"}},e,{ref:t}))}));qr.displayName="PercentageField";var Yr=qr,Wr=function(e){return e>=0&&e<=100?Math.round(e):null},Hr=a("VXtb"),Qr=a("gHOe"),Vr=a("5Q3L"),Kr=function(e){var t=e.itemName,a=e.value,n=e.setValue,o=Object(ge.e)().t,c=!a,i={variant:"outlined",margin:"normal",defaultValue:a,required:!0,fullWidth:!0,error:c,helperText:c?o("bikeGoal.edit.required"):" "};switch(t){case"workTimePercentage":return r.a.createElement(Yr,Ie()({},i,{onChange:function(e){return n(Wr(Number(e.target.value)))}}));case"workTime":return r.a.createElement(Qr.a,{"aria-label":"radio",name:"workTimeRadio",value:a,onChange:function(e){return n(e.target.value)}},r.a.createElement(Hr.a,{value:"full",label:o("bikeGoal.edit.workTime_full"),control:r.a.createElement(Vr.a,null)}),r.a.createElement(Hr.a,{value:"part",label:o("bikeGoal.edit.workTime_part"),control:r.a.createElement(Vr.a,null)}));default:return r.a.createElement(Ur.a,Ie()({},i,{onChange:function(e){return n(e.target.value)}}))}};Kr.propTypes={itemName:ze.a.string.isRequired,value:ze.a.any.isRequired,setValue:ze.a.func.isRequired};var Jr=Kr,Xr=function(e){var t=e.itemName,a=e.onClose,o=Object(ge.e)().t,c=Wn("bikeGoal.".concat(t)),i=c.isLoading,l=c.value,u=c.save,d=Object(n.useState)(l),m=s()(d,2),p=m[0],f=m[1],b=Object(n.useState)(!1),v=s()(b,2),g=v[0],y=v[1],h=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,u(p);case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Hn.a,{open:!0,title:o("bikeGoal.edit.".concat(t)),content:i?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(Jr,{itemName:t,value:p,setValue:f}),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(tn.a,{variant:"secondary",label:o("bikeGoal.edit.cancel"),onClick:a}),r.a.createElement(tn.a,{className:"u-miw-4",label:o("bikeGoal.edit.submit"),busy:g,disabled:!p,onClick:h})),onClose:a})};Xr.propTypes={itemName:ze.a.string.isRequired,onClose:ze.a.func.isRequired};var $r=Xr,eo=a("PfmE"),to=a("uiSW"),ao=a("MzjA"),no=a("EMSc");function ro(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ro(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var co=function(){var e=Object(ge.e)().t,t=Object(n.useState)(""),a=s()(t,2),o=a[0],c=a[1],i=Wn("bikeGoal"),l=i.isLoading,u=i.value,d=i.save,m=Wa(),p=m.sourceIdentity,f=m.sourceType,b="part"===u.workTime,v=function(){d(oo(oo({},u),{},{sendToDACC:!u.sendToDACC}))};return l?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(rn.a,null,r.a.createElement(on.b,{button:!0,onClick:function(){return c("lastname")}},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:_t.a})),r.a.createElement(ln.a,{primary:r.a.createElement(un.a,{variant:"caption"},e("bikeGoal.edit.lastname")),secondary:r.a.createElement(un.a,{variant:"body1"},u.lastname)})),r.a.createElement(On.a,{component:"li",variant:"inset"}),r.a.createElement(on.b,{button:!0,onClick:function(){return c("firstname")}},r.a.createElement(cn.a,null),r.a.createElement(ln.a,{primary:r.a.createElement(un.a,{variant:"caption"},e("bikeGoal.edit.firstname")),secondary:r.a.createElement(un.a,{variant:"body1"},u.firstname)})),r.a.createElement(On.a,{component:"li",variant:"inset"}),r.a.createElement(on.b,{button:!0,onClick:function(){return c("workTime")}},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:yt.a})),r.a.createElement(ln.a,{primary:r.a.createElement(un.a,{variant:"caption"},e("bikeGoal.edit.workTime")),secondary:r.a.createElement(un.a,{variant:"body1"},e("bikeGoal.edit.workTime_".concat(u.workTime)))}),r.a.createElement(an.a,{icon:Mn.a})),r.a.createElement(On.a,{component:"li",variant:"inset"}),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(on.b,{button:!0,onClick:function(){return c("workTimePercentage")}},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:eo.a})),r.a.createElement(ln.a,{primary:r.a.createElement(un.a,{variant:"caption"},e("bikeGoal.edit.workTimePercentage")),secondary:r.a.createElement(un.a,{variant:"body1"},u.workTimePercentage)}),r.a.createElement(un.a,{variant:"body2"},"%")),r.a.createElement(On.a,{component:"li",variant:"inset"})),r.a.createElement(on.b,{ellipsis:!1,button:!0,onClick:v},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:to.a})),r.a.createElement(ln.a,{primary:e("bikeGoal.edit.compare_progress",{source:null!=p?p:e("bikeGoal.employer.my_".concat(f))})}),r.a.createElement(ao.a,null,r.a.createElement(no.a,{className:"u-w-auto",color:"primary",checked:u.sendToDACC,onChange:v})))),Boolean(o)&&r.a.createElement($r,{itemName:o,onClose:function(){return c("")}}))},io=function(){var e=Object(ge.e)().t,t=Object(Ce.h)();return r.a.createElement(mn.a,{open:!0,disableGutters:!0,title:e("bikeGoal.edit.title"),content:r.a.createElement(co,null),onClose:function(){return t("..")}})},lo=new Pr.a({id:"dacc-permissions_3573ba0684a43d6d3596ae2974a0613d",use:"dacc-permissions_3573ba0684a43d6d3596ae2974a0613d-usage",viewBox:"0 0 106 106",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 106 106" id="dacc-permissions_3573ba0684a43d6d3596ae2974a0613d"><g filter="url(#dacc-permissions_3573ba0684a43d6d3596ae2974a0613d_a)"><path d="M16 48c0-19.882 16.118-36 36-36s36 16.118 36 36-16.118 36-36 36-36-16.118-36-36Z" fill="#fff" /></g><path d="M65.11 37.39C63.962 31.193 58.53 26.5 52 26.5c-6.53 0-11.962 4.693-13.11 10.89C32.693 38.538 28 43.97 28 50.5c0 7.364 5.97 13.333 13.333 13.333H62.667C70.03 63.833 76 57.863 76 50.5c0-6.53-4.693-11.962-10.89-13.11Z" fill="#B3D3FF" /><path d="M49.569 36c.837 0 1.528.63 1.622 1.443l.011.19v10.941a.49.49 0 0 0 .377.477l.113.013h.653c.27 0 .49-.22.49-.49v-9.308l.011-.19a1.633 1.633 0 0 1 3.244 0l.011.19v9.308a.49.49 0 0 0 .377.477l.113.013h.653c.27 0 .49-.22.49-.49v-6.042l.011-.19a1.633 1.633 0 0 1 3.244 0l.011.19v16.33a6.527 6.527 0 0 1-3 5.495V67a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-2.615a6.69 6.69 0 0 1-1.022-.78l-8.425-7.824a1.73 1.73 0 0 1-.262-2.226 1.538 1.538 0 0 1 2.075-.463l4.67 2.827V40.9l.012-.19a1.633 1.633 0 0 1 3.244 0l.01.19v7.675a.49.49 0 0 0 .378.477l.112.013h.654c.27 0 .49-.22.49-.49V37.633l.01-.19A1.633 1.633 0 0 1 49.57 36Z" fill="#297EF2" /><g filter="url(#dacc-permissions_3573ba0684a43d6d3596ae2974a0613d_b)"><rect x="58" y="54" width="32" height="32" rx="8" fill="#fff" /><path d="M72.409 77.886c.2-.05.404.072.455.273l.375 1.5c.007.03.011.061.011.091h1.5c0-.03.004-.06.011-.091l.375-1.5a.375.375 0 1 1 .728.182l-.364 1.455v1.454a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75v-1.454l-.364-1.455a.375.375 0 0 1 .273-.455Z" fill="#F33136" /><path d="M72.5 78.25c-.414 0-.765-.351-.988-.7-.408-.64-1.3-1.334-2.346-2.147C66.746 73.523 63.5 71 63.5 67c0-4.97 4.701-9 10.5-9v20.25h-1.5Z" fill="#F33136" /><path d="M74 78.25h-1.286c0-.838-.654-1.73-1.476-2.847C69.855 73.523 68 71 68 67c0-4.97 2.686-9 6-9v20.25Z" fill="#FC7B0E" /><path d="M75.5 78.25c.414 0 .765-.351.988-.7.408-.64 1.3-1.334 2.346-2.147C81.254 73.523 84.5 71 84.5 67c0-4.97-4.701-9-10.5-9v20.25h1.5Z" fill="#FFD799" /><path d="M74 78.25h1.286c0-.838.654-1.73 1.476-2.847C78.145 73.523 80 71 80 67c0-4.97-2.686-9-6-9v20.25Z" fill="#FFB64F" /></g><defs><filter id="dacc-permissions_3573ba0684a43d6d3596ae2974a0613d_a" x="0" y="0" width="104" height="104" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="8"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_754_48957"></feBlend><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="2"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0793047 0"></feColorMatrix><feBlend in2="effect1_dropShadow_754_48957" result="effect2_dropShadow_754_48957"></feBlend><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feMorphology radius=".5" operator="dilate" in="SourceAlpha" result="effect3_dropShadow_754_48957"></feMorphology><feOffset></feOffset><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"></feColorMatrix><feBlend in2="effect2_dropShadow_754_48957" result="effect3_dropShadow_754_48957"></feBlend><feBlend in="SourceGraphic" in2="effect3_dropShadow_754_48957" result="shape"></feBlend></filter><filter id="dacc-permissions_3573ba0684a43d6d3596ae2974a0613d_b" x="42" y="42" width="64" height="64" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="8"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.113725 0 0 0 0 0.129412 0 0 0 0 0.164706 0 0 0 0.06 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_754_48957"></feBlend><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="2"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.113725 0 0 0 0 0.129412 0 0 0 0 0.164706 0 0 0 0.0793047 0"></feColorMatrix><feBlend in2="effect1_dropShadow_754_48957" result="effect2_dropShadow_754_48957"></feBlend><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feMorphology radius=".5" operator="dilate" in="SourceAlpha" result="effect3_dropShadow_754_48957"></feMorphology><feOffset></feOffset><feColorMatrix values="0 0 0 0 0.113725 0 0 0 0 0.129412 0 0 0 0 0.164706 0 0 0 0.12 0"></feColorMatrix><feBlend in2="effect2_dropShadow_754_48957" result="effect3_dropShadow_754_48957"></feBlend><feBlend in="SourceGraphic" in2="effect3_dropShadow_754_48957" result="shape"></feBlend></filter></defs></symbol>'}),so=(Nr.a.add(lo),lo),uo=new Pr.a({id:"icon-anonymous_f9180197246a84316517b8157ef006c8",use:"icon-anonymous_f9180197246a84316517b8157ef006c8-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-anonymous_f9180197246a84316517b8157ef006c8"><path d="M4.36 1.24 3 6H1a1 1 0 1 0 0 2h14a1 1 0 1 0 0-2h-2l-1.36-4.76A1.7 1.7 0 0 0 9.062.291L8 1 6.938.292a1.7 1.7 0 0 0-2.578.947Z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M6.84 13.549A3.502 3.502 0 0 1 0 12.5a3.5 3.5 0 0 1 6.76-1.274A3.49 3.49 0 0 1 8 11c.436 0 .854.08 1.24.226a3.501 3.501 0 1 1-.08 2.323A1.495 1.495 0 0 0 8 13c-.467 0-.883.212-1.16.549ZM3.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" /></symbol>'}),mo=(Nr.a.add(uo),uo),po=new Pr.a({id:"icon-export_a08eff636b3b69e5d1cfc230029cdad8",use:"icon-export_a08eff636b3b69e5d1cfc230029cdad8-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-export_a08eff636b3b69e5d1cfc230029cdad8"><path d="M7.165 8.244C7.585 6.01 9.581 4.297 12 4.297s4.415 1.713 4.835 3.947l.143.76.76.14c2.295.418 4.012 2.396 4.012 4.748 0 .555-.096 1.089-.272 1.586l1.704 1.704a6.98 6.98 0 0 0 .818-3.29c0-3.222-2.173-5.925-5.131-6.79C17.984 4.17 15.236 2.047 12 2.047c-3.236 0-5.984 2.123-6.869 5.055C2.173 7.967 0 10.67 0 13.892c0 3.926 3.224 7.08 7.167 7.08H8.25v-2.25H7.167c-2.731 0-4.917-2.177-4.917-4.83 0-2.352 1.717-4.33 4.012-4.749l.76-.139.143-.76Z" fill="#1D212A" fill-opacity=".72" /><path d="M19.499 19.567a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1 0-3h2.368l-4.993-4.993a1.508 1.508 0 0 1 2.018-2.236l.114.104 4.993 4.992v-2.367a1.5 1.5 0 1 1 3 0v6Z" fill="#EA3F3F" /></symbol>'}),fo=(Nr.a.add(po),po),bo=a("5LIP"),vo=function(e){var t=e.sharedDataLabel,a=e.open,n=e.onClose,o=e.onRefuse,c=e.onAccept,i=e.showDaccReasonsDialog,l=Object(ge.e)().t;return r.a.createElement(bo.a,{variant:"inverted"},r.a.createElement(Hn.a,{open:a,onClose:n,content:r.a.createElement("div",{className:"u-ta-center"},r.a.createElement(an.a,{icon:so,size:106}),r.a.createElement(un.a,{variant:"h4"},l("dacc.permissionsDialog.title")),r.a.createElement(un.a,{className:"u-mt-1"},l("dacc.permissionsDialog.primaryText")),r.a.createElement(bo.a,{variant:"normal"},r.a.createElement(sn.a,{className:"u-mt-1-half",elevation:0},r.a.createElement(rn.a,null,r.a.createElement(on.b,{divider:!0},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:fo,size:24})),r.a.createElement(ln.a,{primary:r.a.createElement(un.a,{variant:"h6"},l("dacc.permissionsDialog.export_outside"))})),r.a.createElement(on.b,{dense:!0},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:mo,color:"var(--iconTextColor)"})),r.a.createElement(ln.a,{primary:r.a.createElement(un.a,{variant:"body2"},t)}))))),r.a.createElement(un.a,{className:"u-mt-1-half",style:{textDecoration:"underline"},onClick:i},l("dacc.permissionsDialog.why_asking")),r.a.createElement(un.a,{className:"u-mt-1-half",variant:"caption",color:"textPrimary"},l("dacc.permissionsDialog.secondaryText"))),actionsLayout:"column",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(tn.a,{label:l("dacc.permissionsDialog.refuse"),onClick:o}),r.a.createElement(tn.a,{label:l("dacc.permissionsDialog.accept"),onClick:c}))}))};vo.propTypes={sharedDataLabel:ze.a.string.isRequired,open:ze.a.bool.isRequired,onClose:ze.a.func.isRequired,onRefuse:ze.a.func.isRequired,onAccept:ze.a.func.isRequired,showDaccReasonsDialog:ze.a.func.isRequired};var go=vo,yo=function(e){var t=e.open,a=e.onClose,n=Object(ge.e)().t;return r.a.createElement(Hn.a,{open:t,onClose:a,title:n("dacc.reasonsDialog.title"),content:n("dacc.reasonsDialog.content")})};yo.propTypes={open:ze.a.bool.isRequired,onClose:ze.a.func.isRequired};var ho=yo,Eo=function(e){var t=e.onClose,a=e.onRefuse,o=e.onAccept,c=e.componentProps,i=Object(n.useState)(!1),l=s()(i,2),u=l[0],d=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(go,Ie()({open:!0,onClose:t,onRefuse:a,onAccept:o,showDaccReasonsDialog:function(){return d(!0)}},c.DaccPermissionsDialog)),u&&r.a.createElement(ho,{open:!0,onClose:function(){return d(!1)}}))};Eo.propTypes={onClose:ze.a.func.isRequired,onRefuse:ze.a.func.isRequired,onAccept:ze.a.func.isRequired,componentProps:ze.a.shape({DaccPermissionsDialog:ze.a.shape({sharedDataLabel:ze.a.string.isRequired}).isRequired}).isRequired};var Oo=Eo,Co=function(e){var t=e.onClose,a=e.onRefuse,n=e.onAccept,o=Object(ge.e)().t;return r.a.createElement(Oo,{onClose:t,onRefuse:a,onAccept:n,componentProps:{DaccPermissionsDialog:{sharedDataLabel:o("dacc.permissionsDialog.anonymized_bikegoal_progression")}}})};Co.propTypes={onClose:ze.a.func.isRequired,onRefuse:ze.a.func.isRequired,onAccept:ze.a.func.isRequired};var jo=Co,wo=a("7EAA"),xo=a("lwqu"),ko=a("BxMJ");function _o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Do(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Po=Object(n.forwardRef)((function(e,t){var a=Object(ge.e)().t,o=Object(n.useState)(!1),c=s()(o,2),i=c[0],l=c[1],u=Object(n.useReducer)((function(e){return!e}),!1),d=s()(u,2),m=d[0],p=d[1],f=Wn("bikeGoal"),b=f.isLoading,v=f.value,g=void 0===v?{}:v,y=f.save,h=g.onboardingStep,E=void 0===h?0:h,O=g.sendToDACC,C=void 0===O?null:O,w=Object(n.useState)(C),k=s()(w,2),_=k[0],D=k[1],P=Wa(),T=P.sourceType,N=P.sourceIdentity,M={typography:{whiteSpace:"pre-line"}},S=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(),e.next=3,y(Do(Do({},g),{},{onboardingStep:E-1}));case 3:p();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(),e.next=3,y(Do(Do({},g),{},{onboardingStep:E+1,sendToDACC:_}));case 3:p();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(xo.a,Ie()({},e,{ref:t}),r.a.createElement(ko.a,null,a("bikeGoal.edit.compare_progress",{source:null!=N?N:a("bikeGoal.employer.my_".concat(T))})),r.a.createElement(wo.a,null,b?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-m-1"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,{style:M.typography},a("bikeGoal.onboarding.steps.comparison.comparisonLegend",{source:null!=N?N:a("bikeGoal.employer.your_".concat(T))})),r.a.createElement(Qr.a,{className:"u-mt-1"},r.a.createElement(Hr.a,{control:r.a.createElement(Vr.a,{checked:!0===_,onClick:function(){return l(!0)}}),label:a("bikeGoal.onboarding.steps.comparison.compare"),className:"u-m-0"}),r.a.createElement(Hr.a,{control:r.a.createElement(Vr.a,{checked:!1===_,onClick:function(){return D(!1)}}),label:a("bikeGoal.onboarding.steps.comparison.doNotCompare"),className:"u-m-0"})),r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(tn.a,{onClick:A,label:a("bikeGoal.onboarding.actions.next"),disabled:m||null==_}),r.a.createElement(tn.a,{onClick:S,label:a("bikeGoal.onboarding.actions.previous"),disabled:m,variant:"text",className:"u-ml-half"}),m&&r.a.createElement(Lr.a,{className:"u-ml-half"}))))),i&&r.a.createElement(jo,{onClose:function(){return l(!1)},onRefuse:function(){l(!1),D(!1)},onAccept:function(){l(!1),D(!0)}}))}));Po.displayName="BikeGoalOnboardingComparison";var To=Po;function No(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?No(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):No(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var So=Object(n.forwardRef)((function(e,t){var a=Object(ge.e)().t,o=Object(Ce.h)(),c=Object(n.useReducer)((function(e){return!e}),!1),i=s()(c,2),l=i[0],u=i[1],d=Wn("bikeGoal"),m=d.isLoading,p=d.value,f=void 0===p?{}:p,b=d.save,v=f.onboardingStep,g=void 0===v?0:v,y=Ya(),h={typography:{whiteSpace:"pre-line"}},E=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.next=3,b(Mo(Mo({},f),{},{onboardingStep:g-1}));case 3:u();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=j()(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.next=3,b(Mo(Mo({},f),{},{onboarded:!0,activated:!0,showAlert:!1}));case 3:u(),t=(new Date).getFullYear().toString(),o("/bikegoal/".concat(t,"/trips"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(xo.a,Ie()({},e,{ref:t}),r.a.createElement(ko.a,null,a("bikeGoal.about.once_goal_reach.title")),r.a.createElement(wo.a,null,m?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-m-1"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,{style:h.typography},a("bikeGoal.about.once_goal_reach.content",{bountyAmount:y})),r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(tn.a,{onClick:O,label:a("bikeGoal.onboarding.actions.finish"),disabled:l}),r.a.createElement(tn.a,{onClick:E,label:a("bikeGoal.onboarding.actions.previous"),disabled:l,variant:"text",className:"u-ml-half"}),l&&r.a.createElement(Lr.a,{className:"u-ml-half"})))))}));So.displayName="BikeGoalOnboardingConclusion";var Ao=So;function Ro(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ro(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Io=Object(n.forwardRef)((function(e,t){var a=Object(ge.e)().t,o=Object(n.useReducer)((function(e){return!e}),!1),c=s()(o,2),i=c[0],l=c[1],u=Wn("bikeGoal"),d=u.isLoading,m=u.value,p=void 0===m?{}:m,f=u.save,b=p.onboardingStep,v=void 0===b?0:b,g={typography:{whiteSpace:"pre-line"}},y=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,f(Lo(Lo({},p),{},{onboardingStep:v-1}));case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,f(Lo(Lo({},p),{},{onboardingStep:v+1}));case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(xo.a,Ie()({},e,{ref:t}),r.a.createElement(ko.a,null,a("bikeGoal.about.how_trips_detected.title")),r.a.createElement(wo.a,null,d?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-m-1"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,{style:g.typography},a("bikeGoal.about.how_trips_detected.content")),r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(tn.a,{onClick:h,label:a("bikeGoal.onboarding.actions.next"),disabled:i}),r.a.createElement(tn.a,{onClick:y,label:a("bikeGoal.onboarding.actions.previous"),disabled:i,variant:"text",className:"u-ml-half"}),i&&r.a.createElement(Lr.a,{className:"u-ml-half"})))))}));Io.displayName="BikeGoalOnboardingDetection";var Bo=Io;function Go(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Go(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var zo=Object(n.forwardRef)((function(e,t){var a=Object(ge.e)().t,o=Object(n.useReducer)((function(e){return!e}),!1),c=s()(o,2),i=c[0],l=c[1],u=Wn("bikeGoal"),d=u.isLoading,m=u.value,p=void 0===m?{}:m,f=u.save,b=p.onboardingStep,v=void 0===b?0:b,g=Ya(),y={typography:{whiteSpace:"pre-line"}},h=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,f(Fo(Fo({},p),{},{onboardingStep:v+1}));case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(xo.a,Ie()({},e,{ref:t}),r.a.createElement(ko.a,null,a("bikeGoal.about.intro.title")),r.a.createElement(wo.a,null,d?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-m-1"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,{style:y.typography},a("bikeGoal.about.intro.content",{bountyAmount:g})),r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(tn.a,{onClick:h,label:a("bikeGoal.onboarding.actions.next"),disabled:i}),i&&r.a.createElement(Lr.a,{className:"u-ml-half"})))))}));zo.displayName="BikeGoalOnboardingIntroduction";var Zo=zo;function Uo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Uo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Yo=Object(n.forwardRef)((function(e,t){var a=Object(ge.e)().t,o=Object(n.useReducer)((function(e){return!e}),!1),c=s()(o,2),i=c[0],l=c[1],u=Wn("bikeGoal"),d=u.isLoading,m=u.value,p=void 0===m?{}:m,f=u.save,b=p.onboardingStep,v=void 0===b?0:b,g=p.lastname,y=void 0===g?"":g,h=p.firstname,E=void 0===h?"":h,O=Object(n.useState)(y),C=s()(O,2),w=C[0],k=C[1],_=Object(n.useState)(E),D=s()(_,2),P=D[0],T=D[1],N=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,f(qo(qo({},p),{},{onboardingStep:v-1}));case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,f(qo(qo({},p),{},{onboardingStep:v+1,lastname:w,firstname:P}));case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(xo.a,Ie()({},e,{ref:t}),r.a.createElement(ko.a,null,a("bikeGoal.onboarding.steps.naming.title")),r.a.createElement(wo.a,null,d?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-m-1"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,null,a("bikeGoal.onboarding.steps.naming.nameLegend")),r.a.createElement("div",null,r.a.createElement(Ur.a,{variant:"outlined",label:a("bikeGoal.edit.lastname"),defaultValue:w,onChange:function(e){return k(e.target.value)},className:"u-w-5 u-mt-1"})),r.a.createElement("div",null,r.a.createElement(Ur.a,{variant:"outlined",label:a("bikeGoal.edit.firstname"),defaultValue:P,onChange:function(e){return T(e.target.value)},className:"u-w-5 u-mt-1"})),r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(tn.a,{onClick:M,label:a("bikeGoal.onboarding.actions.next"),disabled:i||""===P||""===w}),r.a.createElement(tn.a,{onClick:N,label:a("bikeGoal.onboarding.actions.previous"),disabled:i,variant:"text",className:"u-ml-half"}),i&&r.a.createElement(Lr.a,{className:"u-ml-half"})))))}));Yo.displayName="BikeGoalOnboardingNaming";var Wo=Yo,Ho=a("0JGJ");function Qo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ko=Object(n.forwardRef)((function(e,t){var a=Object(ge.e)().t,o=Object(n.useReducer)((function(e){return!e}),!1),c=s()(o,2),i=c[0],l=c[1],u=Wn("bikeGoal"),d=u.isLoading,m=u.value,p=void 0===m?{}:m,f=u.save,b=p.onboardingStep,v=void 0===b?0:b,g=p.workTime,y=void 0===g?null:g,h=p.workTimePercentage,E=void 0===h?0:h,O=Object(n.useState)(y),C=s()(O,2),w=C[0],k=C[1],_=Object(n.useState)(E),D=s()(_,2),P=D[0],T=D[1],N={typography:{whiteSpace:"pre-line"}},M=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,f(Vo(Vo({},p),{},{onboardingStep:v-1}));case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,f(Vo(Vo({},p),{},{onboardingStep:v+1,workTime:w,workTimePercentage:P}));case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(xo.a,Ie()({},e,{ref:t}),r.a.createElement(ko.a,null,a("bikeGoal.edit.workTime")),r.a.createElement(wo.a,null,d?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-m-1"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,null,a("bikeGoal.onboarding.steps.timing.timeLegend")),r.a.createElement(Qr.a,{className:"u-mt-1"},r.a.createElement(Hr.a,{control:r.a.createElement(Vr.a,{checked:"full"===w,onClick:function(){return k("full")}}),label:a("bikeGoal.edit.workTime_full"),className:"u-m-0"}),r.a.createElement(Hr.a,{control:r.a.createElement(Vr.a,{checked:"part"===w,onClick:function(){return k("part")}}),label:a("bikeGoal.edit.workTime_part"),className:"u-m-0"})),"part"===w&&r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,{className:"u-mt-1",style:N.typography},a("bikeGoal.onboarding.steps.timing.percentageLegend")),r.a.createElement("div",null,r.a.createElement(Yr,{variant:"outlined",label:a("bikeGoal.onboarding.steps.timing.percentage"),defaultValue:P,InputProps:{endAdornment:r.a.createElement(Ho.a,{position:"end"},r.a.createElement(un.a,{variant:"body1"},"%"))},onChange:function(e){T(Wr(Number(e.target.value)))},className:"u-w-5 u-mt-1"}))),r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(tn.a,{onClick:S,label:a("bikeGoal.onboarding.actions.next"),disabled:i||function(){if(null==w)return!0;if("part"===w){if(null==P)return!0;if(0===P)return!0}return!1}()}),r.a.createElement(tn.a,{onClick:M,label:a("bikeGoal.onboarding.actions.previous"),disabled:i,variant:"text",className:"u-ml-half"}),i&&r.a.createElement(Lr.a,{className:"u-ml-half"})))))}));Ko.displayName="BikeGoalOnboardingTiming";var Jo=Ko,Xo=a("pFWb"),$o=function(){var e=Object(ge.e)().t,t=Object(Ce.h)(),a=Wn("bikeGoal.onboardingStep"),n=a.isLoading,o=a.value,c=void 0===o?0:o;return r.a.createElement(mn.a,{open:!0,disableGutters:!0,title:e("bikeGoal.onboarding.title"),content:r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-m-1"}),!n&&r.a.createElement(Xo.a,{activeStep:c,orientation:"vertical"},r.a.createElement(Zo,null),r.a.createElement(Wo,null),r.a.createElement(Jo,null),r.a.createElement(Bo,null),r.a.createElement(To,null),r.a.createElement(Ao,null))),onClose:function(){t("..")}})},ec={co2:{fontWeight:700}},tc={modes:ir,purposes:cr},ac=function(e){var t=e.type,a=e.sortedTimeserieKey,n=tc[t];return r.a.createElement(n,{attribute:a})},nc=function(e){var t=e.sortedTimeserie,a=e.totalCO2,n=e.type,o=Object(ge.e)().t,c=Object(Ce.h)(),i=s()(t,2),l=i[0],u=i[1],d=u.timeseries.length,m=u.totalCO2,p=function(e,t){if(0===t)return"0%";var a=(100*e/t).toFixed(2).split("."),n=s()(a,2),r=n[0],o=n[1];return"00"===o?"".concat(r,"%"):"".concat(r,".").concat(o,"%")}(m,a),f=0===d&&0===m;return r.a.createElement(r.a.Fragment,null,r.a.createElement(on.b,{"data-testid":"ListItem",disabled:f,onClick:f?void 0:function(){return c("/analysis/".concat(n,"/").concat(l))},button:!0},r.a.createElement(cn.a,null,r.a.createElement(ac,{type:n,sortedTimeserieKey:l})),r.a.createElement(ln.a,{primary:o("trips.".concat(n,".").concat(l)),secondary:"".concat(p," ¬∑ ").concat(o("analysis.travels",d))}),r.a.createElement(un.a,{style:ec.co2,variant:"body2"},Jt(m)),!f&&r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:lr.a,color:"var(--secondaryTextColor)"}))),r.a.createElement(On.a,null))},rc=function(e,t,a){var n=Object.keys(e),r=Object.values(e),o="modes"===t?Gt:Zt,c=r.map((function(e){return e.totalCO2})),i=n.map((function(e){return o(e)}));return{data:{labels:n.map((function(e){return a("trips.".concat(t,".").concat(e))})),datasets:[{id:1,data:c,backgroundColor:i}]},options:{plugins:{tooltip:{displayColors:!1,callbacks:{label:function(e){return"".concat(e.label," ").concat(Jt(e.raw))}}}}}}},oc=a("kTYB"),cc=function(e){var t=e.timeseries,a=Object(Ce.i)().mode,o=Object(ge.e)().t,c=Object(ve.b)().isMobile,i=Object(n.useMemo)((function(){return Ea(t)}),[t]),l=ya(t),s=Object(n.useMemo)((function(){return rc(i,"modes",o)}),[o,i]),u=s.data,d=s.options,m=Object(n.useMemo)((function(){return a?i[a].timeseries.sort((function(e,t){return t.startDate.localeCompare(e.startDate)})):[]}),[a,i]);return a?r.a.createElement("div",{className:"u-mt-2"},r.a.createElement(vr,{timeseries:m})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:bn()("u-flex",{"u-flex-justify-end u-pos-absolute u-top-m u-right-xl":!c,"u-flex-justify-center u-mv-1":c})},r.a.createElement(oc.a,{data:u,options:d,primaryText:Jt(l),secondaryText:o("analysis.emittedCO2")})),r.a.createElement(we.a,{marginTop:c?void 0:"6rem"},r.a.createElement(rn.a,null,Object.entries(i).map((function(e,t){return r.a.createElement(nc,{key:t,type:"modes",totalCO2:l,sortedTimeserie:e})})))))},ic=["data"],lc=function(){var e=le().account,t=me().selectedDate,a=te(t,null==e?void 0:e._id),n=Object(h.useQueryAll)(a.definition,a.options),o=n.data,c=i()(n,ic);return Object(h.isQueryLoading)(c)||c.hasMore?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(cc,{timeseries:o})},sc=a("XfNG"),uc=a("GXf6"),dc=["/analysis/modes","/analysis/purposes"],mc=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},pc=function(){var e=Object(Ce.h)(),t=Object(Ce.g)().pathname,a=Object(ge.e)().t,n=dc.indexOf(dc.find((function(e){return t.includes(e)})));return r.a.createElement(sn.a,null,r.a.createElement(sc.a,{value:n,onChange:function(t,a){e(dc[a])}},r.a.createElement(uc.a,Ie()({label:a("nav.modes")},mc(0))),r.a.createElement(uc.a,Ie()({label:a("nav.purposes")},mc(1)))))},fc=a("K4g+"),bc=a("/ENz"),vc=Object(bc.a)((function(e){return{paper:{display:"inline-flex",width:264,borderRadius:1e3},iconButton:{color:e.palette.text.icon,boxShadow:e.shadows[2]}}})),gc=function(e){var t=e.className,a=vc();return r.a.createElement(we.a,{display:"flex",className:t},r.a.createElement(sn.a,{className:a.paper,elevation:2}),r.a.createElement(we.a,{className:"u-ml-half",display:"inline-flex"},r.a.createElement(Fn.a,{className:a.iconButton,disabled:!0,size:"medium"},r.a.createElement(an.a,{icon:fc.a})),r.a.createElement(Fn.a,{className:bn()(a.iconButton,"u-ml-half"),disabled:!0,size:"medium"},r.a.createElement(an.a,{icon:lr.a}))))},yc=a("7u78"),hc=["children","className","spaceBetween"],Ec=Object(bc.a)((function(){return{button:{padding:"0 1rem",justifyContent:function(e){return e.spaceBetween?"space-between":"left"}},typography:{textTransform:"capitalize"}}})),Oc=function(e){var t=e.children,a=e.className,n=e.spaceBetween,o=i()(e,hc),c=Ec({spaceBetween:n});return r.a.createElement(yc.a,Ie()({className:bn()(c.button,a),endIcon:r.a.createElement(an.a,{icon:Mn.a,size:10})},o),r.a.createElement(un.a,{className:c.typography},t))},Cc=a("gtDA"),jc=a("1Crc"),wc=["className","type","options","selectedIndex","disabledIndexes","onclick"],xc=Object(bc.a)((function(){return{paper:{textTransform:"capitalize",width:function(e){var t=e.anchorEl;return t?window.getComputedStyle(t).width:void 0},marginTop:2}}})),kc=function(e){var t=e.className,a=e.type,o=e.options,c=e.selectedIndex,l=e.disabledIndexes,u=e.onclick,d=i()(e,wc),m=Object(n.useState)(null),p=s()(m,2),f=p[0],b=p[1],v=Object(n.useState)(c||0),g=s()(v,2),y=g[0],h=g[1],E=xc({anchorEl:f}).paper,O=function(e){return function(){b(null),h(e),u&&u(a,o[e])}};return Object(n.useEffect)((function(){void 0!==c&&h(c)}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Oc,Ie()({"data-testid":"dropdown-button",className:t,onClick:function(e){b(e.currentTarget)}},d),o[y]),r.a.createElement(Cc.a,{"data-testid":"dropdown-menu",classes:{paper:E},anchorEl:f,getContentAnchorEl:null,keepMounted:!0,open:Boolean(f),onClose:function(){b(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},elevation:2},o.map((function(e,t){return r.a.createElement(jc.a,{"data-testid":"dropdown-menuItem-".concat(t),key:t,onClick:O(t),selected:t===y,disabled:l&&l.includes(t)},e)}))))};kc.proptypes={className:ze.a.string,type:ze.a.oneOfType([ze.a.string,ze.a.number]),options:ze.a.array.isRequired,selectedIndex:ze.a.number,disabledIndexes:ze.a.array,onclick:ze.a.func};var _c=kc,Dc=function(e){return Array(12).fill().map((function(t,a){return new Intl.DateTimeFormat("".concat(e,"-").concat(e.toUpperCase()),{month:"long"}).format(new Date(0,a))}))},Pc=function(e){return new Date(Math.min.apply(null,e))},Tc=function(e){return new Date(Math.max.apply(null,e))},Nc=function(e,t){return e.map((function(e,a){return t.includes(e)?null:a})).filter((function(e){return null!==e}))},Mc=function(e,t){var a=function(e){var t=Tc(e).getFullYear(),a=Pc(e).getFullYear(),n=Number(a);return Array(t-a+1).fill().map((function(){return n++})).sort().reverse()}(e),n=function(e){return Ue()(new Set(e.map((function(e){return e.getFullYear()}))))}(e),r=a.indexOf(t.getFullYear());return{years:a,yearSelectedIndex:r,disabledYearsIndexes:Nc(a,n)}},Sc=ra()((function(e){var t=e.dates,a=e.selectedDate,n=e.lang,r=Dc(n),o=Pc(t),c=Tc(t),i=a.getFullYear(),l=i===c.getFullYear(),s=i===o.getFullYear(),u=12;l?u=c.getMonth()+1:s&&(u=12-o.getMonth());var d,m=function(e){var t=e.monthCount,a=e.allMonthsName,n=e.endToStart;return a.slice(n?a.length-t:0,n?a.length:t)}({monthCount:u,allMonthsName:r,endToStart:s}),p=m.indexOf(r[a.getMonth()]);-1===p&&(l?d=c:s&&(d=o),p=m.indexOf(r[d.getMonth()]));var f=function(e){var t=e.dates,a=e.year,n=e.allMonthsName;return Ue()(new Set(t.map((function(e){return e.getFullYear()===a?n[e.getMonth()]:null})).filter((function(e){return null!==e}))))}({dates:t,year:i,allMonthsName:r});return{months:m,monthSelectedIndex:p,disabledMonthsIndexes:Nc(m,f)}})),Ac=ra()((function(e){var t=e.oldDate,a=e.lang,n=e.value,r=e.type,o=e.dates,c=Dc(a);if("year"===r){var i=new Date(new Date(t).setFullYear(n)),l=Sc({dates:o,selectedDate:i,lang:a}),s=l.months,u=l.monthSelectedIndex,d=c.indexOf(s[u]);return new Date(new Date(i).setMonth(d))}if("month"===r){var m=c.indexOf(n);return new Date(new Date(t).setMonth(m))}return t})),Rc=Object(bc.a)((function(e){return{paper:{display:"inline-flex",width:264,borderRadius:1e3},leftDropdownButton:{borderTopLeftRadius:1e3,borderBottomLeftRadius:1e3,paddingRight:"2.5rem"},rightDropdownButton:{borderTopRightRadius:1e3,borderBottomRightRadius:1e3,paddingRight:"1.2rem"},divider:{margin:"0.6rem 0"},iconButton:{color:e.palette.text.icon,boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper}}})),Lc=function(e){var t=e.className,a=e.options,o=e.selectedDate,c=e.setSelectedDate,i=Rc(),l=Object(ge.e)().lang,s=Object(n.useMemo)((function(){return Sc({dates:a,selectedDate:o,lang:l})}),[a,o,l]),u=s.months,d=s.monthSelectedIndex,m=s.disabledMonthsIndexes,p=Object(n.useMemo)((function(){return Mc(a,o)}),[a,o]),f=p.years,b=p.yearSelectedIndex,v=p.disabledYearsIndexes,g=function(e,t){var n=Ac({oldDate:o,lang:l,value:t,type:e,dates:a});c(n)},y=function(e){return function(){c((function(t){return new Date(t.setMonth(t.getMonth()+e))}))}},h=function(e){return function(e){var t=e.type,a=e.selectedDate,n=e.options,r=new Date(a.getFullYear(),a.getMonth());if("previous"===t){var o=Pc(n);return new Date(o.getFullYear(),o.getMonth()).getTime()===r.getTime()}if("next"===t){var c=Tc(n);return new Date(c.getFullYear(),c.getMonth()).getTime()===r.getTime()}return!1}({type:e,selectedDate:o,options:a})};return r.a.createElement(we.a,{display:"flex",className:t},r.a.createElement(sn.a,{className:i.paper,elevation:2},r.a.createElement(_c,{"data-testid":"dropdown-button-year",type:"year",className:i.leftDropdownButton,options:f,onclick:g,selectedIndex:b,disabledIndexes:v}),r.a.createElement(On.a,{className:i.divider,orientation:"vertical",flexItem:!0}),r.a.createElement(_c,{"data-testid":"dropdown-button-month",type:"month",className:i.rightDropdownButton,fullWidth:!0,spaceBetween:!0,options:u,onclick:g,selectedIndex:d,disabledIndexes:m})),r.a.createElement(we.a,{className:"u-ml-half",display:"inline-flex"},r.a.createElement(Fn.a,{"data-testid":"previous-button",className:i.iconButton,onClick:y(-1),disabled:h("previous"),size:"medium"},r.a.createElement(an.a,{icon:fc.a})),r.a.createElement(Fn.a,{"data-testid":"next-button",className:bn()(i.iconButton,"u-ml-half"),onClick:y(1),disabled:h("next"),size:"medium"},r.a.createElement(an.a,{icon:lr.a}))))};Lc.proptypes={className:ze.a.string,options:ze.a.array.isRequired,selectedDate:ze.a.number.isRequired,setSelectedDate:ze.a.func.isRequired};var Ic=Lc,Bc=function(e){var t=e.className,a=e.options,n=e.isLoading,o=e.selectedDate,c=e.setSelectedDate;return n?r.a.createElement(gc,{className:t}):r.a.createElement(Ic,{className:t,options:a,selectedDate:o,setSelectedDate:c})},Gc=["data"];function Fc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Zc=function(){var e=me(),t=e.selectedDate,a=e.setSelectedDate,o=le().account,c=ee({accountId:null==o?void 0:o._id,limitBy:1e3}),l=Object(h.useQueryAll)(c.definition,zc(zc({},c.options),{},{enabled:Boolean(o)})),s=l.data,u=i()(l,Gc),d=!o||Object(h.isQueryLoading)(u)||u.hasMore,m=Object(n.useMemo)((function(){return function(e,t){return e?null:t.map((function(e){return new Date(e.startDate)}))}(d,s)}),[d,s]);return Object(n.useEffect)((function(){m&&null===t&&a(Tc(m))}),[m,t,a]),Object(n.useEffect)((function(){return function(){a(null)}}),[]),r.a.createElement(Bc,{className:"u-mt-1-s u-ml-0-s u-flex-justify-center-s u-flex u-ml-2",isLoading:d||null===t,options:m,selectedDate:t,setSelectedDate:a})},Uc=function(){var e=Object(ge.e)().t,t=Object(Ce.h)(),a=Object(Ce.i)().mode,n=Object(ve.b)().isMobile,o=e(a?"trips.modes.".concat(a.toUpperCase()):"analysis.mode"),c=a?function(){return t("/analysis/modes")}:void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xr,{label:o,onBack:c}),n&&r.a.createElement(pc,null),r.a.createElement(Zc,null),r.a.createElement(lc,null))},qc=function(e){var t=e.timeseries,a=Object(Ce.i)().purpose,o=Object(ge.e)().t,c=Object(ve.b)().isMobile,i=Object(n.useMemo)((function(){return Ca(t)}),[t]),l=ya(t),s=Object(n.useMemo)((function(){return rc(i,"purposes",o)}),[o,i]),u=s.data,d=s.options,m=Object(n.useMemo)((function(){return a?i[a].timeseries.sort((function(e,t){return t.startDate.localeCompare(e.startDate)})):[]}),[a,i]);return a?r.a.createElement("div",{className:"u-mt-2"},r.a.createElement(vr,{timeseries:m})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:bn()("u-flex",{"u-flex-justify-end u-pos-absolute u-top-m u-right-xl":!c,"u-flex-justify-center u-mv-1":c})},r.a.createElement(oc.a,{data:u,options:d,primaryText:Jt(l),secondaryText:o("analysis.emittedCO2")})),r.a.createElement(we.a,{marginTop:c?void 0:"6rem"},r.a.createElement(rn.a,null,Object.entries(i).map((function(e,t){return r.a.createElement(nc,{key:t,type:"purposes",totalCO2:l,sortedTimeserie:e})})))))},Yc=["data"],Wc=function(){var e=le().account,t=me().selectedDate,a=te(t,null==e?void 0:e._id),n=Object(h.useQueryAll)(a.definition,a.options),o=n.data,c=i()(n,Yc);return Object(h.isQueryLoading)(c)||c.hasMore?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(qc,{timeseries:o})},Hc=function(){var e=Object(ge.e)().t,t=Object(Ce.h)(),a=Object(Ce.i)().purpose,n=Object(ve.b)().isMobile,o=e(a?"trips.purposes.".concat(a.toUpperCase()):"analysis.purpose"),c=a?function(){return t("/analysis/purposes")}:void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xr,{label:o,onBack:c}),n&&r.a.createElement(pc,null),r.a.createElement(Zc,null),r.a.createElement(Wc,null))},Qc=a("8kh3"),Vc=a("bS3/"),Kc=function(e){var t=Object(ge.e)().t,a=le(),n=a.accounts,o=a.account,c=a.setAccount,i=n.map((function(e){return{label:se(e),value:e._id}})),l={label:se(o),value:o._id};return r.a.createElement("div",e,r.a.createElement(Qc.a,null,t("devices.label")),r.a.createElement(Vc.a,{options:i,value:l,label:t("devices.label"),placeholder:t("devices.select"),onChange:function(e){var t=e.value;return c(n.find((function(e){return e._id===t})))}}))},Jc=a("5z4W"),Xc=a.n(Jc),$c=function(){var e=Object(ve.b)().isMobile;return r.a.createElement(we.a,{color:"var(--infoColor)",position:"fixed",right:"1rem",bottom:"calc(1rem + ".concat(e?"var(--sidebarHeight)":"0rem",")")},Jc.version)},ei=Object(bc.a)((function(){return{root:{marginLeft:0},labelPlacementStart:{display:"flex",justifyContent:"space-between"}}})),ti=function(e){var t=e.className,a=Object(ge.e)().t,n=Object(ve.b)().isMobile,o=ei(),c=Wn("CO2Emission.showAlert"),i=c.isLoading,l=c.value,s=void 0===l||l,u=c.save;return r.a.createElement("div",{className:t},r.a.createElement(Hr.a,{classes:o,label:r.a.createElement(un.a,{style:{color:"var(--infoColor)"}},a("dacc.settings.showAlerter")),labelPlacement:n?"start":"end",checked:s,disabled:i,onChange:function(e){u(e.target.checked)},control:r.a.createElement(no.a,{color:"primary"})}))},ai=Object(bc.a)((function(){return{root:{marginLeft:0},labelPlacementStart:{display:"flex",justifyContent:"space-between"}}})),ni=function(e){var t=e.className,a=Object(ge.e)().t,n=Object(ve.b)().isMobile,o=ai(),c=Wn("CO2Emission.sendToDACC"),i=c.isLoading,l=c.value,s=void 0!==l&&l,u=c.save;return r.a.createElement("div",{className:t},r.a.createElement(Hr.a,{classes:o,label:a("dacc.settings.anonymous_participation"),labelPlacement:n?"start":"end",checked:s,disabled:i,onChange:function(e){u(e.target.checked)},control:r.a.createElement(no.a,{color:"primary"})}))},ri=a("ro7u"),oi=h.models.folder,ci=oi.MAGIC_FOLDERS,ii=oi.ensureMagicFolder,li=oi.getReferencedFolder,si="".concat("io.cozy.apps","/coachco2"),ui=function(){var e=j()(x.a.mark((function e(t,a){var n,r,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(t,{_id:si,_type:"io.cozy.apps"});case 2:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,ii(t,ci.ADMINISTRATIVE,"/".concat(a("folder.administrative")));case 9:return r=e.sent,o=r.path,e.next=13,ii(t,ci.COACH_CO2,"".concat(o,"/").concat(a("folder.coachco2")));case 13:return c=e.sent,e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function di(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mi(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?di(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):di(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pi=h.models.file.uploadFileWithConflictStrategy,fi=function(e,t){return t("export.filename",{today:Object(ri.a)(new Date,"yyyy MM dd"),accountLabel:e})},bi=function(e){return[Object.keys(e[0])].concat(Ue()(e)).map((function(e){return Object.values(e).map((function(e){return e?'"'.concat(e,'"'):" "})).toString()})).join("\n")},vi=function(){var e=j()(x.a.mark((function e(t,a){var n,r,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchQueryAndGetFromState(re());case 2:return n=e.sent,r=n.data,o=(null==r?void 0:r[0])||{},c=a.flatMap((function(e){return ua(e,o).map((function(t){var a,n,r=(a={},d()(a,U,t.startDate),d()(a,q,t.endDate),d()(a,Y,t.duration),d()(a,W,t.distance),d()(a,H,t.mode),d()(a,Q,t.coordinates),d()(a,V,t.distances),d()(a,K,t.timestamps),d()(a,J,t.speeds),a);return mi(mi({},(n={},d()(n,I,e.id),d()(n,z,da(e)),d()(n,Z,ma(e)),d()(n,B,ia(e)),d()(n,G,la(e)),d()(n,F,oa(e)),n)),r)}))})),e.abrupt("return",rt()(c,I));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),gi=function(){var e=j()(x.a.mark((function e(t){var a,n,r,o,c,i,l,s,u,d,m;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,n=t.t,r=t.timeseries,o=t.accountName,e.prev=1,c=ga(r),e.next=5,vi(a,c);case 5:return i=e.sent,l=bi(i),s=fi(o,n),e.next=10,ui(a,n);case 10:return u=e.sent,e.next=13,pi(a,l,{name:s,contentType:"text/csv",dirId:u._id,conflictStrategy:"rename"});case 13:return d=e.sent,m=d.data,e.abrupt("return",{appDir:u,fileCreated:m,isLoading:!1});case 18:return e.prev=18,e.t0=e.catch(1),mt()("error",e.t0),e.abrupt("return",{appDir:null,fileCreated:null,isLoading:!0});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),yi=["data"],hi=function(){var e,t,a,r,o=Object(ge.e)().t,c=Object(h.useClient)(),l=le().account,u=Object(n.useState)(!1),d=s()(u,2),p=d[0],f=d[1],b=Object(n.useState)({appDir:null,fileCreated:null,isLoading:!0}),v=s()(b,2),g=v[0],y=g.appDir,O=g.fileCreated,C=g.isLoading,w=v[1],k=(e={accountId:null==l?void 0:l._id,limitBy:1e3},t=e.accountId,a=e.date,r=void 0===a?null:a,{definition:Object(h.Q)(m).where({"cozyMetadata.sourceAccount":t,startDate:{$gt:r}}).indexFields(["cozyMetadata.sourceAccount","startDate"]).sortBy([{"cozyMetadata.sourceAccount":"desc"},{startDate:"desc"}]).limitBy(1e3),options:{as:"".concat(m,"/sourceAccount/").concat(t),fetchPolicy:E.a.fetchPolicies.olderThan(3e4)}}),_=Object(h.useQueryAll)(k.definition,k.options),D=_.data,P=i()(_,yi),T=Object(h.isQueryLoading)(P)||P.hasMore;return Object(n.useEffect)((function(){T||p||y||function(){var e=j()(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,gi({client:c,t:o,timeseries:D,accountName:se(l)});case 3:t=e.sent,w(t),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l,y,c,p,T,o,D]),{isLoading:C,appDir:y,file:O}},Ei=function(e){var t=e.onClose,a=Object(ge.e)().t,n=Object(h.useClient)(),o=hi(),c=o.file,i=o.appDir;if(o.isLoading)return r.a.createElement(Hn.a,{open:!0,title:a("export.modal.title"),content:r.a.createElement(un.a,{color:"textPrimary"},a("export.modal.content.progress"))});var l=Object(h.generateWebLink)({slug:"drive",cozyUrl:n.getStackClient().uri,subDomainType:n.getInstanceOptions().subdomain,pathname:"/",hash:"folder/".concat(i._id)});return r.a.createElement(Hn.a,{open:!0,onClose:t,title:a("export.modal.title"),content:r.a.createElement(un.a,{color:"textPrimary"},a("export.modal.content.done",{filename:c.name,pathAppDir:i.path})),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(tn.a,{variant:"secondary",onClick:t,label:a("export.modal.button.close")}),r.a.createElement(tn.a,{href:l,target:"_blank",label:a("export.modal.button.viewInDrive")}))})},Oi=["accountName"],Ci=function(e){var t=e.accountName,a=i()(e,Oi),o=Object(ge.e)().t,c=Object(n.useState)(!1),l=s()(c,2),u=l[0],d=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",a,r.a.createElement(Qc.a,null,o("export.label")),r.a.createElement(tn.a,{busy:!1,variant:"secondary",label:o("export.button"),onClick:function(){return d(!0)}})),u&&r.a.createElement(Ei,{onClose:function(){return d(!1)},accountName:t}))},ji=Object(n.memo)(Ci),wi=a("MN1e"),xi=function(){var e=Object(fe.useWebviewIntent)(),t=function(){var e=j()(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:(t=e.sent)&&Object(wi.a)(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=j()(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call("getGeolocationTrackingId");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=j()(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call("sendGeolocationTrackingLogs");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=j()(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call("forceUploadGeolocationTrackingData");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"u-mt-1"},r.a.createElement("div",{className:"u-flex u-flex-column"},r.a.createElement("div",null,r.a.createElement(tn.a,{label:"Send Geoloc logs",variant:"secondary",onClick:n,className:"u-mb-1"})),r.a.createElement("div",null,r.a.createElement(tn.a,{label:"Force Upload Data now",variant:"secondary",onClick:o,className:"u-mb-1"})),r.a.createElement("div",null,r.a.createElement(tn.a,{label:"Copy OpenPATH Identifier",variant:"secondary",onClick:t,className:"u-mb-1"}))))},ki=a("LJzA"),_i=Object(bc.a)((function(){return{root:{marginLeft:0},labelPlacementStart:{display:"flex",justifyContent:"space-between"}}})),Di=function(e){var t=e.className,a=Object(fe.useWebviewIntent)(),o=Object(h.useClient)(),c=Object(ve.b)().isMobile,i=_i(),l=Object(n.useState)(!1),u=s()(l,2),d=u[0],m=u[1],p=function(){var e=j()(x.a.mark((function e(){var t,n,r,c,i,l,s,u,p,g;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=5;break}return e.next=3,a.call("setGeolocationTracking",!1);case 3:e.next=27;break;case 5:return e.next=7,f();case 7:if(null!==e.sent){e.next=25;break}return e.next=11,a.call("getDeviceInfo");case 11:return t=e.sent,n=t.deviceName,e.next=15,o.query(Object(h.Q)("io.cozy.konnectors").getById("openpath"));case 15:return r=e.sent,c=r.data.attributes,i=new ki.a(o,null,c),l=new Date,s="".concat(n," ").concat(l.toLocaleDateString("fr-FR")),u=Math.random().toString(36).replace("0.",""),e.next=23,i.createAccountSilently({konnector:c,vaultClient:null,cipherId:null,trigger:null,account:null,userCredentials:{login:s,password:u,providerId:"1"}});case 23:return e.next=25,b(u);case 25:return e.next=27,a.call("setGeolocationTracking",!0);case 27:return e.next=29,v();case 29:p=e.sent,g=p.enabled,m(g);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.call("getGeolocationTrackingId");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=j()(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.call("setGeolocationTrackingId",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.call("getGeolocationTrackingStatus");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=j()(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,a=t.enabled,m(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,v]),r.a.createElement("div",{className:t},r.a.createElement(Hr.a,{classes:i,label:"Memorise my journeys",labelPlacement:c?"start":"end",checked:d,onChange:p,control:r.a.createElement(no.a,{color:"primary"})}))},Pi=Object(bc.a)((function(){return{root:{marginLeft:0},labelPlacementStart:{display:"flex",justifyContent:"space-between"}}})),Ti=function(e){var t=e.className,a=Object(ge.e)().t,n=Object(ve.b)().isMobile,o=Pi(),c=Wn("bikeGoal.showAlertSuccess"),i=c.isLoading,l=c.value,s=c.save;return r.a.createElement("div",{className:t},r.a.createElement(Hr.a,{classes:o,label:r.a.createElement(un.a,{style:{color:"var(--infoColor)"}},a("bikeGoal.settings.showAlerterSuccess")),labelPlacement:n?"start":"end",checked:l,disabled:i,onChange:function(e){s(e.target.checked)},control:r.a.createElement(no.a,{color:"primary"})}))},Ni=Object(bc.a)((function(){return{root:{marginLeft:0},labelPlacementStart:{display:"flex",justifyContent:"space-between"}}})),Mi=function(e){var t=e.className,a=Object(ge.e)().t,n=Object(ve.b)().isMobile,o=Ni(),c=Wn("bikeGoal.showAlert"),i=c.isLoading,l=c.value,s=void 0===l||l,u=c.save;return r.a.createElement("div",{className:t},r.a.createElement(Hr.a,{classes:o,label:r.a.createElement(un.a,{style:{color:"var(--infoColor)"}},a("bikeGoal.settings.showAlerter")),labelPlacement:n?"start":"end",checked:s,disabled:i,onChange:function(e){u(e.target.checked)},control:r.a.createElement(no.a,{color:"primary"})}))},Si=Object(bc.a)((function(){return{root:{marginLeft:0},labelPlacementStart:{display:"flex",justifyContent:"space-between"}}})),Ai=function(e){var t=e.className,a=Object(ge.e)().t,n=Object(ve.b)().isMobile,o=Si(),c=Wn("bikeGoal.sendToDACC"),i=c.isLoading,l=c.value,s=c.save;return r.a.createElement("div",{className:t},r.a.createElement(Hr.a,{classes:o,label:r.a.createElement(un.a,{style:{color:"var(--infoColor)"}},a("bikeGoal.settings.sendToDACC")),labelPlacement:n?"start":"end",checked:!!l,disabled:i,onChange:function(e){s(e.target.checked)},control:r.a.createElement(no.a,{color:"primary"})}))},Ri=Object(bc.a)((function(){return{root:{marginLeft:0},labelPlacementStart:{display:"flex",justifyContent:"space-between"}}})),Li=function(e){var t=e.className,a=Object(ge.e)().t,n=Object(ve.b)().isMobile,o=Ri(),c=Wn("bikeGoal.onboarded"),i=c.isLoading,l=c.value,s=void 0!==l&&l,u=c.save,d=Wn("bikeGoal.activated"),m=d.isLoading,p=d.value,f=void 0!==p&&p,b=d.save,v=s||f,g=i||m,y=function(){var e=j()(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=3;break}return e.next=3,b(t.target.checked);case 3:return e.next=5,u(t.target.checked);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t},r.a.createElement(Hr.a,{classes:o,label:r.a.createElement(un.a,{style:{color:"var(--infoColor)"}},a("bikeGoal.settings.hideOnboarding")),labelPlacement:n?"start":"end",checked:v,disabled:g,onChange:y,control:r.a.createElement(no.a,{color:"primary"})}))},Ii=Object(bc.a)((function(){return{root:{marginLeft:0},labelPlacementStart:{display:"flex",justifyContent:"space-between"}}})),Bi=function(e){var t=e.className,a=Object(ge.e)().t,n=Object(ve.b)().isMobile,o=Ii(),c=Object(Ce.h)(),i=Wn("bikeGoal.onboarded"),l=i.isLoading,s=i.value,u=void 0!==s&&s,d=Wn("bikeGoal.activated"),m=d.isLoading,p=d.value,f=void 0!==p&&p,b=d.save,v=u&&f,g=l||m,y=function(){var e=j()(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=5;break}return e.next=3,b(t.target.checked);case 3:e.next=6;break;case 5:c("bikegoalonboarding");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t},r.a.createElement(Hr.a,{classes:o,label:a("bikeGoal.settings.participation"),labelPlacement:n?"start":"end",checked:v,disabled:g,onChange:y,control:r.a.createElement(no.a,{color:"primary"})}))},Gi=a("Kv7L"),Fi=function(){var e=Object(ge.e)().t,t=le().account;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(xr,{label:e("nav.settings")}),r.a.createElement("div",{className:"u-mh-1 u-mb-1"},r.a.createElement(Kc,{className:"u-mt-1"}),r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(Qc.a,null,e("settings.services")),Object(Gi.isFlagshipApp)()&&Ua()("coachco2.GPSMemory.enabled")&&r.a.createElement(Di,{className:"u-mt-half-s"}),r.a.createElement(ni,{className:"u-mt-half-s"}),Ua()("coachco2.bikegoal.enabled")&&r.a.createElement(Bi,{className:"u-mt-1-half-s"})),r.a.createElement(ji,{className:"u-mt-1",accountName:se(t)}),Ua()("coachco2.admin-mode")&&r.a.createElement("div",{className:"u-mt-1"},r.a.createElement(Qc.a,null,e("settings.debug")),r.a.createElement(r.a.Fragment,null,r.a.createElement(ti,{className:"u-mt-1-half-s"}),Ua()("coachco2.bikegoal.enabled")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Mi,{className:"u-mt-1-half-s"}),r.a.createElement(Li,{className:"u-mt-1-half-s"}),r.a.createElement(Ti,{className:"u-mt-1-half-s"}),r.a.createElement(Ai,{className:"u-mt-1-half-s"})))),Object(Gi.isFlagshipApp)()&&Ua()("coachco2.admin-mode")&&r.a.createElement(xi,null),Ua()("coachco2.admin-mode")&&r.a.createElement($c,null))):r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"})},zi=a("whoR"),Zi=a("JaZj"),Ui=function(e){var t=e.message,a=e.onClose;return r.a.createElement(Zi.a,{open:!!t,onClose:a},r.a.createElement(zi.a,{variant:"filled",elevation:6,severity:"success",onClose:a},t))},qi=r.a.createContext(),Yi=function(){var e=Object(n.useContext)(qi);if(!e)throw new Error("useTrip must be used within a TripProvider");return e},Wi=function(e){var t=e.timeserie,a=e.children,o=Object(n.useMemo)((function(){return{timeserie:y(t)}}),[t]);return r.a.createElement(qi.Provider,{value:o},a)},Hi=r.a.memo(Wi),Qi=a("13ub"),Vi=a.n(Qi),Ki=a("gSRL"),Ji=a.n(Ki),Xi=a("DIBL");function $i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function el(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var tl=function(e){return"start"===e?"startPlaceContact":"endPlaceContact"},al=function(e){var t,a=e.contact,n=e.timeserie,r=e.type;return{address:a.address.find((function(e,a){var o,c,i;if(e.id===(null===(o=n.relationships[tl(r)])||void 0===o||null===(c=o.data)||void 0===c||null===(i=c.metadata)||void 0===i?void 0:i.addressId))return t=a,e})),index:t}},nl=function(e,t){return e[tl(t)]},rl=function(e,t){var a;return null===(a=nl(e,t))||void 0===a?void 0:a.data},ol=function(){var e=j()(x.a.mark((function e(t){var a,n,r,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,n=t.timeserie,r=t.type,e.next=3,nl(n,r).remove();case 3:return o=e.sent,c=o.data,Ji()(c,"relationships.".concat(tl(r),".data.metadata.addressId")),e.next=8,a.save(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cl=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)}))},il=function(){var e=j()(x.a.mark((function e(t){var a,n,r,o,c,i,l,s,u,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,n=t.contact,r=t.timeserie,o=t.type,c=t.label,i=Object(Xi.a)()||cl(),e.next=4,a.save(el(el({},n),{},{address:[].concat(Ue()(n.address),[{id:i,type:c,formattedAddress:_a(r,o),geo:{geo:Da(r,o)}}])}));case 4:return l=e.sent,s=l.data,e.next=8,nl(r,o).add(s);case 8:return u=e.sent,d=u.data,at()(d,"relationships.".concat(tl(o),".data.metadata"),{addressId:i}),e.next=13,a.save(d);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ll=function(){var e=j()(x.a.mark((function e(t){var a,n,r,o,c,i,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,n=t.contact,r=t.timeserie,o=t.type,c=t.label,i=al({contact:n,timeserie:r,type:o}),l=i.index,at()(n,"address[".concat(l,"].type"),c),e.next=5,a.save(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sl=function(){var e=j()(x.a.mark((function e(t){var a,n,r,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,n=t.type,r=t.timeserie,o=t.contact,c=t.label,e.abrupt("return",rl(r,n)?ll({client:a,contact:o,timeserie:r,type:n,label:c}):il({client:a,contact:o,timeserie:r,type:n,label:c}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ul=a("nUfk"),dl=function(e){var t=e.contact,a=e.fetchedContact,o=e.type,c=e.label,i=e.onSuccessMessage,l=e.onClose,u=Object(n.useState)(!1),d=s()(u,2),m=d[0],p=d[1],f=Object(ul.a)().t,b=Yi().timeserie,v=Object(h.useClient)(),g=a&&a===t,y=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",p(!0));case 2:return i(f("contactToPlace.addSuccess")),l(),e.next=6,sl({client:v,type:o,timeserie:b,contact:t,label:c});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){return p(!1)},O=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(f("contactToPlace.removeSuccess")),l(),e.next=4,ol({client:v,timeserie:b,type:o});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,g?r.a.createElement(tn.a,{variant:"secondary",label:f("contactToPlace.delete"),color:"error",onClick:O}):r.a.createElement(tn.a,{variant:"secondary",label:f("contactToPlace.dismiss"),onClick:l}),r.a.createElement(tn.a,{label:f("contactToPlace.submit"),onClick:y}),r.a.createElement(Zi.a,{open:m,onClose:E},r.a.createElement(zi.a,{variant:"filled",elevation:6,severity:"error",onClose:E},f("contactToPlace.error"))))},ml=a("DWnN"),pl=a("DPrj"),fl=function(e){var t=e.contact,a=e.setContact,o=e.setLabel,c=Object(ul.a)().t,i=Object(n.useState)(!1),l=s()(i,2),u=l[0],d=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(on.b,{button:!0,gutters:"disabled",onClick:function(){return d(!0)}},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:_t.a})),r.a.createElement(ln.a,Ie()({primary:t?Object(ml.getDisplayName)(t):c("contactToPlace.contact")},!t&&{primaryTypographyProps:{color:"textSecondary"}})),r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:Mn.a}))),u&&r.a.createElement(pl.a,{dismissAction:function(){return d(!1)},onItemClick:function(e){a(e),o(c("contactToPlace.home"))}}))},bl=(a("2nE9"),a("SdDE")),vl=a("MWqS"),gl=a("/rN/"),yl=a("vZHb"),hl=new Pr.a({id:"location_5cb8a90cd75b6b5e8e203a5e2d5f9e35",use:"location_5cb8a90cd75b6b5e8e203a5e2d5f9e35-usage",viewBox:"0 0 32 33",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 32 33" id="location_5cb8a90cd75b6b5e8e203a5e2d5f9e35"><path fill="#97ECA1" d="M26 10c0 5.764-6.78 17.628-9.174 21.64a.955.955 0 0 1-1.652 0C12.78 27.628 6 15.763 6 10 6 4.477 10.477 0 16 0s10 4.477 10 10Z" /><circle cx="16" cy="10" r="4" fill="#09AE1C" /></symbol>'}),El=(Nr.a.add(hl),hl),Ol=[51.505,-.09],Cl={height:128,borderRadius:8},jl=function(){var e=Object(n.useState)(),t=s()(e,2),a=t[0],o=t[1],c=Yi().timeserie,i=Object(bl.a)();return Object(n.useEffect)((function(){var e=Ue()(Ta(c).properties.end_loc.coordinates).reverse();i.setView(e),o(i.getBounds())}),[c,i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(vl.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'¬© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),a&&r.a.createElement(gl.a,{bounds:a},r.a.createElement(an.a,{icon:El,size:48,x:"calc(50% - 24px)",y:"calc(50% - 48px)"})))},wl=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yl.a,{style:Cl,center:Ol,zoom:13,zoomControl:!1},r.a.createElement(jl,null)))},xl=function(e){var t=e.setLabel,a=e.onClose,o=Object(ul.a)().t,c=Object(n.useState)(),i=s()(c,2),l=i[0],u=i[1];return r.a.createElement(Hn.a,{open:!0,title:o("contactToPlace.customLabel"),content:r.a.createElement(Ur.a,{className:"u-mt-half",variant:"outlined",fullWidth:!0,autoFocus:!0,onChange:function(e){return u(e.target.value)}}),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(tn.a,{variant:"secondary",label:o("contactToPlace.cancel"),onClick:a}),r.a.createElement(tn.a,{label:o("contactToPlace.submit"),onClick:function(){t(l),a()}})),onClose:a})},kl=a("INxB"),_l=function(e){var t=e.label,a=e.showCustomLabelModal,o=Object(n.forwardRef)((function(e,a){var n=Object(ul.a)().t,o=![n("contactToPlace.work"),n("contactToPlace.home"),void 0].includes(t);return r.a.createElement(kl.a,Ie()({},e,{ref:a}),r.a.createElement(cn.a,null,r.a.createElement(Vr.a,{checked:o})),r.a.createElement(ln.a,{primary:n("contactToPlace.custom")}))}));return o.displayName="CustomLabelActionComponent",{name:"customLabel",action:function(){a()},disabled:!1,Component:o}},Dl=["onClick"],Pl=function(e){var t=e.label,a=e.setLabel,o=Object(n.forwardRef)((function(e,a){var n=e.onClick,o=i()(e,Dl),c=(0,Object(ul.a)().t)("contactToPlace.home");return r.a.createElement(kl.a,Ie()({},o,{ref:a,onClick:function(){return n({compLabel:c})}}),r.a.createElement(cn.a,null,r.a.createElement(Vr.a,{checked:t===c})),r.a.createElement(ln.a,{primary:c}))}));return o.displayName="HomeComponent",{name:"home",action:function(e,t){var n=t.compLabel;a(n)},disabled:!1,Component:o}},Tl=function(e){var t=e.label,a=e.setLabel,o=Object(n.forwardRef)((function(e,a){var n=Object(ul.a)().t;return r.a.createElement(kl.a,Ie()({},e,{ref:a}),r.a.createElement(cn.a,null,r.a.createElement(Vr.a,{checked:void 0===t})),r.a.createElement(ln.a,{primary:n("contactToPlace.noLabel")}))}));return o.displayName="NoLabelActionComponent",{name:"noLabel",action:function(){a(void 0)},disabled:!1,Component:o}},Nl=["onClick"],Ml=function(e){var t=e.label,a=e.setLabel,o=Object(n.forwardRef)((function(e,a){var n=e.onClick,o=i()(e,Nl),c=(0,Object(ul.a)().t)("contactToPlace.work");return r.a.createElement(kl.a,Ie()({},o,{ref:a,onClick:function(){return n({compLabel:c})}}),r.a.createElement(cn.a,null,r.a.createElement(Vr.a,{checked:t===c})),r.a.createElement(ln.a,{primary:c}))}));return o.displayName="WorkActionComponent",{name:"work",action:function(e,t){var n=t.compLabel;a(n)},disabled:!1,Component:o}},Sl=a("zLZg"),Al=a("ZpM7"),Rl=a("4aAG"),Ll=function(e){var t=e.label,a=e.setLabel,o=Object(ul.a)().t,c=Object(n.useRef)(null),i=Object(n.useState)(!1),l=s()(i,2),u=l[0],d=l[1],m=Object(n.useState)(!1),p=s()(m,2),f=p[0],b=p[1],v=Object(Al.c)([Tl,Pl,Ml,_l],{label:t,showCustomLabelModal:function(){return d(!0)},setLabel:a});return r.a.createElement(r.a.Fragment,null,r.a.createElement(on.b,{ref:c,"aria-controls":"simple-menu","aria-haspopup":"true",button:!0,gutters:"disabled",onClick:function(){return b(!0)}},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:_t.a})),r.a.createElement(ln.a,{primary:t||o("contactToPlace.noLabel")}),r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:Mn.a}))),r.a.createElement(Sl.a,{ref:c,open:f,actions:v,onClose:function(){return b(!1)}},r.a.createElement(Rl.a,null,r.a.createElement(ln.a,{primary:o("contactToPlace.label"),primaryTypographyProps:{variant:"h6",align:"center"}}))),u&&r.a.createElement(xl,{setLabel:a,onClose:function(){return d(!1)}}))},Il=a("LFaT"),Bl=function(e){var t=e.contact,a=e.setContact,n=e.label,o=e.setLabel,c=e.type,i=Yi().timeserie;return r.a.createElement(r.a.Fragment,null,r.a.createElement(wl,null),r.a.createElement(rn.a,null,r.a.createElement(on.b,{gutters:"disabled"},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:Il.a})),r.a.createElement(ln.a,{primary:_a(i,c),secondary:Pa(i,c)})),r.a.createElement(On.a,{className:"u-ml-3"}),r.a.createElement(fl,{contact:t,setContact:a,setLabel:o}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(On.a,{className:"u-ml-3"}),r.a.createElement(Ll,{label:n,setLabel:o}))))},Gl=a("uol1"),Fl=a("0pj4"),zl=a("aoYa"),Zl=["data"],Ul=function(e){var t,a,o=e.type,c=e.onSuccessMessage,l=e.onClose,u=Object(n.useState)(),d=s()(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),b=s()(f,2),v=b[0],g=b[1],y=Object(n.useState)(),O=s()(y,2),C=O[0],j=O[1],w=Object(ul.a)().t,x=Yi().timeserie,k=function(e){return{definition:Object(h.Q)("io.cozy.contacts").getById(e),options:{as:"".concat("io.cozy.contacts","/").concat(e),fetchPolicy:E.a.fetchPolicies.olderThan(3e4),singleDocData:!0}}}((null===(t=nl(x,o))||void 0===t||null===(a=t.data)||void 0===a?void 0:a._id)||" "),_=Object(h.useQuery)(k.definition,k.options),D=_.data,P=i()(_,Zl),T=Object(h.isQueryLoading)(P);return Object(n.useEffect)((function(){T||void 0!==m||void 0===D||(p(D),j(function(e){var t,a=e.contact,n=e.timeserie,r=e.type;return null===(t=al({contact:a,timeserie:n,type:r}))||void 0===t?void 0:t.address.type}({contact:D,timeserie:x,type:o})))}),[T,m,D,x,o]),r.a.createElement(Hn.a,{open:!0,title:r.a.createElement(r.a.Fragment,null,w("contactToPlace.save".concat(Vi()(o),"Place")),r.a.createElement(Gl.a,{onClickAway:function(){return g(!1)}},r.a.createElement(zl.a,{onClose:function(){return g(!1)},open:v,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:w("contactToPlace.tooltip"),placement:"top-end",arrow:!0},r.a.createElement(cn.a,null,r.a.createElement(Fn.a,{onClick:function(){return g((function(e){return!e}))}},r.a.createElement(an.a,{icon:Fl.a})))))),content:T?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(Bl,{type:o,contact:m,setContact:p,label:C,setLabel:j}),actions:r.a.createElement(dl,{contact:m,fetchedContact:D,type:o,label:C,onSuccessMessage:c,onClose:l}),onClose:l})},ql=a("IW7p"),Yl=a.n(ql),Wl=function(e){var t=e.timeserie,a=e.selectedPurpose,n=e.setContactToPlaceType,r=e.setShowRecurringDialog,o=e.onClose;"COMMUTE"===a?(rl(t,"start")?rl(t,"end")?o():n("end"):n("start"),r(!1)):o()},Hl=function(){var e=j()(x.a.mark((function e(t,a){var n,r,o=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},r=n.fields,e.next=3,t.collection("io.cozy.jobs").create("service",{name:a,slug:"coachco2",fields:r});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Ql(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ql(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Kl=function(){var e=j()(x.a.mark((function e(){var t,a,n,r,o,c,i=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},a=t.client,n=t.timeserie,r=t.purpose,o=t.isRecurringTrip,c=Vl({},n),o&&(c=La(c,r)),c=Ia(c,r,{isRecurringTrip:o}),e.next=6,a.save(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jl=function(){var e=j()(x.a.mark((function e(t){var a,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,n=t.timeserie,r=t.purpose,e.next=3,Kl({client:a,timeserie:n,purpose:r,isRecurringTrip:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xl=function(){var e=j()(x.a.mark((function e(){var t,a,n,r,o,c=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},a=t.client,n=t.timeserie,r=t.purpose,o=t.oldPurpose,e.next=3,Kl({client:a,timeserie:n,purpose:r,isRecurringTrip:!0});case 3:Hl(a,"recurringPurposes",{fields:{docId:n._id,oldPurpose:o}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$l=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.icon,r=a.withDescription,o=a.withInfo,c=a.action,i=a.children,l=a.defaultModes,s=void 0===l?{}:l,u=Object.values(s).some((function(e){return e===t})),d=u?"".concat(e("trips.modes.".concat(t))," (").concat(e("trips.modes.default"),")"):e("trips.modes.".concat(t));return Vl(Vl(Vl(Vl({id:t,title:d,isChecked:!1,icon:ir({attribute:n||t,defaultColor:!0})},r&&{description:Yt(t)}),o&&{info:Yt(t)}),c&&{action:c}),i&&{children:i})},es=a("IW7r"),ts=a("/dlN"),as=function(e){return{children:Ft.map((function(t){return{id:t,title:e("trips.purposes.".concat(t)),icon:r.a.createElement(cr,{attribute:t})}}))}},ns=function(e){var t=e.onSuccessMessage,a=e.onClose,o=Object(n.useState)(),c=s()(o,2),i=c[0],l=c[1],u=Object(n.useState)(!1),d=s()(u,2),m=d[0],p=d[1],f=Object(n.useState)(null),b=s()(f,2),v=b[0],g=b[1],y=Object(ge.e)().t,E=Object(h.useClient)(),O=Yi().timeserie,C=function(){var e=j()(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t.id),p(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=Object(n.useMemo)((function(){return function(e){var t=Oa(O);return t?e.id===t:"OTHER_PURPOSE"===e.id}}),[O]);return m?r.a.createElement(Hn.a,{open:!0,title:y("recurring.confirmDialog.title"),content:y("recurring.confirmDialog.content"),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(ts.a,{theme:"secondary",label:y("recurring.confirmDialog.decline"),onClick:j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jl({client:E,timeserie:O,purpose:v});case 2:Wl({timeserie:O,selectedPurpose:v,setContactToPlaceType:l,setShowRecurringDialog:p,onClose:a});case 3:case"end":return e.stop()}}),e)})))}),r.a.createElement(ts.a,{theme:"primary",label:y("recurring.confirmDialog.confirm"),onClick:j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl({client:E,timeserie:O,purpose:v,oldPurpose:Oa(O)});case 2:Wl({timeserie:O,selectedPurpose:v,setContactToPlaceType:l,setShowRecurringDialog:p,onClose:a});case 3:case"end":return e.stop()}}),e)})))})),onClose:a}):i?r.a.createElement(Ul,{type:i,onSuccessMessage:t,onClose:a}):r.a.createElement(es.a,{title:y("tripEdit.selectPurpose"),onClose:a,onSelect:C,isSelected:w,options:as(y)})},rs=r.a.memo(ns),os=function(e){var t=e.recurring,a=e.setRecurring,n=Object(ge.e)().t;return r.a.createElement(rn.a,null,r.a.createElement(on.b,{button:!0,onClick:function(){return a(!1)}},r.a.createElement(cn.a,null,r.a.createElement(Vr.a,{value:"no",checked:!t})),r.a.createElement(ln.a,{primary:n("recurring.occasionalTrip")})),r.a.createElement(on.b,{button:!0,onClick:function(){return a(!0)}},r.a.createElement(cn.a,null,r.a.createElement(Vr.a,{value:"yes",checked:t})),r.a.createElement(ln.a,{primary:n("recurring.recurringTrip")})))},cs=function(){var e=Object(ge.e)().t,t=Object(ve.b)().isMobile,a=r.a.useState(!1),n=s()(a,2),o=n[0],c=n[1],i=function(){c(!1)};return t?r.a.createElement(rn.a,null,r.a.createElement(on.b,{className:"u-mb-half u-pl-1-half",style:{minHeight:"3rem"}},r.a.createElement(ln.a,{className:"u-pv-0",primary:e("recurring.title"),primaryTypographyProps:{variant:"h6"}}),r.a.createElement(ao.a,null,r.a.createElement(Gl.a,{onClickAway:i},r.a.createElement(zl.a,{onClose:i,open:o,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:e("recurring.tooltip"),placement:"top-end",arrow:!0},r.a.createElement(Fn.a,{onClick:function(){c(!o)}},r.a.createElement(an.a,{icon:Fl.a}))))))):r.a.createElement("div",{className:"u-pt-1"},e("recurring.title"),r.a.createElement(zl.a,{title:e("recurring.tooltip"),placement:"top",arrow:!0},r.a.createElement(Fn.a,null,r.a.createElement(an.a,{icon:Fl.a}))))},is=a("/h+6"),ls=a("epof"),ss=function(e){var t,a,n=e.onClose,o=Object(ve.b)().isMobile,c=Yi().timeserie,i=Object(h.useClient)(),l=Oa(c),s=null!==(t=null==c||null===(a=c.aggregation)||void 0===a?void 0:a.recurring)&&void 0!==t&&t,u=function(){var e=j()(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,Xl({client:i,timeserie:c,purpose:l,oldPurpose:l});case 3:e.next=7;break;case 5:return e.next=7,Jl({client:i,timeserie:c,purpose:l});case 7:n();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(is.a,{onClose:n,backdrop:!0},r.a.createElement(ls.a,{disableGutters:!0,disableElevation:!0},r.a.createElement(cs,null),r.a.createElement(On.a,null),r.a.createElement(os,{recurring:s,setRecurring:u}))):r.a.createElement(Hn.a,{open:!0,onClose:n,disableGutters:!0,title:r.a.createElement(cs,null),content:r.a.createElement(os,{recurring:s,setRecurring:u})})},us=a("bnOl"),ds=a("ee3C"),ms=a("Vc4F"),ps=a("ksij"),fs=a("86gN"),bs=Object(bc.a)((function(e){return{dotStart:{marginTop:"9px"},dot:{marginBottom:"-1px"},connector:{width:"6px",backgroundColor:e.palette.primary.main},item:{marginTop:"-9px",paddingLeft:"11px","&::before":{padding:0,flexGrow:0},cursor:function(e){return e.onClick?"pointer":void 0}},contentWrapper:{display:"flex",marginLeft:"11px"},endLabel:{fontWeight:700}}})),vs=function(e){var t,a=e.label,o=e.endLabel,c=e.type,i=e.onClick,l=bs({onClick:i}),s=Object(n.useMemo)((function(){return"end"!==c}),[c]),u=Object(n.useMemo)((function(){return"start"===c}),[c]);return r.a.createElement(ps.a,{className:l.item,onClick:i},r.a.createElement(fs.a,null,r.a.createElement(ms.a,{className:bn()((t={},d()(t,l.dot,s),d()(t,l.dotStart,u),t)),color:"primary",variant:"outlined"}),s&&r.a.createElement(us.a,{className:l.connector})),r.a.createElement(ds.a,null,r.a.createElement("div",{className:l.contentWrapper},r.a.createElement(un.a,{className:"u-flex-grow-1"},a),r.a.createElement(un.a,{className:l.endLabel,variant:"body2",component:"div"},o))))},gs=r.a.memo(vs),ys=a("2Kpg");function hs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Es(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hs(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Os=function(e){var t,a=e.item,o=e.onClose,c=e.onConfirm,i=Object(n.useState)(!1),l=s()(i,2),u=l[0],m=l[1],p=Object(n.useState)(!1),f=s()(p,2),b=f[0],v=f[1],g=Object(n.useState)(!1),y=s()(g,2),E=y[0],O=y[1],C=Object(ve.b)().isDesktop,w=Object(ge.e)().t,k=Object(h.useClient)(),_=re(),D=Object(h.useQuery)(_.definition,_.options).data,P=null===(t=D[0])||void 0===t?void 0:t.defaultTransportModeByGroup,T=null==P?void 0:P[Ht(a.id)];Object(n.useEffect)((function(){m(T===a.id)}),[P,T,a.id]),Object(n.useEffect)((function(){var e=T&&T===a.id;v(u===!e)}),[T,u,a.id]);var N=function(){var e=j()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,k.save(Es(Es({},D[0]),{},{defaultTransportModeByGroup:Es(Es({},P),{},d()({},Ht(a.id),u?a.id:""))}));case 3:c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(mn.a,{open:!0,title:a.title,size:"large",disableGutters:!0,content:r.a.createElement(rn.a,null,r.a.createElement(on.b,{ellipsis:!1,button:!0,onClick:function(){m((function(e){return!e}))}},r.a.createElement(cn.a,null,r.a.createElement(ys.a,{checked:u})),r.a.createElement(ln.a,{primary:w("Modes.DefaultDialog.primary"),secondary:w("Modes.DefaultDialog.secondary")}))),onClose:o,actions:r.a.createElement("div",{className:bn()("u-flex",{"u-w-100 u-ph-1":!C,"u-p-1":C}),style:{gap:"1rem"}},r.a.createElement(tn.a,{label:w("Modes.DefaultDialog.actions.cancel"),variant:"secondary",onClick:o}),r.a.createElement(tn.a,{label:w("Modes.DefaultDialog.actions.save"),busy:E,onClick:N,disabled:!b}))})},Cs=function(e){var t=e.timeserie,a=e.sectionId,n=e.mode,r=t.series.flatMap((function(e,t){return e.features.flatMap((function(e,n){if(e.features)return e.features.flatMap((function(e,r){if(e.id===a)return{feature:e,serieIndex:t,firstIndex:n,secondIndex:r}}))}))})).find((function(e){return e}));if(r){var o=r.feature,c=r.serieIndex,i=r.firstIndex,l=r.secondIndex,s=at()(Yl()(o),"properties.manual_mode",n);return function(e,t){return e.map((function(e){var a=e.series[0],n=0,r=0,o=0,c=0,i=[],l=t(e).map((function(e){var t={startDate:e.startDate,endDate:e.endDate,CO2:ta(e),calories:aa(e),avgSpeed:e.avgSpeed,duration:e.duration,distance:e.distance,mode:e.mode,id:e.id};return n+=t.CO2,r+=t.distance,o+=t.duration,c+=t.calories,i.push(t.mode),t})),s=Ke()(a,"features[0].properties.display_name"),u=Ke()(a,"features[1].properties.display_name");return fa(fa({},e),{},{aggregation:{totalCO2:n,totalDistance:r,totalDuration:o,totalCalories:c,startPlaceDisplayName:s,endPlaceDisplayName:u,purpose:oa(a)||ca(a),modes:i,sections:l}})}))}([at()(Yl()(t),"series[".concat(c,"].features[").concat(i,"].features[").concat(l,"]"),s)],(function(e){return function(e){var t=e.timeserie,a=e.sectionId,n=e.mode,r=t.aggregation.sections,o=r.find((function(e){return e.id===a})),c=Object.assign({},o,{mode:n});return r.map((function(e){return e.id===a?c:e}))}({timeserie:e,sectionId:a,mode:n})}))[0]}return t},js=function(e){var t=e.item,a=e.onClick;return r.a.createElement(ao.a,null,r.a.createElement(Fn.a,{onClick:function(){return a({item:t})}},r.a.createElement(an.a,{icon:_e.a})))},ws=function(e){var t=e.section,a=e.onClose,o=Object(n.useState)(null),c=s()(o,2),i=c[0],l=c[1],u=Object(ge.e)().t,d=Object(h.useClient)(),m=Yi().timeserie,p=re(),f=Object(h.useQuery)(p.definition,p.options).data,b=Object(n.useMemo)((function(){return(null==f?void 0:f[0])||{}}),[f]),v=null==b?void 0:b.defaultTransportModeByGroup,g=Object(n.useCallback)(function(){var e=j()(x.a.mark((function e(n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs({timeserie:m,sectionId:t.id,mode:n.id}),e.next=3,d.save(r);case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,m,a,t.id]),y=Object(n.useMemo)((function(){return function(e){return e.id===t.mode}}),[t.mode]),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.defaultModes,n=t.action;return{children:[$l(e,"WALKING",{withInfo:!0}),$l(e,"categories.".concat(T.name),{icon:"BICYCLING",children:T.modes.map((function(t){return $l(e,t,{withDescription:!0,action:n,defaultModes:a})}))}),$l(e,"categories.".concat(N.name),{icon:"CAR",children:N.modes.map((function(t){return $l(e,t,{withDescription:!0,action:n,defaultModes:a})}))}),$l(e,"categories.".concat(M.name),{icon:"BUS",children:M.modes.map((function(t){return $l(e,t,{withDescription:!0})}))}),$l(e,P,{withInfo:!0}),$l(e,"UNKNOWN",{withInfo:!0})]}}(u,{defaultModes:v,action:{Component:js,props:{onClick:function(e){var t=e.item;l(t)}}}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(es.a,{title:u("tripEdit.selectMode"),onClose:a,onSelect:g,isSelected:y,options:E,ellipsis:!1}),!!i&&r.a.createElement(Os,{item:i,onClose:function(){return l(null)},onConfirm:a}))},xs=r.a.memo(ws),ks=Object(bc.a)((function(e){return{iconItem:{marginTop:"-14px",cursor:"pointer","&::before":{padding:0,flexGrow:0}},iconDot:{backgroundColor:e.palette.background.paper,borderWidth:"1px",borderColor:e.palette.border.main,margin:0,padding:0,boxShadow:"none"},icon:{color:e.palette.primary.main,backgroundColor:e.palette.background.paper},connector:{width:"6px",backgroundColor:e.palette.primary.main}}})),_s=function(e){var t=e.icon,a=e.label,n=e.endLabel,o=e.onClick,c=ks();return r.a.createElement(ps.a,{className:c.iconItem,onClick:o},r.a.createElement(fs.a,null,r.a.createElement(ms.a,{className:c.iconDot},r.a.createElement(nr.b,{icon:t,className:c.icon,size:32})),r.a.createElement(us.a,{className:c.connector})),r.a.createElement(ds.a,{className:"u-flex"},r.a.createElement(un.a,{className:"u-flex-grow-1",variant:"body2",color:"textSecondary"},a),r.a.createElement(un.a,{className:c.endLabel,variant:"body2",component:"div"},n)))},Ds=r.a.memo(_s),Ps=function(){var e=Yi().timeserie,t=Object(ge.e)(),a=t.t,o=t.f,c=t.lang,i=Object(n.useState)(!1),l=s()(i,2),u=l[0],d=l[1],m=Object(n.useState)(null),p=s()(m,2),f=p[0],b=p[1],v=Object(n.useCallback)((function(e){return function(){b(e),d(!0)}}),[]),g=Object(n.useCallback)((function(){return d(!1)}),[]);return r.a.createElement(r.a.Fragment,null,e.aggregation.sections.map((function(e,t){return r.a.createElement(Ds,{key:t,label:"".concat(a("trips.modes.".concat(e.mode))," - ").concat(Xt(e.duration)," - ").concat(Kt(e.distance)," - ").concat((n=e.avgSpeed,"".concat(Math.round(n)," km/h"))),endLabel:$t({f:o,lang:c,date:new Date(e.endDate)}),icon:Bt(e.mode),onClick:v(e)});var n})),u&&r.a.createElement(xs,{section:f,onClose:g}))},Ts=r.a.memo(Ps),Ns=function(e){var t=e.purpose,a=e.onClick,n=Object(ge.e)().t;return r.a.createElement(on.b,{button:!0,onClick:a},r.a.createElement(cn.a,null,r.a.createElement(cr,{attribute:t})),r.a.createElement(ln.a,{primary:n("purpose"),primaryTypographyProps:{variant:"caption"},secondary:n("trips.purposes.".concat(t)),secondaryTypographyProps:{variant:"body1",color:"textPrimary"}}))};Ns.defaultProps={purpose:"OTHER_PURPOSE"};var Ms=r.a.memo(Ns),Ss=a("JKPP"),As=a("UR0v"),Rs=function(e){var t=e.isRecurringTrip,a=e.purpose,n=e.onClick,o=Object(ge.e)().t;return"OTHER_PURPOSE"===a?null:r.a.createElement(on.b,{button:!0,onClick:n},r.a.createElement(cn.a,null,r.a.createElement(an.a,{icon:As.a})),r.a.createElement(ln.a,{primary:o("recurring.title"),primaryTypographyProps:{variant:"caption"},secondary:o("recurring.".concat(t?"recurringTrip":"occasionalTrip")),secondaryTypographyProps:{variant:"body1",color:"textPrimary"}}))},Ls={divider:{margin:"-10px -32px 10px"}},Is=function(e){var t,a=e.onSuccessMessage,o=Object(ge.e)(),c=o.f,i=o.lang,l=Yi().timeserie,u=Object(ve.b)().isDesktop,d=Object(n.useState)(!1),m=s()(d,2),p=m[0],f=m[1],b=Object(n.useState)(!1),v=s()(b,2),g=v[0],y=v[1],h=Object(n.useState)(""),E=s()(h,2),O=E[0],C=E[1],j=Oa(l),w="COMMUTE"===j,x=null==l||null===(t=l.aggregation)||void 0===t?void 0:t.recurring;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ls.a,{disableGutters:!0,disableElevation:!0},r.a.createElement(Ss.a,{className:"u-pb-0 u-mb-0"},r.a.createElement(gs,{label:xa(l),endLabel:$t({f:c,lang:i,date:ja(l)}),type:"start",onClick:w?function(){return C("start")}:void 0}),r.a.createElement(Ts,null),r.a.createElement(gs,{label:ka(l),endLabel:$t({f:c,lang:i,date:wa(l)}),type:"end",onClick:w?function(){return C("end")}:void 0}))),u&&r.a.createElement(On.a,{style:Ls.divider}),r.a.createElement(ls.a,{disableGutters:!0,disableElevation:!0},r.a.createElement(rn.a,{className:"u-pv-half"},r.a.createElement(Ms,{purpose:j,onClick:function(){return f(!0)}}),p&&r.a.createElement(rs,{onSuccessMessage:a,onClose:function(){return f(!1)}}),r.a.createElement(On.a,{variant:"inset",component:"li"}),r.a.createElement(Rs,{isRecurringTrip:x,purpose:j,onClick:function(){return y(!0)}}),g&&r.a.createElement(ss,{onClose:function(){return y(!1)}}))),!!O&&r.a.createElement(Ul,{type:O,onSuccessMessage:a,onClose:function(){return C("")}}))},Bs=r.a.memo(Is);function Gs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gs(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var zs=function(e){var t=e.title,a=e.value,o=e.highlighted,c=Object(n.useMemo)((function(){return function(e){var t=e.highlighted;return{infoBlock:{backgroundColor:t?"var(--primaryColor)":"none",margin:"0.5rem"},typography:Fs({},t&&{color:"var(--primaryContrastTextColor)"})}}({highlighted:o})}),[o]);return r.a.createElement("div",{style:c.infoBlock,className:"u-h-100 u-flex u-flex-column u-flex-items-center u-flex-justify-center u-flex-grow-1  u-bdrs-4"},r.a.createElement(un.a,{style:c.typography,variant:"caption"},t),r.a.createElement(un.a,{style:c.typography,variant:o?"h6":"body1"},a))},Zs=r.a.memo(zs),Us=function(){var e=Yi().timeserie,t=Object(ge.e)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Zs,{title:t("trips.duration"),value:Na(e)}),r.a.createElement(Zs,{title:t("trips.distance"),value:Ma(e)}),r.a.createElement(Zs,{title:t("trips.calories"),value:Aa(e)}),r.a.createElement(Zs,{title:t("trips.co2"),value:Sa(e),highlighted:!0}))},qs=r.a.memo(Us),Ys=a("bOJc"),Ws=a("l149"),Hs={mediumHeightRatio:.66},Qs=function(e){var t=e.titleRef,a=e.onSuccessMessage,o=Object(n.useState)(0),c=s()(o,2),i=c[0],l=c[1],u=Object(n.useMemo)((function(){return{height:i}}),[i]),d=Object(n.useMemo)((function(){return function(e){var t=e.toolbarHeight;return{mapContainer:{height:"calc(100vh - ".concat(t,"px - var(--sidebarHeight) - env(safe-area-inset-bottom))")}}}({toolbarHeight:i})}),[i]);return Object(n.useEffect)((function(){null!=t&&t.current&&l(t.current.offsetHeight)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"u-w-100 u-pos-fixed",style:d.mapContainer},r.a.createElement(tu,null)),r.a.createElement(is.a,{settings:Hs,toolbarProps:u},r.a.createElement(Ws.a,{className:"u-h-3 u-pb-half"},r.a.createElement(qs,null)),r.a.createElement(Bs,{onSuccessMessage:a})))},Vs=r.a.memo(Qs),Ks=a("CUq/"),Js=a("8IOV"),Xs=a.n(Js),$s=function(){var e=Object(n.useRef)(),t=Object(ve.b)().isMobile,a=Object(rr.a)(),o=Yi().timeserie,c=Object(bl.a)(),i=Object(n.useMemo)((function(){return function(e){return{style:function(t){return{weight:"section"===t.properties.feature_type?5:2,color:e.palette.primary.main}},pointToLayer:function(e,t){return Ks.f.marker(t,{icon:Ks.f.divIcon({html:"<div></div>",iconSize:[12,12],className:"".concat(Xs.a["cozy-leaflet-markers"]," ").concat("end_place"===e.properties.feature_type?"".concat(Xs.a["cozy-leaflet-markers-end"]):"".concat(Xs.a["cozy-leaflet-markers-start"]))})})},markerIcon:function(e,t){return Ks.f.marker(e,{icon:Ks.f.divIcon({html:"".concat(t())})})}}}(a)}),[a]),l=i.pointToLayer,s=i.style,u=Object(n.useMemo)((function(){return t?Hs.mediumHeightRatio:0}),[t]);return Object(n.useEffect)((function(){var t=e.current.getBounds(),a=[16,16],n=[16,16+c.getSize().y*u];c.fitBounds(t,{paddingTopLeft:a,paddingBottomRight:n})}),[c,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(vl.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'¬© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(Ys.a,{ref:e,data:Ta(o),pointToLayer:l,style:s}))},eu=[51.505,-.09],tu=function(){return r.a.createElement(yl.a,{className:"u-h-100",center:eu,zoom:13},r.a.createElement($s,null))},au={map:{height:"400px",margin:"-24px -32px 0"},divider:{margin:"10px -32px 25px"}},nu=function(e){var t=e.onSuccessMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:au.map},r.a.createElement(tu,null)),r.a.createElement("div",{className:"u-mt-1 u-h-3 u-flex u-flex-items-center u-pb-half"},r.a.createElement(qs,null)),r.a.createElement(On.a,{style:au.divider}),r.a.createElement(Bs,{onSuccessMessage:t}))},ru=function(e){var t=e.onSuccessMessage,a=Object(ge.e)().f,n=Object(Ce.i)().timeserieId,o=Yi().timeserie,c=Object(Ce.g)().pathname,i=Object(Ce.h)();return r.a.createElement(mn.a,{open:!0,size:"large",title:r.a.createElement(r.a.Fragment,null,ka(o),r.a.createElement(un.a,{className:"u-mt-half",variant:"caption"},Ra(o,a))),content:r.a.createElement(nu,{onSuccessMessage:t}),onClose:function(){return i(c.split("/".concat(n))[0])}})},ou=r.a.memo(ru),cu=function(e){var t=e.onSuccessMessage,a=Object(ge.e)().f,o=Object(Ce.i)().timeserieId,c=Yi().timeserie,i=Object(Ce.g)().pathname,l=Object(Ce.h)(),s=Object(n.useRef)(null);return r.a.createElement(mn.a,{open:!0,transitionDuration:0,disableGutters:!0,title:r.a.createElement(r.a.Fragment,null,ka(c),r.a.createElement(un.a,{className:"u-mt-half",variant:"caption",align:"center"},Ra(c,a))),titleRef:s,content:r.a.createElement(Vs,{titleRef:s,onSuccessMessage:t}),onBack:function(){return l(i.split("/".concat(o))[0])}})},iu=r.a.memo(cu),lu=["data"],su=function(){var e=Object(n.useState)(""),t=s()(e,2),a=t[0],o=t[1],c=Object(ve.b)().isMobile,l=Object(Ce.g)().pathname,u=function(e){return{definition:Object(h.Q)(m).getById(e).include(["startPlaceContact","endPlaceContact"]),options:{as:"".concat(m,"/").concat(e),fetchPolicy:E.a.fetchPolicies.olderThan(3e4),singleDocData:!0}}}(Object(n.useMemo)((function(){return l.split("/").pop()}),[l])),d=Object(h.useQuery)(u.definition,u.options),p=d.data,f=i()(d,lu);return Object(h.isQueryLoading)(f)?r.a.createElement(Lr.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-1"}):r.a.createElement(Hi,{timeserie:p},c?r.a.createElement(iu,{onSuccessMessage:o}):r.a.createElement(ou,{onSuccessMessage:o}),r.a.createElement(Ui,{message:a,onClose:function(){return o("")}}))},uu=r.a.memo(su),du=a("PKog"),mu={minHeight:"48px",display:"flex",alignItems:"center"},pu=function(){var e=Object(ge.e)().t,t=Object(rr.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(On.a,null),r.a.createElement(sn.a,{style:mu,className:"u-ph-1-s u-ph-2",square:!0,elevation:0},r.a.createElement(an.a,{className:"u-mr-half",icon:vn.a,color:"var(--primaryColor)",size:8}),r.a.createElement(un.a,{className:"u-mr-1",display:"inline",variant:"caption",color:"textPrimary"},e("vericalBarChart.legend.yours")),r.a.createElement(an.a,{className:"u-mr-half",icon:vn.a,color:Object(du.a)(t.palette.primary.main,.24),size:8}),r.a.createElement(un.a,{display:"inline",variant:"caption",color:"textPrimary"},e("vericalBarChart.legend.average"))))},fu=a("HO4k"),bu=a("DmLS");fu.f.register(fu.e,fu.i,fu.c,fu.n),fu.f.defaults.font={family:"Lato, sans-serif",size:"11",weight:"700"};var vu=function(e){var t=e.className,a=e.title,n=e.data,o=e.options,c=e.width,i=e.height,l=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,{className:"u-mt-1 u-ml-1",variant:"h5"},a),r.a.createElement("div",{style:{width:c,height:i}},r.a.createElement(bu.a,{className:t,width:c,height:i,options:o,data:n})),l)},gu=function(e){var t=e.theme,a=e.isMobile,n=e.oneYearOldTimeseries,r=e.sendToDACC,o=e.globalAverages,c=e.f,i=e.t,l=function(e,t){var a=new Date,n=Array.from({length:12},(function(e,t){return Object(_.a)(Object(We.a)(a,t))})).reverse();return{months:n.map((function(e){return t(e,"MMM").toUpperCase()})),CO2s:n.map((function(t,a){var r=a===n.length-1,o=e.filter((function(e){return new Date(e.startDate)>=t&&(!!r||new Date(e.startDate)<n[a+1])})),c=ct()(o,"aggregation.totalCO2");return Math.round(100*c)/100}))}}(n,c),s=l.months,u=l.CO2s,d={labels:s,datasets:[{label:i("vericalBarChart.legend.yours"),backgroundColor:t.palette.primary.main,borderRadius:a?8:4,barThickness:a?r?6:8:24,data:u}]};return r&&d.datasets.push({label:i("vericalBarChart.legend.average"),backgroundColor:Object(du.a)(t.palette.primary.main,.24),borderRadius:a?8:4,barPercentage:a?.55:.85,data:Ua()("coachco2.fake-dacc-datas.enabled")?u:o}),d};a("NhwE"),a("8tKC");var yu=h.models.dacc,hu=(yu.sendMeasureToDACC,yu.fetchAggregatesFromDACC),Eu=function(){return!0===Ua()("coachco2.dacc-dev_v2")?"cc.cozycloud.dacc.dev_v2":"cc.cozycloud.dacc_v2"},Ou=function(){var e=j()(x.a.mark((function e(t){var a,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Eu(),n=Object(ri.a)(Object(_.a)(Object(We.a)(Date.now(),11)),"yyyy-MM-dd"),e.next=5,hu(t,a,{measureName:"co2-emissions-monthly",startDate:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),mt()("error","Error while retrieving data from remote-doctype: ".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Cu=function(e){var t=Object(h.useClient)(),a=Object(n.useState)(!1),r=s()(a,2),o=r[0],c=r[1],i=Object(n.useState)(null),l=s()(i,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){e&&function(){var e=j()(x.a.mark((function e(){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,Ou(t);case 3:a=e.sent,n=(null==a?void 0:a.length)>0?a.map((function(e){return e.avg})):null,c(!1),d(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,e]),{isLoading:o,data:u}},ju=["data"];function wu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ku=function(){var e,t,a=Object(ge.e)(),n=a.t,o=a.f,c=Object(rr.a)(),l=Object(ve.b)().isMobile,s=le().account,u=Wn("CO2Emission.sendToDACC"),d=u.isLoading,p=u.value,f=void 0!==p&&p,b=(e=null==s?void 0:s._id,t=Object(_.a)(Object(D.a)(new Date,1)),{definition:Object(h.Q)(m).where({"cozyMetadata.sourceAccount":e,startDate:{$gte:t.toISOString()}}).partialIndex({aggregation:{$exists:!0}}).select(["startDate","endDate","aggregation","cozyMetadata.sourceAccount"]).indexFields(["cozyMetadata.sourceAccount","startDate"]).sortBy([{"cozyMetadata.sourceAccount":"asc"},{startDate:"asc"}]).limitBy(1e3),options:{as:"".concat(m,"/sourceAccount/").concat(e,"/withAggregation/fromDate/").concat(t.getFullYear(),"-").concat(t.getMonth()),fetchPolicy:E.a.fetchPolicies.olderThan(3e4)}}),v=Object(h.useQueryAll)(b.definition,xu(xu({},b.options),{},{enabled:Boolean(s)})),g=v.data,y=i()(v,ju),O=Cu(f).data;if(!s||Object(h.isQueryLoading)(y)||y.hasMore||0===g.length)return null;var C=!d&&f,j=function(e){return{maintainAspectRatio:!1,scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{color:e.palette.text.secondary}},y:{grid:{color:e.palette.border.main,drawBorder:!1},ticks:{color:e.palette.text.secondary,callback:function(e,t){return t%2==0?"".concat(e," kg"):""}}}},plugins:{tooltip:{displayColors:!1}}}}(c),w=gu({theme:c,isMobile:l,oneYearOldTimeseries:g,sendToDACC:f,globalAverages:O,f:o,t:n});return r.a.createElement(vu,{className:"u-mt-1 u-ph-half-s u-ph-2",title:n("vericalBarChart.title"),height:"190px",data:w,options:j},C&&r.a.createElement(pu,null))},_u=a("33AU"),Du=a("N0Ji"),Pu=function(e){var t=e.onDiscard,a=e.onAccept,n=Object(ge.e)().t;return r.a.createElement(_u.a,{className:"u-mh-half-s u-mh-2 u-mb-half-s u-mb-1 u-mt-0-s u-mt-1 u-bdrs-4 u-pv-half u-pr-half",text:n("dacc.tripsCard.label"),icon:r.a.createElement(an.a,{className:"u-ml-1",style:{marginTop:12,color:"var(--primaryColor)"},icon:Du.a,size:16}),buttonOne:r.a.createElement(tn.a,{variant:"text",label:n("dacc.tripsCard.discard"),onClick:t}),buttonTwo:r.a.createElement(tn.a,{variant:"text",label:n("dacc.tripsCard.accept"),onClick:a}),bgcolor:"#EAF3FF",disableIconStyles:!0})};Pu.propTypes={onDiscard:ze.a.func.isRequired,onAccept:ze.a.func.isRequired};var Tu=Pu,Nu=new Pr.a({id:"dacc-compare_095afa7eb600270496978dbb605e6b2d",use:"dacc-compare_095afa7eb600270496978dbb605e6b2d-usage",viewBox:"0 0 200 136",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 136" id="dacc-compare_095afa7eb600270496978dbb605e6b2d"><path fill="#fff" d="M0 0h200v136H0z" /><path d="M161 14.592c-1.888.222-7.568-.664-15.182-5.982-9.518-6.647-13.847-8.724-22.434-4.183C115 8.86 115.227 23.012 115 27M165.844 92c5.431-3.51 16.097-12.334 15.315-19.554-.977-9.025-12.708-11.282-22.81-10.78-10.101.501-17.596 4.512-28.349 1.504M23.495 72c-.329 4.729-2.425 21.765 5.479 27.308 9.88 6.928 23.668-1.244 30.831-5.203C66.97 90.146 79.072 83.217 85 85.527" stroke="#B2D3FF" stroke-width="4" stroke-linecap="round" /><path fill-rule="evenodd" clip-rule="evenodd" d="M62 118a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm.968-10.899c1.777.371 3.182 1.857 3.472 3.649a4.507 4.507 0 0 1-2.828 4.953l-.112.039V117h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L62 113a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.399Z" fill="#38D1D3" /><circle cx="100" cy="64" fill="#297EF2" r="48" /><path fill-rule="evenodd" clip-rule="evenodd" d="M120.91 37.605a2.166 2.166 0 0 1 .235 3.055l-13 15.167a2.166 2.166 0 0 1-2.33.645L93.96 52.52 81.887 62.581a2.167 2.167 0 0 1-2.774-3.329l13-10.833a2.167 2.167 0 0 1 2.072-.391l11.618 3.873 12.052-14.061a2.166 2.166 0 0 1 3.055-.235Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M119.5 42.5a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5Zm-26 10.833a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5Zm-13 10.834a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5Zm29.25-9.75a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0ZM117.167 53.333a2 2 0 0 0-2 2V86a2 2 0 0 0 2 2h4.666a2 2 0 0 0 2-2V55.333a2 2 0 0 0-2-2h-4.666Zm-26 10.834a2 2 0 0 0-2 2V86a2 2 0 0 0 2 2h4.666a2 2 0 0 0 2-2V66.167a2 2 0 0 0-2-2h-4.666ZM78.167 75a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h4.666a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-4.666Zm24-4.5a2 2 0 0 1 2-2h4.666a2 2 0 0 1 2 2V86a2 2 0 0 1-2 2h-4.666a2 2 0 0 1-2-2V70.5Z" fill="#fff" /><path fill-rule="evenodd" clip-rule="evenodd" d="M43 21a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5Zm1.452-16.349c2.666.557 4.773 2.786 5.208 5.474a6.76 6.76 0 0 1-4.242 7.43l-.168.058V19.5h-4.5v-3.75c0-1.17.893-2.13 2.034-2.24L43 13.5a2.25 2.25 0 1 0-2.24-2.468l-.01.218h-4.5a6.758 6.758 0 0 1 8.202-6.599Z" fill="#72E7E9" /><path fill-rule="evenodd" clip-rule="evenodd" d="M69 19a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.249 2.249 0 0 1 1.736 1.825 2.253 2.253 0 0 1-1.414 2.476l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L69 16.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M46 42a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.249 2.249 0 0 1 1.736 1.825 2.253 2.253 0 0 1-1.414 2.476l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L46 39.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2ZM20 14a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.249 2.249 0 0 1 1.736 1.825 2.253 2.253 0 0 1-1.414 2.476l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L20 11.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#D3FEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M26 33a1.125 1.125 0 1 1 0 2.25A1.125 1.125 0 0 1 26 33Zm.726-8.174c1.333.278 2.387 1.392 2.604 2.736a3.38 3.38 0 0 1-2.12 3.715l-.085.03v.943h-2.25v-1.875c0-.584.447-1.065 1.017-1.12L26 29.25a1.125 1.125 0 1 0-1.12-1.234l-.005.109h-2.25a3.38 3.38 0 0 1 4.101-3.3Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M39 116.5a.938.938 0 1 1 0 1.876.938.938 0 0 1 0-1.876Zm.605-6.812a2.811 2.811 0 0 1 2.17 2.281 2.816 2.816 0 0 1-1.767 3.095l-.07.025v.786h-1.875v-1.563c0-.487.372-.887.847-.933l.09-.004a.937.937 0 1 0-.933-1.028l-.004.09h-1.875c0-1.75 1.6-3.128 3.417-2.749Z" fill="#9EEEF0" /><path fill-rule="evenodd" clip-rule="evenodd" d="M46 90a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.249 2.249 0 0 1 1.736 1.825 2.253 2.253 0 0 1-1.414 2.476l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L46 87.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M184 99a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm.968-10.9c1.777.372 3.182 1.858 3.472 3.65a4.507 4.507 0 0 1-2.828 4.953l-.112.039V98h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L184 94a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.4Z" fill="#9EEEF0" /><path fill-rule="evenodd" clip-rule="evenodd" d="M191 64a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25Zm.726-8.174c1.333.278 2.387 1.392 2.604 2.736a3.38 3.38 0 0 1-2.121 3.715l-.084.03v.943h-2.25v-1.875c0-.584.447-1.065 1.017-1.12l.108-.005a1.125 1.125 0 1 0-1.12-1.234l-.005.109h-2.25a3.38 3.38 0 0 1 4.101-3.3Z" fill="#D3FEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M134 18a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25Zm.726-8.174c1.333.278 2.387 1.392 2.604 2.736a3.38 3.38 0 0 1-2.121 3.715l-.084.03v.943h-2.25v-1.875c0-.585.447-1.065 1.017-1.12l.108-.005a1.125 1.125 0 1 0-1.12-1.234l-.005.109h-2.25a3.38 3.38 0 0 1 4.101-3.3Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M118 119a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.252 2.252 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747l.072-.003a.75.75 0 1 0-.746-.823l-.004.073h-1.5a2.253 2.253 0 0 1 2.734-2.2ZM153 55a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.253 2.253 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L153 52.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#D3FEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M81 118a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.25 2.25 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L81 115.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5a2.253 2.253 0 0 1 2.734-2.2Z" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M177 124a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.252 2.252 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747l.072-.003a.75.75 0 1 0-.746-.823l-.004.073h-1.5a2.253 2.253 0 0 1 2.734-2.2Z" fill="#D3FEFF" /><path fill-rule="evenodd" clip-rule="evenodd" d="M164 75a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm.484-5.45a2.253 2.253 0 0 1 .322 4.301l-.056.02v.629h-1.5v-1.25c0-.39.298-.71.678-.747L164 72.5a.75.75 0 1 0-.746-.823l-.004.073h-1.5c0-1.4 1.28-2.503 2.734-2.2Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M92 8.5a.937.937 0 1 1 0 1.875.937.937 0 0 1 0-1.875Zm.605-6.812a2.81 2.81 0 0 1 2.17 2.28 2.817 2.817 0 0 1-1.767 3.096l-.07.025v.786h-1.875V6.312c0-.487.372-.887.847-.933l.09-.004a.937.937 0 1 0-.933-1.028l-.004.09h-1.875c0-1.75 1.6-3.128 3.417-2.749Z" fill="#72E7E9" /><circle cx="148" cy="104" r="24" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M148 106c-4.418 0-8-4.029-8-9 0-4.97 3.582-9 8-9s8 4.03 8 9c0 4.971-3.582 9-8 9Zm-16 10c0-2 4-8 8-8s2 2 8 2 4-2 8-2 8 6 8 8 0 4-2 4h-28c-2 0-2-2-2-4Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M148 101a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 148 101Zm.968-10.9c1.777.372 3.182 1.858 3.472 3.65a4.507 4.507 0 0 1-2.828 4.953l-.112.039V100h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L148 96a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.4Z" fill="#fff" /><circle cx="148" cy="104" r="20" stroke="#B9F6F7" stroke-width="8" /><circle cx="24" cy="65" r="24" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M24 67c-4.418 0-8-4.03-8-9s3.582-9 8-9 8 4.03 8 9-3.582 9-8 9ZM8 77c0-2 4-8 8-8s2 2 8 2 4-2 8-2 8 6 8 8 0 4-2 4H10c-2 0-2-2-2-4Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M24 62a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm.968-10.9c1.777.372 3.182 1.858 3.472 3.65a4.507 4.507 0 0 1-2.828 4.953l-.112.039V61h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L24 57a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.4Z" fill="#fff" /><circle cx="24" cy="65" r="20" stroke="#B9F6F7" stroke-width="8" /><circle cx="172" cy="28" r="24" fill="#B9F6F7" /><path fill-rule="evenodd" clip-rule="evenodd" d="M172 30c-4.418 0-8-4.03-8-9s3.582-9 8-9 8 4.03 8 9-3.582 9-8 9Zm-16 10c0-2 4-8 8-8s2 2 8 2 4-2 8-2 8 6 8 8 0 4-2 4h-28c-2 0-2-2-2-4Z" fill="#38D1D3" /><path fill-rule="evenodd" clip-rule="evenodd" d="M172 25a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm.968-10.9c1.777.372 3.182 1.858 3.472 3.65a4.507 4.507 0 0 1-2.828 4.953l-.112.039V24h-3v-2.5a1.5 1.5 0 0 1 1.356-1.493L172 20a1.5 1.5 0 1 0-1.493-1.645l-.007.145h-3a4.506 4.506 0 0 1 5.468-4.4Z" fill="#fff" /><circle cx="172" cy="28" r="20" stroke="#B9F6F7" stroke-width="8" /><path d="M66.418 133.29a81.818 81.818 0 0 0 16.142 2.244c16.166.948 38.758.424 48.325-1.346 9.567-1.771 10.083-4.465-14.448-5.812-20.925-1.147-45.26.474-50.362 2.894-1.52.648-1.447 1.371.343 2.02Z" fill="#BBD9FD" /></symbol>'}),Mu=(Nr.a.add(Nu),Nu),Su=function(e){var t=e.open,a=e.onClose,n=e.showDaccPermissionsDialog,o=Object(ge.e)().t;return r.a.createElement(Hn.a,{open:t,onClose:a,content:r.a.createElement("div",{className:"u-ta-center"},r.a.createElement(an.a,{className:"u-mv-1",icon:Mu,width:200,height:136}),r.a.createElement(un.a,{variant:"h3"},o("dacc.compareDialog.title")),r.a.createElement(un.a,{className:"u-mt-1"},o("dacc.compareDialog.primaryText")),r.a.createElement(un.a,{className:"u-mt-1"},o("dacc.compareDialog.secondaryText"))),actions:r.a.createElement(tn.a,{label:o("dacc.compareDialog.action"),onClick:n})})};Su.propTypes={open:ze.a.bool.isRequired,onClose:ze.a.func.isRequired,showDaccPermissionsDialog:ze.a.func.isRequired};var Au=Su;function Ru(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ru(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Iu=function(){var e=Object(ge.e)().t,t=Object(n.useState)(!1),a=s()(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),l=s()(i,2),u=l[0],d=l[1],m=Wn("CO2Emission"),p=m.isLoading,f=m.value,b=void 0===f?{}:f,v=m.save;if(p)return null;var g=b.showAlert,y=void 0===g||g,h=b.sendToDACC,E=void 0!==h&&h;return r.a.createElement(r.a.Fragment,null,y&&!E&&r.a.createElement(Tu,{onDiscard:function(){v(Lu(Lu({},b),{},{showAlert:!1}))},onAccept:function(){return c(!0)}}),r.a.createElement(Au,{open:o,onClose:function(){return c(!1)},showDaccPermissionsDialog:function(){c(!1),d(!0)}}),u&&r.a.createElement(Oo,{onClose:function(){return d(!1)},onRefuse:function(){return d(!1)},onAccept:function(){v(Lu(Lu({},b),{},{showAlert:!1,sendToDACC:!0})),d(!1)},componentProps:{DaccPermissionsDialog:{sharedDataLabel:e("dacc.permissionsDialog.anonymized_emissions")}}}))};Iu.propTypes={};var Bu=Iu,Gu=a("IJzH"),Fu=function(e){var t=e.onDiscard,a=e.onParticipate,n=Object(ge.e)().t;return r.a.createElement(zi.a,{className:"u-mh-1-s u-mh-2 u-mb-1 u-flex-items-start",block:!0,icon:r.a.createElement(an.a,{icon:Du.a}),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(tn.a,{variant:"text",label:n("bikeGoal.alert.actions.discard"),onClick:t}),r.a.createElement(tn.a,{variant:"text",label:n("bikeGoal.alert.actions.participate"),onClick:a}))},r.a.createElement(Gu.a,null,n("bikeGoal.alert.title",{bountyAmount:Ya()})),n("bikeGoal.alert.text",{bountyAmount:Ya(),daysToReach:qa()}))};Fu.propTypes={onDiscard:ze.a.func,onParticipate:ze.a.func};var zu=Fu,Zu=function(){var e=Object(Ce.h)(),t=Wn("bikeGoal.showAlert"),a=t.isLoading,n=t.value,o=void 0===n||n,c=t.save;return a||o?r.a.createElement(zu,{onParticipate:function(){e("bikegoalonboarding")},onDiscard:function(){c(!1)}}):null},Uu=function(){var e=Object(ge.e)().t,t=Object(Ce.h)(),a=Wn("bikeGoal.showAlertSuccess").save;return r.a.createElement(zi.a,{className:"u-mh-1-s u-mh-2 u-mb-1 u-flex-items-start",block:!0,severity:"success",action:r.a.createElement(tn.a,{variant:"text",color:"success",label:e("bikeGoal.alert.success.action",{bountyAmount:Ya()}),onClick:function(){a(!1);var e=(new Date).getFullYear().toString();t("".concat(e,"/certificate/generate"))}})},e("bikeGoal.alert.success.text"))},qu=["data"],Yu=["data"],Wu={paper:{gap:"1rem"},div:{height:65}},Hu=function(){var e,t=Object(ge.e)().t,a=Object(Ce.h)(),n=le(),o=n.account,c=n.isAccountLoading,l=re(),s=Object(h.useQuery)(l.definition,l.options),u=s.data,d=i()(s,qu),m=Object(h.isQueryLoading)(d),p=ae({accountId:null==o?void 0:o._id},Boolean(o)),f=Object(h.useQueryAll)(p.definition,p.options),b=f.data,v=i()(f,Yu),g=Object(h.isQueryLoading)(v)||v.hasMore;if(c||g||m)return r.a.createElement(sn.a,{elevation:2,className:"u-flex u-flex-items-center u-mh-1-s u-mh-2 u-mb-1 u-flex-items-start"},r.a.createElement(Lr.a,{size:"xlarge",className:"u-m-1"}));var y=(new Date).getFullYear().toString(),E=za(b,y),O=!(null==u||null===(e=u[0].bikeGoal)||void 0===e||!e.sendToDACC);return r.a.createElement(r.a.Fragment,null,r.a.createElement(sn.a,{elevation:2,className:"u-flex u-flex-items-start-s u-flex-items-center u-mh-1-s u-mh-2 u-mb-1 u-p-1 u-c-pointer",style:Wu.paper,onClick:function(){return a("/bikegoal/".concat(y,"/trips"))}},r.a.createElement("div",{style:Wu.div},r.a.createElement(Xa,{timeseries:E,sendToDACC:O,size:"small"})),r.a.createElement("div",null,r.a.createElement(un.a,{variant:"h6"},t("bikeGoal.title")),O?r.a.createElement(jn,{timeseries:E}):r.a.createElement(xn,{timeseriesByYear:E,variant:"caption",preLine:!0}))))},Qu=["data"],Vu=["data"],Ku={divider:{height:"12px",backgroundColor:"var(--defaultBackgroundColor)"}},Ju=function(){var e,t,a=Object(ge.e)().t,n=Object(ve.b)().isMobile,o=le(),c=o.account,l=o.isAccountLoading,s=re(),u=Object(h.useQuery)(s.definition,s.options),d=u.data,m=i()(u,Qu),p=ae({accountId:null==c?void 0:c._id},Boolean(c)),f=Object(h.useQueryAll)(p.definition,p.options),b=f.data,v=i()(f,Vu),g=Object(h.isQueryLoading)(v)||v.hasMore;if(Object(h.isQueryLoading)(m)||(l||g))return null;var y=(new Date).getFullYear().toString(),E=za(b,y),O=null!==(e=null==d||null===(t=d[0])||void 0===t?void 0:t.bikeGoal)&&void 0!==e?e:{},C=O.activated,j=void 0!==C&&C,w=O.showAlert,x=void 0===w||w,k=O.showAlertSuccess,_=void 0===k?Ha(E):k;return j||x?r.a.createElement(r.a.Fragment,null,r.a.createElement(un.a,{className:"u-mb-1-s u-mt-1 u-mb-1-s u-mb-2 u-ml-1",variant:"h5"},a("bikeGoal.goals")),x&&r.a.createElement(Zu,null),j&&r.a.createElement(r.a.Fragment,null,_&&r.a.createElement(Uu,null),r.a.createElement(Hu,null)),n&&r.a.createElement(On.a,{style:Ku.divider})):null},Xu=["data"];function $u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ed(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var td={divider:{height:"12px",backgroundColor:"var(--defaultBackgroundColor)"}},ad=function(){var e=le(),t=e.account,a=e.isAccountLoading,n=Object(ge.e)().t,o=Object(ve.b)().isMobile,c=ee({accountId:null==t?void 0:t._id,limitBy:50}),l=Object(h.useQuery)(c.definition,ed(ed({},c.options),{},{enabled:Boolean(t)})),s=l.data,u=i()(l,Xu),d=Object(h.isQueryLoading)(u)&&!Object(h.hasQueryBeenLoaded)(u);return a||!t||d||0===s.length?r.a.createElement(Br,{account:t,isAccountLoading:a,isQueryLoading:d,timeseries:s}):r.a.createElement(r.a.Fragment,null,r.a.createElement(xr,{label:n("trips.from")+" "+se(t)}),Ua()("coachco2.bikegoal.enabled")&&r.a.createElement(Ju,null),r.a.createElement(ku,null),r.a.createElement(Bu,null),o&&r.a.createElement(On.a,{style:td.divider}),r.a.createElement(vr,{timeseries:s}),u.hasMore&&r.a.createElement(gr.a,{label:n("loadMore"),fetchMore:u.fetchMore}))},nd=function(e){var t=e.Component;return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,null),r.a.createElement(Ce.b,null))},rd=function(){var e=(new Date).getFullYear();return r.a.createElement(je.a,null,r.a.createElement(Ce.e,null,r.a.createElement(Ce.c,{path:"/",element:r.a.createElement(Re,null)},r.a.createElement(Ce.c,{path:"trips",element:r.a.createElement(nd,{Component:ad})},r.a.createElement(Ce.c,{path:":year/certificate/generate",element:r.a.createElement(pn,null)}),r.a.createElement(Ce.c,{path:":timeserieId",element:r.a.createElement(uu,null)}),Ua()("coachco2.bikegoal.enabled")&&r.a.createElement(Ce.c,{path:"bikegoalonboarding",element:r.a.createElement($o,null)})),r.a.createElement(Ce.c,{path:"settings",element:r.a.createElement(nd,{Component:Fi})},Ua()("coachco2.bikegoal.enabled")&&r.a.createElement(Ce.c,{path:"bikegoalonboarding",element:r.a.createElement($o,null)})),r.a.createElement(Ce.c,{path:"analysis/modes",element:r.a.createElement(nd,{Component:Uc})}),r.a.createElement(Ce.c,{path:"analysis/modes/:mode",element:r.a.createElement(nd,{Component:Uc})},r.a.createElement(Ce.c,{path:":timeserieId",element:r.a.createElement(uu,null)})),r.a.createElement(Ce.c,{path:"analysis/purposes",element:r.a.createElement(nd,{Component:Hc})}),r.a.createElement(Ce.c,{path:"analysis/purposes/:purpose",element:r.a.createElement(nd,{Component:Hc})},r.a.createElement(Ce.c,{path:":timeserieId",element:r.a.createElement(uu,null)})),Ua()("coachco2.bikegoal.enabled")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.c,{path:"bikegoal/:year/trips",element:r.a.createElement(nd,{Component:zr})},r.a.createElement(Ce.c,{path:":timeserieId",element:r.a.createElement(uu,null)}),r.a.createElement(Ce.c,{path:"edit",element:r.a.createElement(io,null)}),r.a.createElement(Ce.c,{path:"about",element:r.a.createElement(Zr,null)}),r.a.createElement(Ce.c,{path:"certificate/generate",element:r.a.createElement(pn,null)}))),r.a.createElement(Ce.c,{path:"analysis",element:r.a.createElement(Ce.a,{replace:!0,to:"/analysis/modes"})}),Ua()("coachco2.bikegoal.enabled")&&r.a.createElement(Ce.c,{path:"bikegoal",element:r.a.createElement(Ce.a,{replace:!0,to:"/bikegoal/".concat(e,"/trips")})}),r.a.createElement(Ce.c,{path:"/",element:r.a.createElement(Ce.a,{replace:!0,to:"/trips"})}),r.a.createElement(Ce.c,{path:"*",element:r.a.createElement(Ce.a,{replace:!0,to:"/trips"})}))))},od=a("8Bbg"),cd=function(e,t){return/^\{\{\..*\}\}$/.test(e)?t:e},id=function(e){var t=e.app,n=e.locale,r={appIconDefault:a("J3iu"),appNamePrefixDefault:Xc.a.name_prefix,appNameDefault:Xc.a.name,appLocaleDefault:"en"};return{appName:cd(t.name,r.appNameDefault),appNamePrefix:cd(t.prefix,r.appNamePrefixDefault),iconPath:cd(t.icon,r.appIconDefault),lang:cd(n,r.appLocaleDefault)}},ld=a("+s1f"),sd=a("8XZk"),ud=ra()((function(){var e,t,n,r,o=document.querySelector("[role=application]"),c=id(JSON.parse(o.dataset.cozy)),i=c.lang,l=c.appName,s=Object(sd.a)(i,(function(e){return a("eUFy")("./".concat(e))})),u=(e=document.querySelector("[role=application]"),t=JSON.parse(e.dataset.cozy),n=window.location.protocol,r="".concat(n,"//").concat(t.domain),new E.a({uri:r,token:t.token,appMetadata:{slug:Xc.a.name,version:Xc.a.version},schema:f,store:!1}));return u.registerPlugin(Ua.a.plugin),u.registerPlugin(ld.RealtimePlugin),function(e){var t=e.client,a=e.container,n=e.lang,r=e.appName,o=id(JSON.parse(a.dataset.cozy)),c=o.appNamePrefix,i=o.iconPath;cozy.bar.init({appName:r,appNamePrefix:c,cozyClient:t,iconPath:i,lang:n,replaceTitleOnMobile:!1})}({client:u,container:o,lang:i,appName:l}),{container:o,client:u,lang:i,polyglot:s}}));Object(od.a)(),document.addEventListener("DOMContentLoaded",(function(){var e,t,a,n,c;e=ud(),t=e.container,a=e.client,n=e.lang,c=e.polyglot,Object(o.createRoot)(t).render(r.a.createElement(Oe,{client:a,lang:n,polyglot:c},r.a.createElement(rd,null)))}))}});